(function(){var c6e=NEJ.P,bd6X=NEJ.O,fE7x=NEJ.R,a5f=c6e("nej.e"),h6b=c6e("nej.v"),P6J=c6e("nej.ut"),Do8g;if(!!P6J.bdL7E)return;P6J.bdL7E=NEJ.C();Do8g=P6J.bdL7E.M6G(P6J.cP6J);Do8g.cy6s=function(){this.lm4q={onchange:this.gw7p.f6b(this),ondragend:this.gw7p.eN7G(this,!0)};this.cD6x()};Do8g.bn6h=function(e6c){this.bp6j(e6c);this.lm4q.view=a5f.A6u(e6c.track);this.lm4q.body=a5f.A6u(e6c.slide);this.lm4q.mbar=this.lm4q.view;this.ww7p(e6c.range);this.bY6S([[this.lm4q.view,"mousedown",this.cor3x.f6b(this)]]);this.jq4u=P6J.wv7o.B6v(this.lm4q)};Do8g.bC6w=function(){this.bH6B();this.jq4u.V6P();delete this.jq4u;delete this.iy8q;delete this.lm4q.view;delete this.lm4q.body;delete this.lm4q.mbar};Do8g.gw7p=function(d6d,gl7e){var bOF0x=d6d.left/this.iy8q.x[1],bOD0x=d6d.top/this.iy8q.y[1],bOy0x=this.iy8q.x,bOx0x=this.iy8q.y;this.z6t("onchange",{stopped:!!gl7e,x:{rate:bOF0x,value:bOF0x*(bOy0x[1]-bOy0x[0])},y:{rate:bOD0x,value:bOD0x*(bOx0x[1]-bOx0x[0])}})};Do8g.cor3x=function(d6d){var bo6i=a5f.iz8r(this.lm4q.view),bOw0x={x:h6b.jX4b(d6d),y:h6b.mT5Y(d6d)},dz7s={x:Math.floor(this.lm4q.body.offsetWidth/2),y:Math.floor(this.lm4q.body.offsetHeight/2)};this.jq4u.hc7V({top:bOw0x.y-bo6i.y-dz7s.y,left:bOw0x.x-bo6i.x-dz7s.x})};Do8g.ww7p=function(dp7i){var tF6z;if(!!this.iy8q){var pj5o=this.jq4u.bom9d();tF6z={x:pj5o.left/this.iy8q.x[1],y:pj5o.top/this.iy8q.y[1]}}dp7i=dp7i||bd6X;var coK4O=(dp7i.x||fE7x)[1]||this.lm4q.view.clientWidth-this.lm4q.body.offsetWidth,coL4P=(dp7i.y||fE7x)[1]||this.lm4q.view.clientHeight-this.lm4q.body.offsetHeight;this.iy8q={x:dp7i.x||[0,coK4O],y:dp7i.y||[0,coL4P]};if(!!tF6z)this.hc7V(tF6z);return this};Do8g.hc7V=function(tF6z){tF6z=tF6z||bd6X;this.jq4u.hc7V({top:this.iy8q.y[1]*(tF6z.y||0),left:this.iy8q.x[1]*(tF6z.x||0)})}})();
(function(){var P6J=NEJ.P("nej.ut"),bOv0x;if(!!P6J.MT4X)return;P6J.MT4X=NEJ.C();bOv0x=P6J.MT4X.M6G(P6J.bdL7E);bOv0x.cy6s=function(){this.cD6x();this.lm4q.direction=2}})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),h6b=c6e("nej.v"),P6J=c6e("nej.p"),bG6A=c6e("nej.ui"),ci6c=c6e("nej.ut"),y6s=c6e("nm.w"),b6f,L6F;y6s.Be8W=NEJ.C();b6f=y6s.Be8W.M6G(bG6A.er7k);L6F=y6s.Be8W.ct6n;b6f.cy6s=function(){this.cD6x()};b6f.bn6h=function(e6c){this.bp6j(e6c);this.o6i=a5f.A6u(e6c.content);this.mP5U=a5f.A6u(e6c.slide);this.jH4L=a5f.A6u(e6c.track);this.bNR0x=e6c.speed;this.bsE0x=this.o6i.scrollHeight-this.o6i.clientHeight;a5f.bc6W(this.mP5U,"height",(this.o6i.clientHeight/this.o6i.scrollHeight*parseInt(a5f.dl7e(this.jH4L,"height"))||0)+"px");if(this.o6i.scrollHeight<=this.o6i.clientHeight)a5f.bc6W(this.mP5U,"display","none");else a5f.bc6W(this.mP5U,"display","block");this.wu7n=ci6c.MT4X.B6v({slide:this.mP5U,track:this.jH4L,onchange:this.bsG0x.f6b(this)});if(P6J.dB7u.browser!="firefox")this.bY6S([[this.o6i,"mousewheel",this.He2x.f6b(this)]]);else{this.o6i.addEventListener("DOMMouseScroll",this.He2x.f6b(this),false)}};b6f.bC6w=function(){this.bH6B();this.wu7n.V6P();delete this.o6i;delete this.mP5U;delete this.jH4L;delete this.iy8q;delete this.bNR0x};b6f.bsG0x=function(d6d){this.o6i.scrollTop=parseInt(this.bsE0x*d6d.y.rate)};b6f.He2x=function(d6d){h6b.cn6h(d6d);this.bsE0x=this.o6i.scrollHeight-this.o6i.clientHeight;var dz7s=0,LI4M,ck6e,gv7o;ck6e=parseInt(this.jH4L.clientHeight)-parseInt(a5f.dl7e(this.mP5U,"height"));dz7s=d6d.wheelDelta?d6d.wheelDelta/120:-d6d.detail/3;LI4M=parseInt(a5f.dl7e(this.mP5U,"top"))-dz7s*this.bNR0x;if(LI4M<0)LI4M=0;if(LI4M>ck6e)LI4M=ck6e;a5f.bc6W(this.mP5U,"top",LI4M+"px");gv7o=parseInt(a5f.dl7e(this.mP5U,"top"));this.wu7n.z6t("onchange",{y:{rate:gv7o/ck6e}})};b6f.qX6R=function(){this.bsE0x=this.o6i.scrollHeight-this.o6i.clientHeight;this.wu7n.hc7V({x:0,y:0});a5f.bc6W(this.mP5U,"height",this.o6i.clientHeight/this.o6i.scrollHeight*parseInt(this.jH4L.clientHeight)+"px");this.wu7n.ww7p({x:[],y:[0,this.jH4L.clientHeight-parseInt(a5f.dl7e(this.mP5U,"height"))]});if(this.o6i.scrollHeight<=this.o6i.clientHeight)a5f.bc6W(this.mP5U,"display","none");else a5f.bc6W(this.mP5U,"display","block")};b6f.hc7V=function(dR7K){this.wu7n.hc7V(dR7K)};b6f.LH4L=function(bsK0x){var cuN4R=parseInt(a5f.dl7e(this.mP5U,"height"));var cuO4S=parseInt(a5f.dl7e(this.jH4L,"height"));var zg8Y=cuO4S-cuN4R;var gv7o=parseInt(zg8Y*bsK0x)+"px";a5f.bc6W(this.mP5U,"top",gv7o)};b6f.bNN0x=function(){if(this.o6i.scrollHeight<=this.o6i.clientHeight)return;var bsK0x=this.o6i.scrollTop/(this.o6i.scrollHeight-this.o6i.clientHeight);this.LH4L(bsK0x)};b6f.cPF7y=function(){if(this.wu7n)this.wu7n.ww7p()}})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),u6o=c6e("nej.j"),bd6X=c6e("nej.o"),j6d=c6e("nej.u"),h6b=c6e("nej.v"),bG6A=c6e("nej.ui"),p6j=c6e("nm.d"),l6f=c6e("nm.x"),n6h=c6e("nm.l"),b6f,L6F;n6h.cad2x=NEJ.C();b6f=n6h.cad2x.M6G(n6h.ef7Y,!0);b6f.cy6s=function(){this.cD6x()};b6f.bW6Q=function(){this.cg6a();var k6e=a5f.C6w(this.o6i,"j-flag");this.IM3x=k6e[0];this.bmY8Q=k6e[1];this.biP8H=k6e[2];h6b.s6m(k6e[3],"click",this.bmX8P.f6b(this))};b6f.cf6Z=function(){this.cd6X="ntp-alert"};b6f.bn6h=function(e6c){e6c.parent=e6c.parent||document.body;this.bp6j(e6c);a5f.bc6W(this.IM3x,"display","");if(e6c.type=="noicon"){a5f.bc6W(this.IM3x,"display","none")}else if(e6c.type=="success"){a5f.fn7g(this.IM3x,"u-icn-88","u-icn-89")}else{a5f.fn7g(this.IM3x,"u-icn-89","u-icn-88")}this.bmY8Q.innerHTML=e6c.mesg||"";if(e6c.mesg2){a5f.x6r(this.biP8H,"f-hide");this.biP8H.innerHTML=e6c.mesg2||""}else{a5f.w6q(this.biP8H,"f-hide")}};b6f.bC6w=function(){this.bH6B()};b6f.bmX8P=function(d6d){this.z6t("onnotice");this.br6l()};n6h.dT7M=function(e6c){if(this.AM8E){this.AM8E.V6P();delete this.AM8E}this.AM8E=n6h.cad2x.B6v(e6c);this.AM8E.I6C()}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,h6b=c6e("nej.v"),j6d=c6e("nej.u"),G6A=c6e("nej.ut"),p6j=c6e("nm.d"),l6f=c6e("nm.x"),n6h=c6e("nm.l"),J6D="RADIO_LATEST_MAP",b6f,L6F;p6j.fo7h({"radio_crt-list":{url:"/api/djradio/get/byuser",format:function(Q6K,e6c){var k6e=Q6K.djRadios;return{total:k6e.length||0,list:k6e}}},"radio_sub-list":{url:"/api/djradio/get/subed",format:function(Q6K,e6c){var k6e=Q6K.djRadios;e6c.data.time=Q6K.time;if(Q6K.hasMore){if(k6e.length<e6c.limit)k6e.length=e6c.limit}return{total:Q6K.count||0,hasMore:Q6K.hasMore,list:k6e}}},"radio_sub-add":{url:"/api/djradio/subscribe/v1",filter:function(e6c){e6c.data={radioId:e6c.id};if(e6c.ext&&e6c.ext.data&&e6c.ext.data.token){e6c.data.token=e6c.ext.data.token}},format:function(Q6K,e6c){if(this.bQX0x("firstSub")){n6h.dT7M({title:"订阅成功",type:"noicon",mesg:"可以在“我的音乐-我的电台”收到节目更新"})}else{n6h.bb6V.I6C({tip:"订阅成功"})}var dJ7C=this.eO7H(e6c.id)||e6c.ext.data;dJ7C.subCount+=1;dJ7C.subed=true;return dJ7C},finaly:function(d6d,e6c){h6b.z6t(p6j.pu6o,"listchange",d6d);h6b.z6t(p6j.pu6o,"itemchange",{attr:"subCount",data:d6d.data})},onmessage:function(ca6U,m6g){if(ca6U==315){n6h.bb6V.I6C({tip:"根据对方设置，你没有该操作权限",type:2})}else if(ca6U==250){n6h.bb6V.I6C({tip:"操作失败，账号存在异常",type:2})}else if(ca6U==251||ca6U==404||ca6U==400||ca6U==502){n6h.bb6V.I6C({tip:m6g.message||m6g.msg||m6g.ext&&m6g.ext.msg||"订阅失败",type:2})}}},"radio_sub-del":{url:"/api/djradio/unsub",filter:function(e6c){e6c.data={id:e6c.id}},format:function(Q6K,e6c){n6h.bb6V.I6C({tip:"取消订阅成功"});var dJ7C=this.eO7H(e6c.id)||e6c.ext.data;dJ7C.subCount-=1;dJ7C.subed=false;return dJ7C},finaly:function(d6d,e6c){h6b.z6t(p6j.pu6o,"listchange",d6d);h6b.z6t(p6j.pu6o,"itemchange",{attr:"subCount",data:d6d.data})}}});p6j.pu6o=NEJ.C();b6f=p6j.pu6o.M6G(p6j.hS8K);b6f.ceZ2x=function(df7Y,bz6t){var bD6x=this.JM3x(J6D,{});bD6x[df7Y.radio.id]={id:df7Y.id,name:df7Y.name,time:bz6t||0};this.yp7i(J6D,bD6x)};b6f.cfa2x=function(E6y){return this.JM3x(J6D,{})[E6y]};b6f.bQW0x=function(dJ7C){var cB6v={key:"radio_sub",ext:{}};if(j6d.mu5z(dJ7C)){cB6v.id=dJ7C.id;cB6v.ext.data=dJ7C}else{cB6v.id=dJ7C}return cB6v};b6f.ow5B=function(dJ7C){if(l6f.gO7H())this.jC4G(this.bQW0x(dJ7C))};b6f.bQV0x=function(dJ7C){l6f.he7X({btnok:"确定",btncc:"取消",message:"确定取消订阅？",action:function(D6x){if(D6x=="ok"){this.NA4E(this.bQW0x(dJ7C))}}.f6b(this)})};b6f.bQX0x=function(){var vw7p="RADIO_UPGRADE_TIP";return function(t6n){var i6c=this.JM3x(vw7p,{});if(i6c[t6n]){return false}else{i6c[t6n]=true;this.yp7i(vw7p,i6c);return true}}}();G6A.fO7H.B6v({element:p6j.pu6o,event:["listchange","itemchange"]})})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,h6b=c6e("nej.v"),G6A=c6e("nej.ut"),j6d=c6e("nej.u"),u6o=c6e("nej.j"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),y6s=c6e("nm.w"),b6f;var QUEUE_KEY="track-queue";var PlayMode={SINGLE_CYCLE:2,LIST_LOOP:4,RANDOM:5};y6s.vx7q=NEJ.C();b6f=y6s.vx7q.M6G(G6A.cP6J);b6f.bn6h=function(e6c){this.bp6j(e6c);this.by6s=y6s.gm7f.fS7L();this.jG4K=[];this.Cb8T=[];this.nX5c=l6f.bsR0x();this.fC7v=0;this.bY6S([[y6s.gm7f,"playaction",this.zn8f.f6b(this)]]);this.jB4F=p6j.hL8D.B6v();this.yH7A=p6j.pu6o.B6v();this.cGd6X()};b6f.bC6w=function(){this.bH6B();delete this.jG4K;delete this.Cb8T;delete this.nX5c};b6f.biv8n=function(){u6o.yV7O(QUEUE_KEY,this.jG4K)};b6f.cGg6a=function(){var uu7n=[PlayMode.SINGLE_CYCLE,PlayMode.LIST_LOOP,PlayMode.RANDOM];return function(){var eT7M,r6l=j6d.dv7o(uu7n,this.nX5c.mode);eT7M=r6l<0?PlayMode.LIST_LOOP:uu7n[(r6l+1)%3];this.nX5c.mode=eT7M;if(this.YH6B()){this.buP1x()}l6f.HO3x(this.nX5c);return this.nX5c.mode}}();b6f.cGw6q=function(){return this.nX5c.mode};b6f.po5t=l6f.Ga9R(function(){this.yF7y(this.bLm9d(+1),"ui")},800);b6f.AN8F=l6f.Ga9R(function(){this.yF7y(this.bLm9d(-1),"ui")},800);b6f.re6Y=function(){return this.jG4K[this.fC7v]};b6f.cGF6z=function(jj4n,xH7A,gt7m){if(!jj4n||!jj4n.length)return;var bD6x={},rb6V=jj4n[0];var buS1x={},newSongs=[];if(!xH7A){j6d.bh6b(this.jG4K,function(bg6a){bD6x[bg6a.id]=bg6a});j6d.bh6b(jj4n,function(bg6a){if(bD6x[bg6a.id]){if(rb6V.id==bg6a.id){rb6V=bD6x[bg6a.id]}}else{this.jG4K.push(bg6a)}if(bg6a.id&&bg6a.source&&bg6a.source.fid=="34"){buS1x[bg6a.id]=bg6a.source.fdata;}},this);j6d.bh6b(this.jG4K,function(bg6a){if(buS1x[bg6a.id]){bg6a.source.fdata=buS1x[bg6a.id]}newSongs.push(bg6a)});this.jG4K=newSongs}else{this.jG4K=jj4n}if(this.YH6B()){this.buP1x()}if(gt7m){this.yF7y(j6d.dv7o(this.jG4K,rb6V));this.by6s.ez7s()}this.biv8n();h6b.z6t(y6s.vx7q,"queuechange",{cmd:gt7m?"play":"addto"})};b6f.mp5u=function(oh5m){var r6l=j6d.dv7o(this.jG4K,function(bg6a){return bg6a.id==oh5m});if(r6l!=-1){var cGO6I=r6l==this.fC7v&&this.jG4K.length>1,cGP6J=r6l==this.jG4K.length-1,bg6a=this.jG4K[r6l];this.jG4K.splice(r6l,1);if(this.YH6B()){this.Cb8T.splice(j6d.dv7o(this.Cb8T,bg6a),1)}if(cGO6I){if(cGP6J){this.yF7y(r6l-1)}else{this.yF7y(r6l)}}else if(r6l<this.fC7v){this.fC7v--}this.biv8n();h6b.z6t(y6s.vx7q,"queuechange",{cmd:"delete"})}};b6f.rm6g=function(){this.jG4K=[];this.Cb8T=[];this.nX5c.index=this.fC7v=0;l6f.HO3x(this.nX5c);this.biv8n();h6b.z6t(y6s.vx7q,"queuechange",{cmd:"clear"})};b6f.re6Y=function(){return this.jG4K[this.fC7v]};b6f.bLi9Z=function(){return this.jG4K};b6f.lV5a=function(){return this.jG4K.length};b6f.buU1x=function(E6y){var r6l=j6d.dv7o(this.jG4K,function(bg6a){return E6y==bg6a.id});if(r6l>=0){return this.jG4K[r6l]}};b6f.cHn6h=function(E6y){var r6l=j6d.dv7o(this.jG4K,function(bg6a){return E6y==bg6a.id});if(r6l>=0){this.yF7y(r6l);this.by6s.ez7s()}};b6f.cGd6X=function(){this.jG4K=u6o.wx7q(QUEUE_KEY)||[];this.fC7v=this.nX5c.index||0;if(this.jG4K.length&&this.YH6B()){this.buP1x()}this.by6s.bcg7Z(this.re6Y(),true)};b6f.bLm9d=function(dz7s){if(this.YH6B()){var gB7u=this.re6Y(),r6l=inRange(j6d.dv7o(this.Cb8T,gB7u)+dz7s,this.Cb8T.length);return j6d.dv7o(this.jG4K,this.Cb8T[r6l])}else{return inRange(this.fC7v+dz7s,this.jG4K.length)}function inRange(r6l,bt6n){return r6l<0?bt6n-1:r6l>=bt6n?0:r6l}};b6f.buP1x=function(){var k6e=this.jG4K.slice(0);this.Cb8T=[];while(k6e.length){var r6l=j6d.Eu9l(0,k6e.length-1);this.Cb8T.push(k6e[r6l]);k6e.splice(r6l,1)}};b6f.yF7y=function(r6l,t6n){if(!this.jG4K.length)return;var ic8U,jW4a=this.re6Y(),KE3x=this.by6s.bcv7o();this.fC7v=r6l;this.nX5c.index=this.fC7v;ic8U=this.jG4K[this.fC7v];l6f.HO3x(this.nX5c);h6b.z6t(y6s.vx7q,"playchange",{old:jW4a,"new":ic8U,type:t6n});this.by6s.bcg7Z(this.re6Y());if(ic8U&&ic8U.program)this.yH7A.ceZ2x(ic8U.program,0);this.cHA6u(jW4a,ic8U,KE3x,t6n)};b6f.cHA6u=function(jW4a,ic8U,KE3x,buW1x){if(!jW4a||!ic8U)return;if(KE3x>3){if(jW4a.program){this.jB4F.SI5N(jW4a.program.id,KE3x,jW4a.source,buW1x||"interrupt","dj")}else{if(jW4a.alg){this.jB4F.SI5N(jW4a.id,KE3x,jW4a.source,buW1x||"interrupt","",jW4a.alg)}else{this.jB4F.SI5N(jW4a.id,KE3x,jW4a.source,buW1x||"interrupt")}}}var query=window.location.href.split("?")[1]||"";if(ic8U.program){this.jB4F.eM7F("startplay",{id:ic8U.program.id,type:"dj",content:query})}else{this.jB4F.eM7F("startplay",{id:ic8U.id,type:"song",content:query})}};b6f.YH6B=function(){return this.nX5c.mode==PlayMode.RANDOM};b6f.zn8f=function(d6d){if(d6d.action=="ended"){if(this.nX5c.mode==PlayMode.SINGLE_CYCLE){this.yF7y(this.fC7v,"playend")}else{this.po5t()}}};G6A.fO7H.B6v({element:y6s.vx7q,event:["queuechange","playchange"]})})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),dq7j=c6e("nej.p"),u6o=c6e("nej.j"),Y6S=c6e("nej.ui"),G6A=c6e("nej.ut"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),l6f=c6e("nm.x"),dW7P=c6e("nm.u"),y6s=c6e("nm.w"),N6H=c6e("nm.m.f"),b6f,L6F;N6H.bLg9X=NEJ.C();b6f=N6H.bLg9X.M6G(Y6S.er7k);b6f.cy6s=function(){this.cD6x();this.gM7F=y6s.vx7q.fS7L();h6b.s6m(y6s.vx7q,"queuechange",this.xO7H.f6b(this));h6b.s6m(y6s.vx7q,"playchange",this.hO8G.f6b(this))};b6f.cf6Z=function(){this.cd6X="m-player-panel"};b6f.bW6Q=function(){this.cg6a();var k6e=a5f.C6w(this.o6i,"j-flag");this.bio8g=k6e[0];this.kd4h=k6e[1];this.Yy6s=k6e[2];this.bO6I=k6e[3];this.Yu6o=k6e[4];this.ju4y=y6s.Be8W.B6v({track:this.Yu6o,slide:a5f.di7b(this.Yu6o)[0],content:this.bO6I,speed:4});this.ce6Y={nask:k6e[5],nmenu:k6e[6],nlist:k6e[7],nscroll:k6e[8]};h6b.s6m(this.o6i,"click",this.bN6H.f6b(this));h6b.s6m(this.Yy6s,"load",this.qO6I.f6b(this))};b6f.bn6h=function(e6c){this.bp6j(e6c);this.qP6J=y6s.bik8c.B6v(this.ce6Y);this.hO8G({"new":this.gM7F.re6Y()});this.ju4y.qX6R();var k6e=a5f.C6w(this.bO6I,"z-sel");if(k6e.length){var bo6i=a5f.iz8r(k6e[0],this.bO6I);this.bO6I.scrollTop=this.bO6I.scrollTop+(bo6i.y-(this.bO6I.scrollTop+112));this.ju4y.bNN0x()}};b6f.bC6w=function(){this.z6t("onclose");if(this.qP6J){this.qP6J.V6P();delete this.qP6J}this.bH6B()};b6f.xO7H=function(d6d){a5f.dn7g(this.bO6I,"m-player-queue",{queue:this.gM7F.bLi9Z(),current:this.gM7F.re6Y()},{dur2time:l6f.lX5c,getArtistName:l6f.sB6v});this.bio8g.innerText=this.gM7F.lV5a();if(d6d&&d6d.cmd=="delete")return;var k6e=a5f.C6w(this.bO6I,"z-sel");if(k6e.length){var bo6i=a5f.iz8r(k6e[0],this.bO6I);this.bO6I.scrollTop=Math.max(Math.min(bo6i.y,this.bO6I.scrollTop),bo6i.y-224);this.ju4y.bNN0x()}};b6f.bN6H=function(d6d){var g6a,E6y,bLe9V;g6a=h6b.ba6U(d6d,"a:href");if(g6a&&g6a.tagName.toLocaleLowerCase()=="a"&&/^http/.test(g6a.href)){return}h6b.uf7Y(d6d);g6a=h6b.ba6U(d6d,"d:action");E6y=a5f.v6p(g6a,"id");switch(a5f.v6p(g6a,"action")){case"likeall":var kT4X=this.gM7F.bLi9Z();if(kT4X&&kT4X.length){var k6e=[];j6d.bh6b(kT4X,function(q6k){if(!q6k.program)k6e.push(q6k)});window.subscribe(k6e,!1);this.V6P()}break;case"delete":this.gM7F.mp5u(E6y);h6b.bi6c(d6d);break;case"like":var bg6a=this.gM7F.buU1x(E6y);window.subscribe(bg6a,false);h6b.bi6c(d6d);this.V6P();break;case"share":bg6a=this.gM7F.buU1x(E6y);!bg6a.program?l6f.lH4L({rid:bg6a.id,type:18,purl:bg6a.album.picUrl,name:bg6a.name,author:l6f.As8k(bg6a.artists)}):l6f.lH4L({rid:bg6a.program.id,type:17,purl:bg6a.program.coverUrl,name:bg6a.program.name,author:(bg6a.program.radio||[]).name});h6b.bi6c(d6d);this.V6P();break;case"download":bg6a=this.gM7F.buU1x(E6y);if(bg6a.program){l6f.Nt4x({type:17,id:bg6a.program.id})}else{bLe9V=l6f.ty6s(bg6a);if(bLe9V==1e3){l6f.iM4Q("因版权方要求，该歌曲不支持下载")}else{l6f.Nt4x({type:18,id:bg6a.id})}}this.V6P();break;case"play":this.gM7F.cHn6h(E6y);break;case"clear":this.gM7F.rm6g();break;case"close":this.V6P();break}};b6f.hO8G=function(d6d){var Jr3x=d6d["new"];if(Jr3x){this.qP6J&&this.qP6J.cHW6Q(Jr3x);if(Jr3x.program){this.Yy6s.src=Jr3x.program.blurCoverUrl;this.kd4h.innerText=Jr3x.program.name}else{var buZ1x,Or4v;j6d.bh6b(["pic_str","pic","picId_str","picId","picStr"],function(J6D){var q6k=(Jr3x.album||{})[J6D];if(j6d.fT7M(q6k)){buZ1x=buZ1x||q6k}else{Or4v=Or4v||q6k}});this.Yy6s.src="//music.163.com/api/img/blur/"+(buZ1x||Or4v);this.kd4h.innerText=Jr3x.name}}this.xO7H()};b6f.qO6I=function(d6d){var ck6e=this.Yy6s.clientHeight,cHZ6T=this.bO6I.parentNode.clientHeight;a5f.bc6W(this.Yy6s,"top",(cHZ6T-ck6e)/2+"px")}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,dq7j=c6e("nej.p"),P6J=c6e("nej.ut"),b6f;if(!!P6J.bkD8v)return;P6J.bkD8v=NEJ.C();b6f=P6J.bkD8v.M6G(P6J.cP6J);b6f.bn6h=function(e6c){this.bp6j(e6c);this.bfp7i=e6c.to||bd6X;this.Wa6U=e6c.from||{};this.cnM3x=Math.max(0,parseInt(e6c.delay)||0)};b6f.bC6w=function(){this.bH6B();this.bi6c();if(!!this.Wc6W){window.clearTimeout(this.Wc6W);delete this.Wc6W}delete this.bfp7i;delete this.Wa6U};b6f.bXt1x=function(bz6t){if(!this.Wa6U)return;if((""+bz6t).indexOf(".")>=0||dq7j.dB7u.browser==="safari")bz6t=+(new Date);if(this.bXv1x(bz6t)){this.bi6c();return}this.dH7A=requestAnimationFrame(this.bXt1x.f6b(this))};b6f.bXv1x=bs6m;b6f.ez7s=function(){var cns3x=function(){this.Wc6W=window.clearTimeout(this.Wc6W);this.Wa6U.time=+(new Date);this.dH7A=requestAnimationFrame(this.bXt1x.f6b(this))};return function(){this.Wc6W=window.setTimeout(cns3x.f6b(this),this.cnM3x);return this}}();b6f.bi6c=function(){this.dH7A=cancelRequestAnimationFrame(this.dH7A);this.z6t("onstop");return this}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,j6d=c6e("nej.u"),P6J=c6e("nej.ut"),b6f,L6F;if(!!P6J.Ir3x)return;P6J.Ir3x=NEJ.C();b6f=P6J.Ir3x.M6G(P6J.bkD8v);L6F=P6J.Ir3x.ct6n;b6f.bn6h=function(e6c){this.bp6j(e6c);this.bfx7q=e6c.duration||200;this.cmL3x=1/(200*this.bfx7q);this.cmx3x(e6c.timing);this.clU3x()};b6f.bC6w=function(){this.bH6B();delete this.Mb4f;delete this.bku8m};b6f.cmx3x=function(){var gZ7S=/^cubic\-bezier\((.*?)\)$/i,kF4J=/\s*,\s*/i,bXA1x={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]};var cle3x=function(D6x,r6l,k6e){k6e[r6l]=parseFloat(D6x)};return function(bfF7y){bfF7y=(bfF7y||"").toLowerCase();this.Mb4f=bXA1x[bfF7y];if(gZ7S.test(bfF7y)){this.Mb4f=RegExp.$1.split(kF4J);j6d.bh6b(this.Mb4f,cle3x)}if(!!this.Mb4f)return;this.Mb4f=bXA1x.ease}}();b6f.clU3x=function(){var Ma4e=this.Mb4f,bks8k=3*Ma4e[0],bXB1x=3*(Ma4e[2]-Ma4e[0])-bks8k,ckt3x=1-bks8k-bXB1x,bkq8i=3*Ma4e[1],bXD1x=3*(Ma4e[3]-Ma4e[1])-bkq8i,cjM3x=1-bkq8i-bXD1x;this.bku8m={ax:ckt3x,ay:cjM3x,bx:bXB1x,by:bXD1x,cx:bks8k,cy:bkq8i}};b6f.cjK3x=function(){var bXM1x=function(bz6t,qF6z){return((qF6z.ax*bz6t+qF6z.bx)*bz6t+qF6z.cx)*bz6t};var cjw3x=function(bz6t,qF6z){return((qF6z.ay*bz6t+qF6z.by)*bz6t+qF6z.cy)*bz6t};var cju3x=function(bz6t,qF6z){return(3*qF6z.ax*bz6t+2*qF6z.bx)*bz6t+qF6z.cx};var cjf3x=function(bz6t,bXY1x,qF6z){var t0,t1,t2,x2,d2,i;for(t2=bz6t,i=0;i<8;i++){x2=bXM1x(t2,qF6z)-bz6t;if(Math.abs(x2)<bXY1x)return t2;d2=cju3x(t2,qF6z);if(Math.abs(d2)<1e-6)break;t2=t2-x2/d2}t0=0;t1=1;t2=bz6t;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=bXM1x(t2,qF6z);if(Math.abs(x2-bz6t)<bXY1x)return t2;if(bz6t>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return t2};return function(dz7s){return cjw3x(cjf3x(dz7s/this.bfx7q,this.cmL3x,this.bku8m),this.bku8m)}}();b6f.bXv1x=function(bz6t){var dz7s=bz6t-this.Wa6U.time,Cn8f=this.cjK3x(dz7s),bo6i=j6d.Lj4n(this.Wa6U.offset*(1-Cn8f)+this.bfp7i.offset*Cn8f,2),oq5v=!1;if(dz7s>=this.bfx7q){bo6i=this.bfp7i.offset;oq5v=!0}this.z6t("onupdate",{offset:bo6i});return oq5v};b6f.bi6c=function(){this.z6t("onupdate",{offset:this.bfp7i.offset});L6F.bi6c.apply(this,arguments);return this}})();
(function(){var c6e=NEJ.P,P6J=c6e("nej.ut"),b6f;if(!!P6J.In3x)return;P6J.In3x=NEJ.C();b6f=P6J.In3x.M6G(P6J.Ir3x);b6f.bn6h=function(e6c){e6c=NEJ.X({},e6c);e6c.timing="easein";this.bp6j(e6c)}})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),h6b=c6e("nej.v"),P6J=c6e("nej.ut"),zm8e;P6J.JH3x=NEJ.C();zm8e=P6J.JH3x.M6G(P6J.cP6J);zm8e.bn6h=function(e6c){this.bp6j(e6c);this.cps4w=!!e6c.reset;this.Yb6V=parseInt(e6c.delta)||0;this.jH4L=a5f.A6u(e6c.track);this.bOs0x=a5f.A6u(e6c.progress);this.bY6S([[e6c.thumb,"mousedown",this.cpu4y.f6b(this)],[document,"mousemove",this.bOr0x.f6b(this)],[document,"mouseup",this.brN0x.f6b(this)],[this.jH4L,"mousedown",this.bOq0x.f6b(this)]]);var fs7l=e6c.value;if(fs7l==null){fs7l=this.bOs0x.offsetWidth/this.jH4L.offsetWidth}this.hc7V(fs7l)};zm8e.bC6w=function(){if(!!this.cps4w)this.UA5F(0);this.bH6B()};zm8e.cpu4y=function(d6d){if(!!this.ij8b)return;h6b.bi6c(d6d);this.ij8b=h6b.jX4b(d6d);this.bOo0x=this.jH4L.offsetWidth};zm8e.bOr0x=function(d6d){if(!this.ij8b)return;var bo6i=h6b.jX4b(d6d),dz7s=bo6i-this.ij8b;this.ij8b=bo6i;this.UA5F(this.JP3x+dz7s/this.bOo0x);this.z6t("onslidechange",{ratio:this.JP3x})};zm8e.brN0x=function(d6d){if(!this.ij8b)return;this.bOr0x(d6d);delete this.ij8b;delete this.bOo0x;this.z6t("onslidestop",{ratio:this.JP3x})};zm8e.bOq0x=function(d6d){var cpK4O=a5f.iz8r(this.jH4L).x,cpL4P=h6b.jX4b(d6d);this.UA5F((cpL4P-cpK4O+this.Yb6V)/this.jH4L.offsetWidth);this.z6t("onslidestop",{ratio:this.JP3x})};zm8e.UA5F=function(fs7l){this.JP3x=Math.max(0,Math.min(1,fs7l));a5f.bc6W(this.bOs0x,"width",this.JP3x*100+"%")};zm8e.hc7V=function(fs7l){if(!!this.ij8b)return;this.UA5F(fs7l)};zm8e.bom9d=function(fs7l){return this.JP3x}})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),gH7A=c6e("nm.ut");gH7A.cIc6W=function(){var KN4R=function(bx6r,cl6f,pZ6T,qc6W,BY8Q){if(pZ6T<qc6W){var Jn3x=Math.floor((pZ6T+qc6W)/2);KN4R(bx6r,cl6f,pZ6T,Jn3x,BY8Q);KN4R(bx6r,cl6f,Jn3x+1,qc6W,BY8Q);cIr6l(bx6r,cl6f,pZ6T,Jn3x,qc6W,BY8Q)}};var cIr6l=function(bx6r,cl6f,pZ6T,Jn3x,qc6W,BY8Q){var i=pZ6T,j=Jn3x+1,k=pZ6T;while(i<=Jn3x&&j<=qc6W){if(BY8Q(bx6r[i],bx6r[j])<=0){cl6f[k++]=bx6r[i++]}else{cl6f[k++]=bx6r[j++]}}while(i<=Jn3x){cl6f[k++]=bx6r[i++]}while(j<=qc6W){cl6f[k++]=bx6r[j++]}for(i=pZ6T;i<=qc6W;i++){bx6r[i]=cl6f[i]}};var cIC6w=function(hv8n,bva1x){return hv8n<bva1x};return function(bx6r,BY8Q){if(!bx6r||bx6r.length==0)return bx6r;BY8Q=BY8Q||cIC6w;KN4R(bx6r,new Array(bx6r.length),0,bx6r.length-1,BY8Q);return bx6r}}();gH7A.bLd9U=function(){var gZ7S=/\r\n|\r|\n/,kF4J=/\[(.*?)\]/gi,bsZ0x={ar:"artist",ti:"track",al:"album",offset:"offset"},bLc9T=-1;var bta0x=function(m6g,hV8N){var bx6r=[];hV8N=hV8N.replace(kF4J,function($1,$2){var bz6t=btb0x.call(this,m6g,$2);if(bz6t!=null){bLc9T=bz6t;bx6r.push({time:bz6t,tag:$2});m6g.scrollable=!0}return""}.f6b(this)).trim();if(!bx6r.length){if(!hV8N||hV8N.length==0)return;bx6r.push({time:bLc9T}||{time:-1})}j6d.bh6b(bx6r,function(q6k){q6k.lyric=hV8N});var yx7q=m6g.lines;yx7q.push.apply(yx7q,bx6r)};var btb0x=function(m6g,bz6t){var bx6r=bz6t.split(":"),wA7t=bx6r.shift(),J6D=bsZ0x[wA7t];if(!!J6D){m6g[J6D]=bx6r.join(":");return null}wA7t=parseInt(wA7t);if(isNaN(wA7t)){return null}else{var bo6i=parseInt(m6g.offset)||0;return wA7t*60+parseFloat(bx6r.join("."))+bo6i/1e3}};var btd0x=function(bte0x,kr4v){return bte0x.time-kr4v.time};return function(E6y,bq6k){var m6g={id:E6y,lines:[],scrollable:!1,source:bq6k};j6d.bh6b((bq6k||"").trim().split(gZ7S),bta0x.f6b(null,m6g));if(m6g.scrollable){gH7A.cIc6W(m6g.lines,btd0x);var r6l;for(var i=0;i<m6g.lines.length;i++){if(!!m6g.lines[i].lyric){r6l=i;break}}m6g.lines.splice(0,r6l)}return m6g}}();gH7A.bLb9S=function(KO4S,bhW8O){var bve1x=gH7A.bLd9U(0,KO4S),bvf1x=gH7A.bLd9U(0,bhW8O);if(bve1x.scrollable&&bvf1x.scrollable){j6d.bh6b(bve1x.lines,function(q6k){var bhS8K=getTranslate(q6k.time);if(bhS8K){q6k.lyric=q6k.lyric+"<br>"+bhS8K.lyric}})}return bve1x;function getTranslate(bz6t){var r6l=j6d.dv7o(bvf1x.lines,function(q6k){return q6k.time==bz6t});if(r6l!=-1){return bvf1x.lines[r6l]}}}})();
(function(){var P6J=NEJ.P("nej.ut"),bYb1x;if(!!P6J.vD7w)return;P6J.vD7w=NEJ.C();bYb1x=P6J.vD7w.M6G(P6J.Ir3x);bYb1x.bn6h=function(e6c){e6c=NEJ.X({},e6c);e6c.timing="linear";this.bp6j(e6c)}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),u6o=c6e("nej.j"),j6d=c6e("nej.u"),l6f=c6e("nm.x"),n6h=c6e("nm.l"),p6j=c6e("nm.d");var bLa9R=function(i6c){if(i6c.errorType==6||i6c.errorType==7||i6c.errorType==8){if(!l6f.gO7H())return;l6f.kC4G({txt:"m-report-point",title:"提示",onaction:bKZ9Q.f6b(this,i6c)})}else{bKZ9Q(i6c)}};var cJK6E=function(d6d){var g6a=h6b.ba6U(d6d,"d:action");if(a5f.v6p(g6a,"action")=="feedLyric"){h6b.bi6c(d6d);var ca6U=a5f.v6p(g6a,"code"),i6c={songId:a5f.v6p(g6a,"id"),errorType:ca6U};bLa9R(i6c)}};var bKZ9Q=function(i6c,d6d){if(!d6d||d6d.action=="ok"){u6o.be6Y("/api/v1/feedback/lyric",{type:"json",method:"post",data:j6d.cq6k(i6c),onload:function(d6d){if(d6d.code==200){n6h.bb6V.I6C({tip:"提交成功"});if(j6d.gU7N(i6c.onok)){i6c.onok()}}else if(d6d.code==-2){l6f.he7X({title:"提示",message:"您的积分不足",btnok:"赚积分",action:function(U6O){if(U6O=="ok"){location.dispatch2("/store/gain/index")}}})}else{n6h.bb6V.I6C({type:2,tip:"提交失败"})}}})}};l6f.bKY9P=function(g6a){var g6a=g6a||document.body,eV7O=cJK6E.f6b(this);h6b.s6m(g6a,"click",eV7O);return{destroy:function(){h6b.ox5C(g6a,"click",eV7O)}}};l6f.cPu7n=function(i6c){bLa9R(i6c)}})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),u6o=c6e("nej.j"),G6A=c6e("nej.ut"),P6J=c6e("nej.p"),p6j=c6e("nm.d"),l6f=c6e("nm.x"),n6h=c6e("nm.l"),dW7P=c6e("nm.ut"),y6s=c6e("nm.w"),b6f,L6F;var bvk1x={};var bKW9N=function(E6y,kW4a){var X6R="/api/song/lyric",bu6o={id:E6y,lv:-1,tv:-1};if(bvk1x[E6y]){if(kW4a)kW4a(bvk1x[E6y])}else{u6o.be6Y(X6R,{sync:false,type:"json",query:bu6o,method:"get",onload:function(i6c){bvk1x[E6y]=i6c;kW4a(i6c,E6y)},onerror:function(cc6W){kW4a(cc6W)}})}};y6s.bik8c=NEJ.C();b6f=y6s.bik8c.M6G(G6A.cP6J);y6s.bik8c.cKv6p=bKW9N;b6f.bn6h=function(e6c){this.bp6j(e6c);this.bO6I=e6c.nlist;this.Yk6e=e6c.nmenu;this.bKS9J=e6c.nask;this.wV7O={track:e6c.nscroll,slide:a5f.di7b(e6c.nscroll)[0],content:this.bO6I,speed:4};this.bvo1x=this.He2x.f6b(this);this.bY6S([[e6c.nask,"click",this.cKL6F.f6b(this)],[this.wV7O.slide,"mousedown",this.bbt6n.f6b(this)],[document,"mouseup",this.bbs6m.f6b(this)],[y6s.gm7f,"playaction",this.zn8f.f6b(this)]]);if(P6J.dB7u.browser!="firefox"){this.bY6S([[this.bO6I,"mousewheel",this.bvo1x]])}else{this.bO6I.addEventListener("DOMMouseScroll",this.bvo1x,false)}this.ju4y=y6s.Be8W.B6v(this.wV7O);this.bvp1x=l6f.bKY9P(this.bO6I);this.by6s=y6s.gm7f.fS7L()};b6f.bC6w=function(){this.bH6B();delete this.BV8N;delete this.vo7h;delete this.bhK7D;if(this.bvp1x){this.bvp1x.destroy();delete this.bvp1x}if(P6J.dB7u.browser=="firefox"){this.bO6I.removeEventListener("DOMMouseScroll",this.bvo1x)}a5f.bc6W(this.Yk6e,"display","none")};b6f.cKL6F=function(){if(a5f.dl7e(this.Yk6e,"display")=="none"){a5f.bc6W(this.Yk6e,"display","block")}else{a5f.bc6W(this.Yk6e,"display","none")}};b6f.bvs1x=function(){var io8g=0;return function(XG6A){clearTimeout(io8g);this.bhK7D=true;if(this.vo7h){this.vo7h.V6P();delete this.vo7h}if(!XG6A){io8g=setTimeout(function(){delete this.bhK7D}.f6b(this),3e3)}}}();b6f.He2x=function(){this.bvs1x()};b6f.bbt6n=function(){this.bvs1x(true)};b6f.zn8f=function(d6d){if(d6d.action=="timeupdate"){this.bKE9v(d6d.data.time,true)}};b6f.bKE9v=function(bz6t,cLf6Z){if(!(this.BV8N&&this.BV8N.scrollable)||this.bhK7D)return;var i=this.BV8N.lines.length-1,ii,dz7s,r6l=-1,bKy9p=0,gu7n=0;for(;i>=0;i--){ii=this.BV8N.lines[i];dz7s=ii.time-bz6t;if(dz7s<0&&(i>0||dz7s<=-2)){r6l=i;break}}for(var j=0,jj;j<this.bvv1x.length;j++){jj=this.bvv1x[j];if(j<r6l){bKy9p+=jj.clientHeight}if(r6l==j){a5f.w6q(jj,"z-sel")}else{a5f.x6r(jj,"z-sel")}}if(r6l<0||a5f.iz8r(this.bvv1x[r6l],this.bO6I).y<96){gu7n=0}else{gu7n=bKy9p-96}if(Math.abs(gu7n-this.bO6I.scrollTop)<=4||this.vo7h)return;if(cLf6Z){var cB6v={from:{offset:this.bO6I.scrollTop},to:{offset:gu7n},duration:500,onupdate:function(d6d){this.bO6I.scrollTop=d6d.offset;this.ju4y.LH4L(this.bO6I.scrollTop/(this.bO6I.scrollHeight-this.bO6I.clientHeight))}.f6b(this),onstop:function(){if(this.vo7h){this.vo7h.V6P();delete this.vo7h}}.f6b(this)};this.vo7h=G6A.vD7w.B6v(cB6v);this.vo7h.ez7s()}else{this.bO6I.scrollTop=gu7n;this.ju4y.LH4L(this.bO6I.scrollTop/(this.bO6I.scrollHeight-this.bO6I.clientHeight))}};b6f.cHW6Q=function(bg6a){this.bhI7B=bg6a;delete this.BV8N;if(bg6a&&!bg6a.program){bKW9N(bg6a.id,this.cas2x.bind(this));a5f.x6r(this.bKS9J,"f-hide")}else{a5f.w6q(this.bKS9J,"f-hide");this.bbo6i({})}};b6f.cas2x=function(d6d,E6y){if(d6d.code==200){var KO4S=d6d.lrc||{},bhS8K=d6d.tlyric||{};if(!KO4S.lyric){this.bbo6i(d6d)}else{this.BV8N=dW7P.bLb9S(KO4S.lyric,bhS8K.lyric);d6d.scrollable=this.BV8N.scrollable;a5f.dn7g(this.bO6I,"m-lyric-line",{id:this.bhI7B.id,lines:this.BV8N.lines,scrollable:this.BV8N.scrollable});this.bvv1x=a5f.C6w(this.bO6I,"j-flag")}d6d.songId=this.bhI7B.id;a5f.dn7g(this.Yk6e,"m-player-lyric-ask",d6d)}else{}if(this.vo7h){this.vo7h.V6P();delete this.vo7h}this.ju4y.qX6R();this.bKE9v(this.by6s.bcv7o()||0,false)};b6f.bbs6m=function(){if(this.bhK7D){this.bvs1x()}};b6f.bbo6i=function(i6c){if(this.bhI7B.program){this.bO6I.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">电台节目，无歌词</span></div>'}else if(i6c.nolyric){this.bO6I.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">纯音乐，无歌词</span></div>'}else{this.bO6I.innerHTML='<div class="nocnt nolyric"><span class="s-fc4">暂时没有歌词</span><a data-action="feedLyric" data-code="6"'+"data-id="+this.bhI7B.id+' href="#" class="f-tdu">求歌词</a></div>'}this.ju4y&&this.ju4y.qX6R()}})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),dq7j=c6e("nej.p"),u6o=c6e("nej.j"),G6A=c6e("nej.ut"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),l6f=c6e("nm.x"),dW7P=c6e("nm.u"),y6s=c6e("nm.w"),N6H=c6e("nm.m.f"),dL7E=c6e("player"),b6f,L6F;N6H.Ye6Y=NEJ.C();b6f=N6H.Ye6Y.M6G(G6A.cP6J);b6f.cy6s=function(){this.cD6x();this.zF8x=a5f.A6u("g_player");this.lZ5e=this.zF8x.parentNode;var k6e=a5f.C6w(this.zF8x,"j-flag");this.hC8u=k6e[0];this.lG4K=k6e[1];this.kd4h=k6e[2];this.KU4Y=k6e[3];this.qZ6T=k6e[4];this.hQ8I=k6e[5];k6e=a5f.di7b(k6e[6]);this.Es9j=k6e[0];this.wi7b=k6e[1];this.bKr9i=k6e[2];this.bio8g=k6e[3];this.bvx1x=k6e[4];this.bvy1x=a5f.di7b(this.bio8g)[0];this.yr7k=l6f.bsR0x();this.yB7u=null;this.bhr7k(3e3);this.Yc6W();this.caP2x();this.caQ2x();this.caR2x();this.bKh9Y();this.bvD1x();dL7E.setLike=this.bKf9W.f6b(this);h6b.s6m(this.lZ5e,"click",this.bN6H.f6b(this));h6b.s6m(y6s.gm7f,"playaction",this.zn8f.f6b(this));h6b.s6m(y6s.vx7q,"queuechange",this.xO7H.f6b(this));h6b.s6m(y6s.vx7q,"playchange",this.hO8G.f6b(this));h6b.s6m(this.lZ5e,dq7j.dB7u.browser=="ie"?"mouseleave":"mouseout",this.bKc9T.f6b(this,!1));h6b.s6m(this.lZ5e,dq7j.dB7u.browser=="ie"?"mouseenter":"mouseover",this.bKc9T.f6b(this,!0));h6b.s6m(document,"keyup",this.bKb9S.f6b(this));h6b.s6m(window,"iframeclick",this.uF7y.f6b(this));h6b.s6m(document,"click",this.uF7y.f6b(this));h6b.s6m(this.Es9j,"click",h6b.bi6c.f6b(h6b));dL7E.hotkeys=this.bKb9S.f6b(this);this.bKa9R=j6d.pd5i()};b6f.bvD1x=function(){var KX4b=a5f.A6u("g-topbar"),cM6G=this.zF8x.offsetWidth,cbe2x=this.lZ5e.offsetWidth;if(!KX4b)return;a5f.bc6W(this.zF8x,"marginLeft",-(cbe2x-KX4b.offsetWidth+this.zF8x.offsetWidth)/2+"px")};b6f.bKh9Y=function(){if(this.yr7k.lock){a5f.x6r(this.lZ5e,"m-playbar-unlock");a5f.w6q(this.lZ5e,"m-playbar-lock");window.g_bottomBarHeight=47}else{a5f.w6q(this.lZ5e,"m-playbar-unlock");a5f.x6r(this.lZ5e,"m-playbar-lock");window.g_bottomBarHeight=0}};b6f.Yc6W=function(){var k6e=a5f.di7b(this.KU4Y);this.XX6R=k6e[0];this.bhm7f=a5f.di7b(k6e[1])[0];this.La4e=G6A.JH3x.B6v({track:this.KU4Y,thumb:this.bhm7f,progress:k6e[1],onslidestop:function(d6d){this.bJV9M=false;this.by6s.pJ6D(this.by6s.bsv0x()*d6d.ratio)}.f6b(this),onslidechange:function(d6d){this.bJV9M=true;this.bvL1x({time:d6d.ratio*this.by6s.bsv0x(),duration:this.by6s.bsv0x()})}.f6b(this)})};b6f.caQ2x=function(){var k6e=a5f.C6w(this.Es9j,"j-t"),fs7l=k6e[1],yU7N=this.yr7k.volume;if(yU7N==null){yU7N=.8}this.yI7B=G6A.MT4X.B6v({track:k6e[0],slide:k6e[2],onchange:function(d6d){var D6x=1-d6d.y.rate,ck6e=93*D6x;a5f.bc6W(fs7l,"height",ck6e+"px");ck6e>0?a5f.x6r(this.wi7b,"icn-volno"):a5f.w6q(this.wi7b,"icn-volno");this.by6s.nB5G(D6x);this.yr7k.volume=D6x;l6f.HO3x(this.yr7k)}.f6b(this)});this.yI7B.hc7V({x:0,y:1-yU7N})};b6f.caP2x=function(){var bu6o=j6d.gS7L(location.hash.slice(1))||{},t6n=bu6o["__media"]||"auto";if(this.yr7k.useFlash){this.yr7k.useFlash=false;l6f.HO3x(this.yr7k)}this.by6s=y6s.gm7f.fS7L({media:t6n});this.gM7F=y6s.vx7q.fS7L();dL7E.addTo=function(jj4n,xH7A,gt7m){this.gM7F.cGF6z(JSON.parse(JSON.stringify(jj4n)),xH7A,gt7m)}.f6b(this);dL7E.tipPlay=this.bvM1x.f6b(this);dL7E.getPlaying=function(){return{track:this.gM7F.re6Y(),playing:this.by6s.uC7v()}}.f6b(this);dL7E.pause=this.by6s.fN7G.f6b(this.by6s);var gB7u=this.gM7F.re6Y();if(gB7u){this.bJT9K(gB7u)}this.bJL9C(this.gM7F.cGw6q());this.bJK9B();this.cbt2x()};b6f.xO7H=function(){var io8g=0;return function(d6d){if(d6d.cmd=="play"||d6d.cmd=="addto"){this.bvM1x(d6d.cmd=="play"?"已开始播放":"已添加到播放列表")}this.bJK9B()}}();b6f.hO8G=function(d6d){var bg6a=d6d["new"];this.bJT9K(bg6a);if(this.by6s.uC7v()){document.title=decodeURIComponent("%E2%96%B6%20")+bg6a.name}h6b.z6t(window,"playchange",{trackId:bg6a.id,track:bg6a})};b6f.bN6H=function(d6d){var g6a=h6b.ba6U(d6d,"d:action"),U6O=a5f.v6p(g6a,"action"),oS5X=h6b.ba6U(d6d,"a:href");if(oS5X&&oS5X.tagName.toLocaleLowerCase()=="a"&&/^http/.test(oS5X.href)){this.V6P();return}else{h6b.bi6c(d6d)}switch(U6O){case"lock":this.yr7k.lock=!a5f.bE6y(this.lZ5e,"m-playbar-lock");l6f.HO3x(this.yr7k);this.bKh9Y();break;case"prev":this.gM7F.AN8F();break;case"next":this.gM7F.po5t();break;case"play":this.by6s.ez7s();break;case"pause":this.by6s.fN7G();break;case"like":var bg6a=this.gM7F.re6Y();if(bg6a){window.subscribe(bg6a,bg6a.program)}!bg6a.program&&this.ve7X&&this.ve7X.V6P();break;case"share":var bg6a=this.gM7F.re6Y();if(bg6a.program&&bg6a.program.auditStatus==1){l6f.iM4Q("由于版权问题，该节目暂时无法分享。")}else{if(bg6a){!bg6a.program?l6f.lH4L({rid:bg6a.id,type:18,purl:bg6a.album.picUrl,name:bg6a.name,author:l6f.As8k(bg6a.artists)}):l6f.lH4L({rid:bg6a.program.id,type:17,purl:bg6a.program.coverUrl,name:bg6a.program.name,author:(bg6a.program.radio||[]).name})}this.ve7X&&this.ve7X.V6P()}break;case"mode":this.bJL9C(this.gM7F.cGg6a(),true);break;case"volume":h6b.bi6c(d6d);if(this.Es9j.style.visibility!="hidden"){a5f.bc6W(this.Es9j,"visibility","hidden")}else{a5f.bc6W(this.Es9j,"visibility","visible")}break;case"panel":h6b.bi6c(d6d);if(!this.ve7X){this.ve7X=N6H.bLg9X.B6v({parent:this.lZ5e,onclose:function(){delete this.ve7X;this.bhr7k()}.f6b(this)})}else{if(this.ve7X){this.ve7X.V6P();delete this.ve7X}}break}};b6f.bvL1x=function(d6d){this.qZ6T.innerHTML=l6f.fo7h("<em>{0}</em> / {1}",l6f.lX5c(d6d.time),l6f.lX5c(d6d.duration));try{this.yB7u&&this.yB7u.updateTime(d6d.time)}catch(e){}};b6f.bJL9C=function(eT7M,cR6L){var bD6x={2:{icn:"icn-one",title:"单曲循环"},4:{icn:"icn-loop",title:"循环"},5:{icn:"icn-shuffle",title:"随机"}},bf6Z=bD6x[eT7M];a5f.fn7g(this.bKr9i,"icn-one icn-loop icn-shuffle",bf6Z.icn);this.bvx1x.innerText=this.bKr9i.title=bf6Z.title;clearTimeout(this.cbv2x);if(cR6L){a5f.bc6W(this.bvx1x,"display","");this.cbv2x=setTimeout(function(){a5f.bc6W(this.bvx1x,"display","none")}.f6b(this),2e3)}};b6f.bKf9W=function(df7Y){var gB7u=this.gM7F.re6Y();if(gB7u&&gB7u.program&&gB7u.program.id==df7Y.id){gB7u.program.liked=df7Y.liked;this.hQ8I.title="赞";if(df7Y.liked){a5f.fn7g(this.hQ8I,"icn-zan","icn-yizan")}else{a5f.fn7g(this.hQ8I,"icn-yizan","icn-zan")}this.gM7F.biv8n()}};b6f.bJT9K=function(bg6a){var bw6q;a5f.bc6W(this.XX6R,"width",0);this.bvL1x(0);this.La4e.hc7V(0);var windowParent=window.parent?window.parent:window;var GDegradeConfig={degrade:false};try{GDegradeConfig=windowParent["GDegradeConfig"]}catch(e){}if(bg6a){bw6q=this.cbw2x(bg6a);if(bg6a.program){if(GDegradeConfig.degrade){a5f.fn7g(this.hQ8I,"icn-add icn-zan icn-yizan","f-hide")}else{a5f.fn7g(this.hQ8I,"icn-add","icn-zan");this.hQ8I.title="赞";u6o.ld4h(this.rd6X);this.rd6X=u6o.be6Y("/api/dj/program/detail",{type:"json",query:{id:bg6a.program.id},onload:function(d6d){if(d6d.code==200){this.bKf9W(d6d.program)}}.f6b(this)})}}else{a5f.fn7g(this.hQ8I,"icn-zan icn-yizan f-hide","icn-add");this.hQ8I.title="收藏"}this.lG4K.innerHTML=l6f.fo7h('<img src="{0}?param=34y34"><a href="{1}" hidefocus="true" class="mask"></a>',bw6q.cover,bw6q.titleUrl);a5f.dn7g(this.kd4h,"m-player-playinfo",bw6q);this.cbA2x(bg6a);this.bJJ9A(bg6a)}};b6f.bJK9B=function(){var k6e=a5f.di7b(this.bio8g);k6e[1].innerText=this.gM7F.lV5a()};b6f.cbw2x=function(bg6a){var m6g={duration:bg6a.duration,cover:"http://s4.music.126.net/style/web2/img/default_album.jpg",source:bg6a.source};if(bg6a.program){m6g.type="program";m6g.name=j6d.dN7G(bg6a.program.name);m6g.cover=bg6a.program.coverUrl;m6g.titleUrl="/program?id="+bg6a.program.id;m6g.artistHtml=l6f.fo7h('<a hidefocus="true" href="/radio?id={0}" title="{1}">{1}</a>',bg6a.program.radio.id,j6d.dN7G(bg6a.program.radio.name))}else{m6g.type="song";m6g.name=j6d.dN7G(bg6a.name);m6g.mvid=bg6a.mvid;if(!bg6a.album){bg6a.album={}}if(bg6a.album.pic&&bg6a.album.picUrl){m6g.cover=bg6a.album.picUrl}m6g.titleUrl="/song?id="+bg6a.id;m6g.artistHtml=l6f.sB6v(bg6a.artists)}return m6g};b6f.cbA2x=function(bg6a){try{var mediaSession=window.navigator.mediaSession;var MediaMetadata=window.MediaMetadata;var cbD2x=(bg6a.artists||[]).map(function(ie8W){return(ie8W||{}).name}).join(" / ");var cbE2x=bg6a.program?(bg6a.program.radio||{}).name:(bg6a.album||{}).name;var pa5f=bg6a.program?bg6a.program.coverUrl||(bg6a.program.radio||{}).picUrl:(bg6a.album||{}).picUrl;mediaSession.metadata=new MediaMetadata({title:bg6a.name,artist:cbD2x,album:cbE2x,artwork:[{src:pa5f+"?param=200y200",sizes:"200x200",type:"image/jpeg"}]})}catch(e){}};b6f.bJJ9A=function(bg6a){try{if(!this.yB7u)return;this.yB7u.setData(bg6a);if(bg6a.program)return;y6s.bik8c.cKv6p(bg6a.id,function(ND4H){try{var gB7u=this.gM7F.re6Y();if(!gB7u||gB7u.id!=bg6a.id)return;this.yB7u.setData(bg6a,ND4H)}catch(e){}}.bind(this))}catch(e){}};b6f.zn8f=function(d6d){var i6c=d6d.data;switch(d6d.action){case"play":a5f.w6q(this.hC8u,"pas");a5f.v6p(this.hC8u,"action","pause");u6o.gP7I("playerid",this.bKa9R);var bg6a=this.gM7F.re6Y();if(bg6a){document.title=decodeURIComponent("%E2%96%B6%20")+bg6a.name}h6b.z6t(window,"playstatechange",d6d);try{this.yB7u&&this.yB7u.play()}catch(e){}break;case"pause":a5f.x6r(this.hC8u,"pas");a5f.v6p(this.hC8u,"action","play");document.title=this.cbI2x()||"网易云音乐";try{this.yB7u&&this.yB7u.pause()}catch(e){}break;case"timeupdate":if(this.bJV9M)return;var hR8J=u6o.gP7I("playerid");if(hR8J&&hR8J!==this.bKa9R){this.by6s.fN7G()}this.La4e.hc7V(i6c.time/i6c.duration);this.bvL1x(i6c);break;case"progress":a5f.bc6W(this.XX6R,"width",i6c.loaded*100/i6c.total+"%");break;case"error":this.bvM1x("播放失败");a5f.x6r(this.bhm7f,"z-load");break;case"playing":a5f.x6r(this.bhm7f,"z-load");break;case"waiting":a5f.w6q(this.bhm7f,"z-load");break}};b6f.bvM1x=function(){var io8g=0;return function(dS7L){if(dS7L){this.bvy1x.innerText=dS7L;a5f.bc6W(this.bvy1x,"display","");clearTimeout(io8g);io8g=setTimeout(function(){a5f.bc6W(this.bvy1x,"display","none")}.f6b(this),2e3);this.qr6l(true);this.bhr7k(2e3)}}}();b6f.bKc9T=function(Oj4n,d6d){if(!this.ve7X){if(Oj4n){if(!l6f.OR4V(this.lZ5e,d6d.relatedTarget||d6d.fromElement)){this.qr6l(true)}}else{if(!l6f.OR4V(this.lZ5e,d6d.relatedTarget||d6d.toElement)){this.bhr7k()}}}};b6f.bhr7k=function(uo7h){clearTimeout(this.bJI9z);this.bJI9z=setTimeout(function(){if(!this.yr7k.lock){this.qr6l(false)}}.f6b(this),uo7h||500)};b6f.qr6l=function(){var BO8G,bhc7V=true;return function(mF5K){clearTimeout(this.bJI9z);if(BO8G||mF5K==bhc7V)return;bhc7V=mF5K;BO8G=G6A.In3x.B6v({to:{offset:mF5K?-53:-7},from:{offset:mF5K?-7:-53},onstop:function(){BO8G.V6P();BO8G=null},onupdate:function(d6d){a5f.bc6W(this.lZ5e,"top",d6d.offset+"px")}.f6b(this),duration:mF5K?100:350});BO8G.ez7s()}}();b6f.bKb9S=function(d6d){if(d6d.keyCode==80&&!l6f.bII9z()){this.by6s.uC7v()?this.by6s.fN7G():this.by6s.ez7s()}else if(d6d.ctrlKey){switch(d6d.keyCode){case 37:this.gM7F.AN8F();break;case 39:this.gM7F.po5t();break}}};b6f.caR2x=function(){var g6a=document.createElement("script");g6a.setAttribute("type","text/javascript");g6a.setAttribute("src","/st/pip/lyric/inject.js");g6a.onload=function(){try{if(!window.PipLyric||!window.PipLyric.support)return;this.yB7u=window.PipLyric(l6f.lv4z.bind(this));var gB7u=this.gM7F.re6Y();if(gB7u)this.bJJ9A(gB7u)}catch(e){}g6a.parentNode.removeChild(g6a)}.bind(this);document.head.appendChild(g6a)};b6f.cbt2x=function(){try{var mediaSession=window.navigator.mediaSession;mediaSession.setActionHandler("previoustrack",this.gM7F.AN8F.bind(this.gM7F));mediaSession.setActionHandler("nexttrack",this.gM7F.po5t.bind(this.gM7F))}catch(e){}};b6f.uF7y=function(){a5f.bc6W(this.Es9j,"visibility","hidden");this.ve7X&&this.ve7X.V6P()};b6f.cbI2x=function(){var eU7N=a5f.A6u("g_iframe");if(eU7N){return eU7N.contentWindow.document.title}else{return""}};b6f.I6C=function(){window.g_bottomBarShow=true;a5f.bc6W(this.lZ5e,"visibility","visible")};b6f.br6l=function(){window.g_bottomBarShow=false;this.by6s.fN7G();a5f.bc6W(this.lZ5e,"visibility","hidden")}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),u6o=c6e("nej.j"),G6A=c6e("nej.ut"),Y6S=c6e("nej.ui"),j6d=c6e("nej.u"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),y6s=c6e("nm.w"),b6f;y6s.Rw5B=NEJ.C();b6f=y6s.Rw5B.M6G(Y6S.er7k);b6f.bn6h=function(e6c){this.bp6j(e6c);if(e6c.txt){this.o6i.innerHTML=a5f.ip8h(e6c.txt)}else if(e6c.html){this.o6i.innerHTML=e6c.html}this.Er9i=e6c.captchaId;var k6e=a5f.C6w(this.o6i,"j-flag");this.fa7T=k6e[0];this.eh7a=k6e[1];this.bY6S([[this.eh7a,"click",this.bnf8X.f6b(this)],[this.fa7T,"keypress",this.coU4Y.f6b(this)]]);this.eh7a.src="/captcha?id="+this.Er9i};b6f.bC6w=function(){this.bH6B()};b6f.bnf8X=function(){u6o.be6Y("/api/image/captcha/verify/hf",{type:"json",query:{id:this.Er9i,captcha:0},onload:function(m6g){if(m6g.code==200){this.Er9i=m6g.captchaId;this.eh7a.src="/captcha?id="+this.Er9i}}.f6b(this)})};b6f.coU4Y=function(d6d){if(d6d.keyCode==13)this.z6t("onaction",d6d)};b6f.FD9u=function(){var m6g={},ca6U=this.fa7T.value;if(!ca6U){m6g.message="请输入验证码"}else{u6o.be6Y("/api/image/captcha/verify/hf",{type:"json",sync:true,query:{id:this.Er9i,captcha:ca6U},onload:cbVerify.f6b(this),onerror:cbVerify.f6b(this)})}return m6g;function cbVerify(d6d){if(d6d.code==200){if(d6d.result){m6g.success=true}else{m6g.message="验证码错误";if(d6d.captchaId){this.Er9i=d6d.captchaId;this.eh7a.src="/captcha?id="+this.Er9i}}}else{m6g.message="验证出错"}}};b6f.gj7c=function(){return this.fa7T.value};b6f.Hp3x=function(){return this.Er9i};b6f.w6q=function(jp4t){a5f.w6q(this.fa7T,jp4t)};b6f.x6r=function(jp4t){a5f.x6r(this.fa7T,jp4t)}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,h6b=c6e("nej.v"),a5f=c6e("nej.e"),u6o=c6e("nej.j"),n6h=c6e("nm.l"),y6s=c6e("nm.w"),bG6A=c6e("nej.ui"),p6j=c6e("nm.d"),l6f=c6e("nm.x"),b6f,L6F;n6h.bna8S=NEJ.C();b6f=n6h.bna8S.M6G(n6h.ef7Y);L6F=n6h.bna8S.ct6n;b6f.bW6Q=function(){this.cg6a();var k6e=a5f.C6w(this.o6i,"j-flag");this.fa7T=k6e[0];this.eg7Z=k6e[1];h6b.s6m(this.o6i,"click",this.bN6H.f6b(this))};b6f.cf6Z=function(){this.cd6X="m-captcha-layer"};b6f.bn6h=function(e6c){e6c.clazz="m-layer-captcha";e6c.parent=e6c.parent||document.body;e6c.title="输入验证码";e6c.draggable=!0;e6c.destroyable=true;e6c.mask=true;this.bp6j(e6c);this.dc7V=y6s.Rw5B.B6v({parent:this.fa7T,html:'<input class="u-txt txt f-fl j-flag"/><img class="captcha f-fl j-flag" src=""/>',captchaId:e6c.captchaId})};b6f.bC6w=function(){this.z6t("ondestroy");this.bH6B();if(this.dc7V){this.dc7V.V6P();delete this.dc7V}};b6f.bN6H=function(d6d){var g6a=h6b.ba6U(d6d,"d:action");switch(a5f.v6p(g6a,"action")){case"ok":var bw6q=this.dc7V.FD9u();if(!bw6q.success){this.eg7Z.innerHTML='<i class="u-icn u-icn-25"></i>'+bw6q.message;a5f.x6r(this.eg7Z,"f-hide")}else{a5f.w6q(this.eg7Z,"f-hide");this.br6l()}break;case"cc":this.br6l();break}};l6f.bUK1x=function(e6c){n6h.bna8S.B6v(e6c).I6C()}})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),u6o=c6e("nej.j"),bd6X=c6e("nej.o"),j6d=c6e("nej.u"),h6b=c6e("nej.v"),bG6A=c6e("nej.ui"),p6j=c6e("nm.d"),l6f=c6e("nm.x"),n6h=c6e("nm.l"),b6f,L6F;n6h.ro6i=NEJ.C();b6f=n6h.ro6i.M6G(n6h.ef7Y,!0);b6f.cy6s=function(){this.cD6x()};b6f.bW6Q=function(){this.cg6a();var k6e=a5f.C6w(this.o6i,"j-flag");this.bmY8Q=k6e[0];h6b.s6m(k6e[1],"click",this.bmX8P.f6b(this))};b6f.cf6Z=function(){this.cd6X="m-layer-tip"};b6f.bn6h=function(e6c){e6c.parent=e6c.parent||document.body;this.bp6j(e6c);this.bmY8Q.innerHTML=e6c.mesg||""};b6f.bC6w=function(){this.bH6B()};b6f.bmX8P=function(d6d){this.z6t("onnotice");this.br6l()};n6h.op5u=function(e6c){if(this.AM8E){this.AM8E.V6P();delete this.AM8E}this.AM8E=n6h.ro6i.B6v(e6c);this.AM8E.I6C()}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,h6b=c6e("nej.v"),u6o=c6e("nej.j"),G6A=c6e("nej.ut"),a5f=c6e("nej.e"),j6d=c6e("nej.u"),n6h=c6e("nm.l"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),lz4D=c6e("nm.ctl"),b6f;if(lz4D.bmU8M)return;lz4D.bmU8M=NEJ.C();b6f=lz4D.bmU8M.M6G(G6A.cP6J);var cnD3x=location.host=="music.163.com";if(cnD3x){var bV6P={host:"s2.music.126.net",scaptcha_server:"captcha.aq.163.com/v1_5",scaptcha_product_key:"nj2vr7swvutssrtbj16kzfentkikkvbf",captchaId:"73a18dc827b24b18ad0783701a75277d"}}else{var bV6P={host:location.host,scaptcha_server:"captcha.aq.163.com/v1_5",scaptcha_product_key:"nj2vr7swvutssrtbj16kzfentkikkvbf",captchaId:"73a18dc827b24b18ad0783701a75277d"}}b6f.bUR1x=function(cnd3x){return location.protocol+"//"+bV6P.host+cnd3x};b6f.cmS3x=function(J6D){return NEJ.Q(bV6P,J6D)};c6e("ctl").env=lz4D.bmU8M.fS7L()})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,P6J=c6e("nej.p"),a5f=c6e("nej.e"),h6b=c6e("nej.v"),u6o=c6e("nej.j"),G6A=c6e("nej.ut"),j6d=c6e("nej.u"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),y6s=c6e("nm.w"),b6f;if(y6s.bmN8F)return;y6s.bmN8F=NEJ.C();b6f=y6s.bmN8F.M6G(G6A.cP6J);b6f.cy6s=function(){var time=parseInt(+(new Date)/6e4,10);this.bUV1x=[location.protocol+"//cstaticdun.126.net/load.min.js?t="+time];if(P6J.dB7u&&P6J.dB7u.engine=="trident"&&nej.p.dB7u.release-5<0){this.bUV1x.unshift(ctl.env.bUR1x("/static/web2/3rd/scaptcha/ie6support.js"))}this.cD6x()};b6f.bn6h=function(e6c){this.bp6j(e6c);this.dc7V="";this.hD8v=e6c.parent;this.nb5g={captchaId:e6c.captchaId,width:e6c.width};this.RP5U(0);this.cmB3x()};b6f.bC6w=function(){delete this.bmJ8B;delete this.nb5g;delete this.hD8v;delete this.dc7V;this.bH6B()};b6f.cmB3x=function(){if(this.bmJ8B>0)return;this.RP5U(1);this.clE3x()};b6f.clE3x=function(){var bUW1x=this.bUV1x.shift();if(!bUW1x){this.RP5U(2);this.hq8i()}else{u6o.cyE5J(bUW1x,{onloaded:this.cly3x.f6b(this),onerror:this.RP5U.f6b(this,3)})}};b6f.cly3x=function(){if(j6d.gU7N(window.initNECaptcha)){this.RP5U(2);window.initNECaptcha({captchaId:this.nb5g.captchaId,element:this.hD8v,mode:"float",width:this.nb5g.width,onVerify:this.uD7w.f6b(this)},function(instance){this.fb7U=instance}.f6b(this),function(err){console.log("易盾sdk初始化失败",err)}.f6b(this))}};b6f.RP5U=function(bUX1x){this.bmJ8B=bUX1x;this.z6t("onloadstatechange",{loadState:bUX1x})};b6f.uD7w=function(err,data){if(err){return}setTimeout(this.clw3x.f6b(this,data),0)};b6f.clw3x=function(d6d){if(d6d.validate){this.dc7V=d6d.validate}else{this.dc7V=""}this.z6t("onverify",{success:true})};b6f.hq8i=function(){if(this.bmJ8B==2){if(this.fb7U&&j6d.gU7N(this.fb7U.refresh)){this.dc7V="";this.fb7U.refresh()}}};b6f.Om4q=function(){return this.dc7V}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),u6o=c6e("nej.j"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),l6f=c6e("nm.x"),y6s=c6e("nm.w"),b6f,L6F;n6h.Hz3x=NEJ.C();b6f=n6h.Hz3x.M6G(n6h.ef7Y);L6F=n6h.Hz3x.ct6n;b6f.bn6h=function(e6c){this.bp6j(e6c);this.dy7r=e6c;this.dc7V=y6s.bmN8F.B6v({parent:this.Ol4p,captchaId:ctl.env.cmS3x("captchaId"),width:220,onverify:this.uD7w.f6b(this)})};b6f.bC6w=function(){this.bH6B();if(this.dc7V){this.dc7V.V6P();delete this.dc7V}};b6f.cf6Z=function(){this.cd6X="ntp-setnickname"};b6f.bW6Q=function(){this.cg6a();var k6e=a5f.C6w(this.o6i,"js-flag");this.fl7e=k6e.shift();a5f.hl8d(this.fl7e,"holder");h6b.s6m(this.fl7e,"focus",this.gW7P.f6b(this));h6b.s6m(this.fl7e,"keypress",this.FA9r.f6b(this));h6b.s6m(this.fl7e,"keyup",this.bmF8x.f6b(this));this.Ol4p=k6e.shift();this.eg7Z=k6e.shift();this.cx6r=k6e.shift();h6b.s6m(this.o6i,"click",this.bN6H.f6b(this))};b6f.I6C=function(){L6F.I6C.apply(this,arguments);this.bU6O(false);this.cO6I(false);this.fl7e.value="";this.dc7V.hq8i()};b6f.gW7P=function(){a5f.x6r(this.fl7e,"u-txt-err")};b6f.FA9r=function(d6d){if(d6d.keyCode==13)this.pi5n()};b6f.bN6H=function(d6d){var H6B=h6b.ba6U(d6d,"d:action");if(!H6B)return;var U6O=a5f.v6p(H6B,"action");switch(U6O){case"ok":this.pi5n(d6d);break}};b6f.pi5n=function(d6d){h6b.cn6h(d6d);if(this.cO6I())return;if(!(this.rD6x=this.baP6J()))return;var iX4b=this.dc7V.Om4q();if(!iX4b.trim())return this.bU6O("请输入验证码","captcha");if(this.dy7r.onok){this.cO6I(true);this.dy7r.onok({nickname:this.rD6x,dragPwd:iX4b})}};b6f.uD7w=function(d6d){if(d6d.success){this.bU6O(false);if(this.fl7e.value.trim()){this.pi5n()}}else{this.bU6O("验证码错误","captcha")}};b6f.baP6J=function(){var jm4q=this.fl7e.value.trim(),oR5W=jm4q.replace(/[^\x00-\xff]/g,"**");if(!jm4q)return this.bU6O("请输入昵称","nickname");if(oR5W.length<4||oR5W.length>30)return this.bU6O("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(!/^[\u4e00-\u9fa5A-Za-z0-9-_]*$/.test(jm4q))return this.bU6O("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");return jm4q};b6f.bmF8x=function(d6d){var jm4q=this.fl7e.value.trim(),oR5W=jm4q.replace(/[^\x00-\xff]/g,"**");if(this.bmE8w==jm4q)return;this.bmE8w=jm4q;if(d6d.keyCode==13)return;if(/[^\u4e00-\u9fa5\w-]/.test(jm4q))return this.bU6O("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(jm4q&&oR5W.length>30)return this.bU6O("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");this.bU6O(false)};b6f.bU6O=function(bB6v,iY4c,ckG3x){this.dY7R(this.eg7Z,bB6v);a5f.x6r(this.fl7e,"u-txt-err");if(iY4c=="nickname"){a5f.w6q(this.fl7e,"u-txt-err")}else if(iY4c=="captcha"){}if(ckG3x){this.dc7V.hq8i()}};b6f.cO6I=function(de7X){return this.dZ7S(this.cx6r,de7X,"完成注册，开启云音乐","设置中...")}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),u6o=c6e("nej.j"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),l6f=c6e("nm.x"),b6f,L6F;n6h.bmD8v=NEJ.C();b6f=n6h.bmD8v.M6G(n6h.ef7Y);L6F=n6h.bmD8v.ct6n;b6f.cf6Z=function(){this.cd6X="ntp-setpassword"};b6f.bW6Q=function(){this.cg6a();var Ki3x=a5f.C6w(this.o6i,"js-tip");this.cC6w=Ki3x[0];this.Vd5i=Ki3x[1];this.Ve5j=Ki3x[2];this.qK6E=a5f.C6w(this.o6i,"js-mob")[0];this.mO5T=a5f.C6w(this.o6i,"js-code")[0];this.dA7t=a5f.C6w(this.o6i,"js-input")[0];a5f.hl8d(this.dA7t,"holder");h6b.s6m(this.dA7t,"focus",this.gW7P.f6b(this));h6b.s6m(this.dA7t,"keypress",this.FA9r.f6b(this));h6b.s6m(this.dA7t,"input",this.Vm5r.f6b(this));this.eg7Z=a5f.C6w(this.o6i,"u-err")[0];this.cx6r=a5f.C6w(this.o6i,"js-primary")[0];this.AB8t=a5f.C6w(this.o6i,"js-btmbar")[0];this.oX5c=a5f.C6w(this.o6i,"pwd-validation")[0];this.DI8A=a5f.C6w(this.oX5c,"j-err")[0];this.DJ8B=a5f.C6w(this.oX5c,"j-err")[1];this.DK8C=a5f.C6w(this.oX5c,"j-err")[2];h6b.s6m(this.o6i,"click",this.bN6H.f6b(this))};b6f.bn6h=function(e6c){e6c.countrycode=e6c.countrycode||"86";this.bp6j(e6c);this.dy7r=e6c;this.bU6O(false);this.cO6I(false);if(e6c.tip){this.cC6w.innerHTML=e6c.tip;a5f.x6r(this.cC6w,"f-hide")}else{a5f.w6q(this.cC6w,"f-hide")}if(e6c.mobile){this.qK6E.innerHTML=l6f.JT3x(e6c.mobile)||"";this.mO5T.innerHTML=e6c.countrycode;a5f.w6q(this.Ve5j,"f-hide");a5f.x6r(this.Vd5i,"f-hide")}else{a5f.w6q(this.Vd5i,"f-hide");a5f.x6r(this.Ve5j,"f-hide")}this.dA7t.value="";a5f.w6q(this.oX5c,"f-hide");e6c.okbutton=e6c.okbutton||"下一步";this.cx6r.innerHTML="<i>"+e6c.okbutton+"</i>";if(e6c.canskip){a5f.x6r(this.AB8t,"f-hide")}else{a5f.w6q(this.AB8t,"f-hide")}};b6f.bN6H=function(d6d){var H6B=h6b.ba6U(d6d,"d:action");if(!H6B)return;var U6O=a5f.v6p(H6B,"action");switch(U6O){case"ok":this.pi5n(d6d);break;case"skip":this.Mw4A(d6d);break}};b6f.gW7P=function(){a5f.x6r(this.oX5c,"f-hide");var eX7Q=this.dA7t.value;this.yJ7C(eX7Q)};b6f.FA9r=function(d6d){if(d6d.keyCode==13)this.pi5n()};b6f.Vm5r=function(){var eX7Q=this.dA7t.value;this.yJ7C(eX7Q)};b6f.yJ7C=function(pwd){var spaceReg=/(^\s+)|(\s+$)|\s+/g;var complexReg=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{0,100}$/;var spaceValidate=true;var complexValidate=true;var lengthValidate=true;if(spaceReg.test(pwd)){a5f.w6q(this.DI8A,"u-err");spaceValidate=false}else{a5f.x6r(this.DI8A,"u-err");spaceValidate=true}if(pwd&&pwd.length>0){this.bU6O(false)}if(!pwd||!complexReg.test(pwd)){a5f.w6q(this.DJ8B,"u-err");complexValidate=false}else{a5f.x6r(this.DJ8B,"u-err");complexValidate=true}if(!pwd||pwd&&(pwd.length<8||pwd.length>20)){a5f.w6q(this.DK8C,"u-err");lengthValidate=false}else{a5f.x6r(this.DK8C,"u-err");lengthValidate=true}var pwdValidate=spaceValidate&&complexValidate&&lengthValidate;if(!pwdValidate){this.FM9D=false;a5f.w6q(this.dA7t,"u-txt-err");a5f.w6q(this.cx6r,"u-btn2-dis")}else{this.FM9D=true;a5f.x6r(this.dA7t,"u-txt-err");a5f.x6r(this.cx6r,"u-btn2-dis")}return pwdValidate};b6f.Mw4A=function(d6d){h6b.cn6h(d6d);this.br6l();this.z6t("onskip")};b6f.pi5n=function(d6d){h6b.cn6h(d6d);if(this.cO6I())return;var eX7Q=this.dA7t.value;if(!this.yJ7C(eX7Q))return;this.cO6I(true);u6o.be6Y("/api/w/user/bindingcellphone/v1",{type:"json",method:"post",query:{phone:this.dy7r.mobile,captcha:this.dy7r.captcha,password:j6d.kY4c(eX7Q),loginprotect:false},onload:function(i6c){if(i6c.code===200){this.z6t("onok")}else{this.z6t("onerror",i6c)}}.f6b(this),onerror:function(){this.z6t("onerror",{code:500})}})};b6f.byW1x=function(){var eX7Q=this.dA7t.value;if(!eX7Q)return this.bU6O("请输入密码","password");if(eX7Q.length<6||eX7Q.length>16)return this.bU6O("请输入6-16位的密码","password");if(/[^\x00-\xff]/.test(eX7Q))return this.bU6O("密码不支持中文字符","password");return eX7Q};b6f.bU6O=function(bB6v,iY4c){this.dY7R(this.eg7Z,bB6v);a5f.x6r(this.dA7t,"u-txt-err");if(iY4c=="password"){a5f.w6q(this.dA7t,"u-txt-err")}};b6f.cO6I=function(de7X){return this.dZ7S(this.cx6r,de7X,this.dy7r.okbutton,"设置中...")}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),ci6c=c6e("nej.ut"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),b6f,L6F;n6h.Bb8T=NEJ.C();b6f=n6h.Bb8T.M6G(ci6c.cP6J);b6f.bn6h=function(e6c){this.bp6j(e6c);this.dy7r=e6c;this.sW6Q=e6c.user;this.S6M=p6j.mV5a.B6v();this.S6M.s6m("onmobilebind",this.bxK1x.f6b(this));this.S6M.s6m("onmobilebinderror",this.bdX7Q.f6b(this));this.S6M.s6m("onactive",this.Si5n.f6b(this));this.S6M.s6m("onactiveerror",this.bmC8u.f6b(this));if(e6c.requiremobile&&!this.ckq3x(this.sW6Q)){this.dO7H=n6h.pn5s.I6C({title:"绑定手机号",onok:this.bxI1x.f6b(this),canskip:true,onskip:this.bmB8t.f6b(this)})}else{this.bmB8t()}l6f.kg4k()};b6f.bC6w=function(){this.bH6B();this.S6M.V6P();if(this.dO7H)this.dO7H.V6P();if(this.ng5l)this.ng5l.V6P()};b6f.bxI1x=function(bk6e){this.gp7i=bk6e.mobile;this.bbc6W=bk6e.captcha;this.NW4a()};b6f.NW4a=function(){if(this.dO7H)this.dO7H.br6l();if(this.ks4w)this.ks4w.V6P();this.ks4w=n6h.bmD8v.I6C({title:"绑定手机号",mobile:this.gp7i,captcha:this.bbc6W,canskip:false,onok:this.bmB8t.f6b(this),onerror:this.bdX7Q.f6b(this)})};b6f.bmB8t=function(){if(this.ks4w)this.ks4w.V6P();if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.bbe6Y={data:{nickname:"",dragPwd:""}};this.je4i()}else{if(this.ng5l)this.ng5l.V6P();this.ng5l=n6h.Hz3x.I6C({title:"设置昵称",onok:this.ckb3x.f6b(this)})}};b6f.bxK1x=function(){this.dO7H.br6l();this.NW4a()};b6f.bdX7Q=function(bk6e){if(bk6e.code==506){this.dO7H.I6C();this.ks4w.br6l();this.dO7H.cO6I(false);this.dO7H.bU6O(bk6e.message,"mobile")}else{n6h.bb6V.I6C({tip:bk6e.message||"绑定失败，请稍后重试",type:2})}};b6f.ckb3x=function(bk6e){this.bbe6Y={data:{nickname:bk6e.nickname,dragPwd:bk6e.dragPwd}};l6f.wI7B(this.je4i.f6b(this))};b6f.je4i=function(cp6j){var randomStr=Math.random().toString(36).substr(2);this.bbe6Y.data.checkToken=cp6j||randomStr;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.bbe6Y.data.checkToken=""}this.S6M.bzd1x(this.bbe6Y)};b6f.Si5n=function(bk6e){if(this.ng5l){this.ng5l.br6l()}this.sW6Q.profile=bk6e.profile;h6b.z6t(window,"login",{user:this.sW6Q})};b6f.bmC8u=function(bk6e){this.ng5l.cO6I(false);if(bk6e.code==505)return this.ng5l.bU6O("该昵称已被占用","nickname",true);if(bk6e.code==407)return this.ng5l.bU6O("该昵称包含关键词","nickname",true);if(bk6e.code==250)return this.ng5l.bU6O(bk6e.message||"登录异常","nickname",true);n6h.bb6V.I6C({tip:bk6e.message||"登录失败，请重试",type:2});this.ng5l.br6l()};b6f.ckq3x=function(dg7Z){var uM7F=dg7Z.bindings||[];return j6d.dv7o(uM7F,function(q6k){return q6k.type==1})>=0}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),y6s=c6e("nm.w"),b6f,L6F;n6h.Sp5u=NEJ.C();b6f=n6h.Sp5u.M6G(n6h.ef7Y);L6F=n6h.Sp5u.ct6n;b6f.cf6Z=function(){this.cd6X="ntp-reg-mobile"};b6f.bW6Q=function(){this.cg6a();this.qK6E=a5f.C6w(this.o6i,"j-mob")[0];this.dA7t=a5f.C6w(this.o6i,"j-pwd")[0];this.oX5c=a5f.C6w(this.o6i,"pwd-validation")[0];this.oj5o=a5f.C6w(this.o6i,"j-nextstep")[0];this.DI8A=a5f.C6w(this.oX5c,"j-err")[0];this.DJ8B=a5f.C6w(this.oX5c,"j-err")[1];this.DK8C=a5f.C6w(this.oX5c,"j-err")[2];this.eg7Z=a5f.C6w(this.o6i,"j-err")[0];this.cx6r=a5f.C6w(this.o6i,"j-btn")[0];a5f.hl8d(this.dA7t,"holder");h6b.s6m(this.dA7t,"focus",this.Bf8X.f6b(this));h6b.s6m(this.dA7t,"keypress",this.Bg8Y.f6b(this));h6b.s6m(this.dA7t,"input",this.Vm5r.f6b(this));h6b.s6m(this.o6i,"click",this.bN6H.f6b(this));this.FM9D=true};b6f.bn6h=function(e6c){this.bp6j(e6c);this.jR4V=y6s.bcs7l.B6v({parent:this.qK6E,phone:e6c.mobile,countrycode:e6c.countrycode,onpressenter:this.bmA8s.f6b(this)});this.bU6O(false);this.cO6I(false);a5f.w6q(this.oX5c,"f-hide");this.dA7t.value=""};b6f.bC6w=function(){this.bH6B();this.jR4V.V6P()};b6f.Bf8X=function(){a5f.x6r(this.oX5c,"f-hide");var eX7Q=this.dA7t.value;this.yJ7C(eX7Q)};b6f.Vm5r=function(){var eX7Q=this.dA7t.value;this.yJ7C(eX7Q)};b6f.Bg8Y=function(d6d){if(d6d.keyCode==13)this.bmA8s()};b6f.yJ7C=function(pwd){var spaceReg=/(^\s+)|(\s+$)|\s+/g;var complexReg=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{0,100}$/;var spaceValidate=true;var complexValidate=true;var lengthValidate=true;if(spaceReg.test(pwd)){a5f.w6q(this.DI8A,"u-err");spaceValidate=false}else{a5f.x6r(this.DI8A,"u-err");spaceValidate=true}if(pwd&&pwd.length>0){this.bU6O(false)}if(!pwd||!complexReg.test(pwd)){a5f.w6q(this.DJ8B,"u-err");complexValidate=false}else{a5f.x6r(this.DJ8B,"u-err");complexValidate=true}if(!pwd||pwd&&(pwd.length<8||pwd.length>20)){a5f.w6q(this.DK8C,"u-err");lengthValidate=false}else{a5f.x6r(this.DK8C,"u-err");lengthValidate=true}var pwdValidate=spaceValidate&&complexValidate&&lengthValidate;if(!pwdValidate){this.FM9D=false;a5f.w6q(this.dA7t,"u-txt-err");a5f.w6q(this.oj5o,"u-btn2-dis")}else{this.FM9D=true;a5f.x6r(this.dA7t,"u-txt-err");a5f.x6r(this.oj5o,"u-btn2-dis")}};b6f.bN6H=function(d6d){var H6B=h6b.ba6U(d6d,"d:action");if(!H6B)return;var U6O=a5f.v6p(H6B,"action");switch(U6O){case"ok":this.bmA8s(d6d);break;case"back":this.bdO7H(d6d);break}};b6f.bdO7H=function(d6d){h6b.cn6h(d6d);this.br6l();n6h.rF6z.I6C({title:"登录"})};b6f.bmA8s=function(d6d){h6b.cn6h(d6d);if(!this.FM9D)return;var fM7F=this.ts6m();if(!fM7F)return;this.cO6I(true);this.z6t("onok",{mobile:fM7F.mobile,countrycode:fM7F.countrycode,password:fM7F.password})};b6f.ts6m=function(){var fe7X=this.jR4V.Gb9S(),lc4g=this.jR4V.Ml4p(),eX7Q=this.dA7t.value;if(!fe7X)return this.bU6O("请输入手机号","mobile");if(!eX7Q)return this.bU6O("请输入登录密码","password");if(!l6f.ys7l(fe7X,lc4g))return this.bU6O("请输入正确的手机号","mobile");if(eX7Q.length<6||eX7Q.length>16)return this.bU6O("请输入6-16位的密码","password");return{mobile:fe7X,password:eX7Q,countrycode:lc4g}};b6f.bU6O=function(bB6v,iY4c){this.dY7R(this.eg7Z,bB6v);this.jR4V.bcJ7C();a5f.x6r(this.dA7t,"u-txt-err");if(iY4c=="mobile"){this.jR4V.byo1x()}else if(iY4c=="password"){a5f.w6q(this.dA7t,"u-txt-err")}};b6f.cO6I=function(de7X){return this.dZ7S(this.cx6r,de7X,"下一步","发送中...")}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),y6s=c6e("nm.w"),b6f,L6F;n6h.bbm6g=NEJ.C();b6f=n6h.bbm6g.M6G(n6h.ef7Y);L6F=n6h.bbm6g.ct6n;b6f.cf6Z=function(){this.cd6X="ntp-reg-setting"};b6f.bW6Q=function(){this.cg6a();this.cC6w=a5f.C6w(this.o6i,"js-tip")[0];this.iL4P=a5f.C6w(this.o6i,"js-input")[0];a5f.hl8d(this.iL4P,"holder");h6b.s6m(this.iL4P,"focus",this.cjZ3x.f6b(this));h6b.s6m(this.iL4P,"keypress",this.cjY3x.f6b(this));h6b.s6m(this.iL4P,"keyup",this.bmF8x.f6b(this));this.eg7Z=a5f.C6w(this.o6i,"u-err")[0];this.cx6r=a5f.C6w(this.o6i,"js-primary")[0];h6b.s6m(this.o6i,"click",this.bN6H.f6b(this));l6f.kg4k()};b6f.bn6h=function(e6c){this.bp6j(e6c);this.gp7i=e6c.mobile||"";this.fL7E=e6c.countrycode||"86";this.uN7G=e6c.password||"";this.cjW3x=e6c.captcha||"";if(e6c.tip){this.cC6w.innerHTML=e6c.tip}this.bU6O(false);this.cO6I(false);this.iL4P.value="";this.S6M=p6j.mV5a.B6v({onmobileregist:this.Sz5E.f6b(this),onmobileregisterror:this.jr4v.f6b(this)})};b6f.bC6w=function(){this.bH6B();this.S6M.V6P();if(this.dc7V){this.dc7V.V6P();delete this.dc7V}};b6f.bN6H=function(d6d){var H6B=h6b.ba6U(d6d,"d:action");if(!H6B)return;var U6O=a5f.v6p(H6B,"action");switch(U6O){case"ok":this.SA5F(d6d);break}};b6f.cjZ3x=function(){a5f.x6r(this.iL4P,"u-txt-err")};b6f.cjY3x=function(d6d){if(d6d.keyCode==13)this.SA5F()};b6f.SA5F=function(d6d){h6b.cn6h(d6d);if(this.cO6I())return;var fM7F=this.ts6m();if(!fM7F)return;var i6c={phone:this.gp7i,countrycode:this.fL7E,password:j6d.kY4c(this.uN7G),nickname:fM7F.nickname,captcha:this.cjW3x};this.cO6I(true);this.bUY1x=i6c;l6f.wI7B(this.je4i.f6b(this))};b6f.je4i=function(cp6j){var randomStr=Math.random().toString(36).substr(2);this.bUY1x.checkToken=cp6j||randomStr;this.S6M.bbj6d({data:this.bUY1x})};b6f.Sz5E=function(m6g){this.cO6I(false);this.br6l();localCache.mS5X("user",m6g);h6b.z6t(window,"login",{user:m6g})};b6f.jr4v=function(bk6e){this.cO6I(false);if(bk6e.code==415){if(this.dc7V){this.dc7V.V6P();this.bU6O("注册过于频繁","captcha")}this.dc7V=y6s.Rw5B.B6v({captchaId:bk6e.captchaId,txt:"txt-login-captcha",onaction:this.SA5F.f6b(this)});this.eg7Z.insertAdjacentElement("beforeBegin",this.dc7V.mm5r());return}if(bk6e.code==505)return this.bU6O("该昵称已被占用","nickname");if(bk6e.code==407)return this.bU6O("该昵称包含关键词","nickname");if(bk6e.code==250){this.bU6O(bk6e.message||"注册异常");return}if(bk6e.message){this.bU6O(bk6e.message)}else{n6h.bb6V.I6C({tip:"注册失败，请重试",type:2})}};b6f.ts6m=function(){var jm4q=this.iL4P.value.trim(),oR5W=jm4q.replace(/[^\x00-\xff]/g,"**"),iX4b="";if(!jm4q)return this.bU6O("请输入昵称","nickname");if(this.dc7V){iX4b=this.dc7V.gj7c();if(!iX4b)return this.bU6O("请输入验证码","captcha");var bw6q=this.dc7V.FD9u();if(!bw6q.success){return this.bU6O(bw6q.message,"captcha")}}if(oR5W.length<4||oR5W.length>30)return this.bU6O("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(!/^[\u4e00-\u9fa5A-Za-z0-9-_]*$/.test(jm4q))return this.bU6O("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");return{nickname:jm4q,captcha:iX4b}};b6f.bmF8x=function(d6d){var jm4q=this.iL4P.value.trim(),oR5W=jm4q.replace(/[^\x00-\xff]/g,"**");if(this.bmE8w==jm4q)return;this.bmE8w=jm4q;if(d6d.keyCode==13)return;if(/[^\u4e00-\u9fa5\w-]/.test(jm4q))return this.bU6O("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");if(jm4q&&oR5W.length>30)return this.bU6O("昵称应该是4-30个字，且不包含除-和_以外的特殊字符","nickname");this.bU6O(false)};b6f.bU6O=function(bB6v,iY4c){this.dY7R(this.eg7Z,bB6v);a5f.x6r(this.iL4P,"u-txt-err");if(this.dc7V)this.dc7V.x6r("u-txt-err");if(iY4c=="nickname"){a5f.w6q(this.iL4P,"u-txt-err")}else if(iY4c=="captcha"){if(this.dc7V)this.dc7V.w6q("u-txt-err")}};b6f.cO6I=function(de7X){return this.dZ7S(this.cx6r,de7X,"完成注册，开启云音乐","设置中...")}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),ci6c=c6e("nej.ut"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),b6f,L6F;var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};n6h.bbv6p=NEJ.C();b6f=n6h.bbv6p.M6G(ci6c.cP6J);b6f.bn6h=function(e6c){e6c=e6c||{};this.bp6j(e6c);this.S6M=p6j.mV5a.B6v({onsendcaptcha:this.sf6Z.f6b(this),onsendcaptchaerror:this.Bk8c.f6b(this),onmobilecheck:this.SD5I.f6b(this),onmobilecheckerror:this.SE5J.f6b(this),onmobileregist:this.Sz5E.f6b(this),onmobileregisterror:this.bbz6t.f6b(this)});this.Bl8d=n6h.Sp5u.I6C({title:"手机号注册",onok:this.NM4Q.f6b(this)})};b6f.bC6w=function(){this.bH6B();this.S6M.V6P();if(this.Bl8d)this.Bl8d.V6P();if(this.dO7H)this.dO7H.V6P()};b6f.NM4Q=function(bk6e){this.gp7i=bk6e.mobile;this.fL7E=bk6e.countrycode;this.uN7G=bk6e.password;this.S6M.yS7L({data:{ctcode:this.fL7E,cellphone:bk6e.mobile}})};b6f.sf6Z=function(){this.Bl8d.br6l();this.dO7H=n6h.pn5s.I6C({title:"手机号注册",mobile:this.gp7i,countrycode:this.fL7E,okbutton:"下一步",onok:this.bmy8q.f6b(this),backbutton:"&lt;&nbsp;&nbsp;返回登录",onback:this.bmw8o.f6b(this)})};b6f.Bk8c=function(bk6e){this.Bl8d.cO6I(false);n6h.bb6V.I6C({tip:bk6e.message||"验证码发送失败",type:2})};b6f.bmy8q=function(bk6e){this.gp7i=bk6e.mobile;this.fL7E=bk6e.countrycode;this.dc7V=bk6e.captcha;this.S6M.bzk1x({data:{cellphone:bk6e.mobile,captcha:bk6e.captcha,countrycode:bk6e.countrycode}})};b6f.SD5I=function(bk6e){this.dO7H.br6l();switch(bk6e.exist){case MOB_CHECK.NULL:if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.je4i()}else{n6h.bbm6g.I6C({title:"手机号注册",mobile:this.gp7i,countrycode:this.fL7E,password:this.uN7G,captcha:this.dc7V})}break;case MOB_CHECK.MAIN:case MOB_CHECK.SNS:case MOB_CHECK.NETEASE:this.HX3x();break}};b6f.SE5J=function(bk6e){n6h.bb6V.I6C({tip:bk6e.message||"验证码发送失败",type:2})};b6f.Sz5E=function(bk6e){localCache.mS5X("user",bk6e);if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){h6b.z6t(window,"login",{user:bk6e})}else{if(!bk6e.profile){if(this.lD4H)this.lD4H.V6P();this.lD4H=n6h.Bb8T.B6v({user:bk6e,requiremobile:false,onsuccess:this.uQ7J.f6b(this)})}else{l6f.dT7M({clazz:"m-layer-w2",title:"手机号注册",message:'该手机号已与云音乐账号 <strong class="s-fc1">'+j6d.dN7G(bk6e.profile.nickname)+"</strong> 绑定，<br/><br/>以后你可以直接用该手机号+密码登录",btntxt:"知道了",action:h6b.z6t.f6b(h6b,window,"login",{user:bk6e}),onclose:h6b.z6t.f6b(h6b,window,"login",{user:bk6e})})}}};b6f.uQ7J=function(d6d){h6b.z6t(window,"login",{user:d6d.user})};b6f.bbz6t=function(bk6e){if(bk6e.code==415){l6f.bUK1x({captchaId:bk6e.captchaId,ondestroy:this.HX3x.f6b(this)})}else{n6h.bb6V.I6C({tip:bk6e.message||"注册失败，请重试",type:2})}};b6f.bmw8o=function(){this.dO7H.br6l();n6h.rF6z.I6C({title:"登录"})};b6f.je4i=function(cp6j){var randomStr=Math.random().toString(36).substr(2);var checkToken=cp6j||randomStr;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.S6M.bbj6d({data:{phone:this.gp7i,countrycode:this.fL7E,password:j6d.kY4c(this.uN7G),captcha:this.dc7V,nickname:"",checkToken:""}})}else{this.S6M.bbj6d({data:{phone:this.gp7i,countrycode:this.fL7E,password:j6d.kY4c(this.uN7G),captcha:this.dc7V,checkToken:checkToken}})}};b6f.HX3x=function(){l6f.wI7B(this.je4i.f6b(this))}})();
(function(global,factory){"use strict";if(typeof module==="object"&&typeof module.exports==="object"){module.exports=global.document?factory(global):function(w){if(!w.document){throw new Error("initNECaptchaWithFallback requires a window with a document")}return factory(w)}}else if(typeof define==="function"&&define.amd){define("initNECaptchaWithFallback",[],function(){return factory(global)})}else{global.initNECaptchaWithFallback=factory(global)}})(typeof window!=="undefined"?window:this,function(window){"use strict";var errorCallbackCount=0;var DEFAULT_VALIDATE="QjGAuvoHrcpuxlbw7cp4WnIbbjzG4rtSlpc7EDovNHQS._ujzPZpeCInSxIT4WunuDDh8dRZYF2GbBGWyHlC6q5uEi9x-TXT9j7J705vSsBXyTar7aqFYyUltKYJ7f4Y2TXm_1Mn6HFkb4M7URQ_rWtpxQ5D6hCgNJYC0HpRE7.2sttqYKLoi7yP1KHzK-PptdHHkVwb77cwS2EJW7Mj_PsOtnPBubTmTZLpnRECJR99dWTVC11xYG0sx8dJNLUxUFxEyzTfX4nSmQz_T5sXATRKHtVAz7nmV0De5unmflfAlUwMGKlCT1khBtewlgN5nHvyxeD8Z1_fPVzi9oznl-sbegj6lKfCWezmLcwft8.4yaVh6SlzXJq-FnSK.euq9OBd5jYc82ge2_hEca1fGU--SkPRzgwkzew4O4qjdS2utdPwFONnhKAIMJRPUmCV4lPHG1OeRDvyNV8sCnuFMw7leasxIhPoycl4pm5bNy70Z1laozEGJgItVNr3";var FALLBACK_LANG={"zh-CN":"前方拥堵，已自动跳过验证",en:"captcha error，Verified automatically"};var CACHE_MIN=1e3*60;var REQUEST_SCRIPT_ERROR=502;var RESOURCE_CACHE={};function loadScript(src,cb){var head=document.head||document.getElementsByTagName("head")[0];var script=document.createElement("script");cb=cb||function(){};script.type="text/javascript";script.charset="utf8";script.async=true;script.src=src;if(!("onload"in script)){script.onreadystatechange=function(){if(this.readyState!=="complete"&&this.readyState!=="loaded")return;this.onreadystatechange=null;cb(null,script)}}script.onload=function(){this.onerror=this.onload=null;cb(null,script)};script.onerror=function(){this.onerror=this.onload=null;cb(new Error("Failed to load "+this.src),script)};head.appendChild(script)}function joinUrl(protocol,host,path){protocol=protocol||"";host=host||"";path=path||"";if(protocol){protocol=protocol.replace(/:?\/{0,2}$/,"://")}if(host){var matched=host.match(/^([-0-9a-zA-Z.:]*)(\/.*)?/);host=matched[1];path=(matched[2]||"")+"/"+path}!host&&(protocol="");return protocol+host+path}function setDomText(el,value){if(value===undefined)return;var nodeType=el.nodeType;if(nodeType===1||nodeType===11||nodeType===9){if(typeof el.textContent==="string"){el.textContent=value}else{el.innerText=value}}}function queryAllByClassName(selector,node){node=node||document;if(node.querySelectorAll){return node.querySelectorAll(selector)}if(!/^\.[^.]+$/.test(selector))return[];if(node.getElementsByClassName){return node.getElementsByClassName(selector)}var children=node.getElementsByTagName("*");var current;var result=[];var className=selector.slice(1);for(var i=0,l=children.length;i<l;i++){current=children[i];if(~(" "+current.className+" ").indexOf(" "+className+" ")){result.push(current)}}return result}function assert(condition,msg){if(!condition)throw new Error("[NECaptcha] "+msg)}function isInteger(val){if(Number.isInteger){return Number.isInteger(val)}return typeof val==="number"&&isFinite(val)&&Math.floor(val)===val}function isArray(val){if(Array.isArray)return Array.isArray(val);return Object.prototype.toString.call(val)==="[object Array]"}function ObjectAssign(){if(Object.assign){return Object.assign.apply(null,arguments)}var target={};for(var index=1;index<arguments.length;index++){var source=arguments[index];if(source!=null){for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}}return target}function getTimestamp(msec){msec=!msec&&msec!==0?msec:1;return parseInt((new Date).valueOf()/msec,10)}function normalizeFallbackConfig(customConfig){var siteProtocol=window.location.protocol.replace(":","");var defaultConf={protocol:siteProtocol==="http"?"http":"https",lang:"zh-CN",errorFallbackCount:3};var config=ObjectAssign({},defaultConf,customConfig);var errorFallbackCount=config.errorFallbackCount;assert(errorFallbackCount===undefined||isInteger(errorFallbackCount)&&errorFallbackCount>=1,"errorFallbackCount must be an integer, and it's value greater than or equal one");return config}function loadResource(config,cb){if(window.initNECaptcha)return cb(null);function genUrl(server){var path="load.min.js";var urls=[];if(isArray(server)){for(var i=0,len=server.length;i<len;i++){urls.push(joinUrl(config.protocol,server[i],path))}}else{var url=joinUrl(config.protocol,server,path);urls=[url,url]}return urls}var urls=genUrl(config.staticServer||["cstaticdun.126.net","cstaticdun1.126.net","cstatic.dun.163yun.com"]);function step(i){var url=urls[i]+"?v="+getTimestamp(CACHE_MIN);loadScript(url,function(err){if(err||!window.initNECaptcha){i=i+1;if(i===urls.length){return cb(new Error("Failed to load script("+url+")."+(err?err.message:"unreliable script")))}return step(i)}return cb(null)})}step(0)}function initNECaptchaWithFallback(options,onload,onerror){var captchaIns=null;var config=normalizeFallbackConfig(options);var defaultFallback=config.defaultFallback!==false;var langPkg=FALLBACK_LANG[config.lang==="zh-CN"?config.lang:"en"];var storeKey=window.location.pathname+"_"+config.captchaId+"_NECAPTCHA_ERROR_COUNTS";try{errorCallbackCount=parseInt(localStorage.getItem(storeKey)||0,10)}catch(error){}var fallbackFn=!defaultFallback?config.onFallback||function(){}:function(validate){function setFallbackTip(instance){if(!instance)return;setFallbackTip(instance.NI4M);if(!instance.$el)return;var tipEles=queryAllByClassName(".yidun-fallback__tip",instance.$el);if(!tipEles.length)return;setTimeout(function(){for(var i=0,l=tipEles.length;i<l;i++){setDomText(tipEles[i],langPkg)}},0)}setFallbackTip(captchaIns);config.onVerify&&config.onVerify(null,{validate:validate})};var noFallback=!defaultFallback&&!config.onFallback;var proxyOnError=function(error){errorCallbackCount++;if(errorCallbackCount<config.errorFallbackCount){try{localStorage.setItem(storeKey,errorCallbackCount)}catch(err){}onerror(error)}else{fallbackFn(DEFAULT_VALIDATE);proxyRefresh();noFallback&&onerror(error)}};var proxyRefresh=function(){errorCallbackCount=0;try{localStorage.setItem(storeKey,0)}catch(err){}};var triggerInitError=function(error){if(initialTimer&&initialTimer.isError()){initialTimer.resetError();return}initialTimer&&initialTimer.resetTimer();noFallback?onerror(error):proxyOnError(error)};config.onError=function(error){if(initialTimer&&initialTimer.isError()){initialTimer.resetError()}proxyOnError(error)};config.onDidRefresh=function(){if(initialTimer&&initialTimer.isError()){initialTimer.resetError()}proxyRefresh()};var initialTimer=options.initTimeoutError?options.initTimeoutError(proxyOnError):null;var loadResolve=function(){window.initNECaptcha(config,function(instance){if(initialTimer&&initialTimer.isError())return;initialTimer&&initialTimer.resetTimer();captchaIns=instance;onload&&onload(instance)},triggerInitError)};var cacheId="load-queue";if(!RESOURCE_CACHE[cacheId]){RESOURCE_CACHE[cacheId]={rejects:[],resolves:[],status:"error"}}if(RESOURCE_CACHE[cacheId].status==="error"){RESOURCE_CACHE[cacheId].status="pending";loadResource(config,function(error){if(error){var err=new Error;err.code=REQUEST_SCRIPT_ERROR;err.message=config.staticServer+"/load.min.js error";var rejects=RESOURCE_CACHE[cacheId].rejects;for(var i=0,iLen=rejects.length;i<iLen;i++){rejects.pop()(err)}RESOURCE_CACHE[cacheId].status="error"}else{RESOURCE_CACHE[cacheId].status="done";var resolves=RESOURCE_CACHE[cacheId].resolves;for(var j=0,jLen=resolves.length;j<jLen;j++){resolves.pop()()}}})}else if(RESOURCE_CACHE[cacheId].status==="done"){loadResolve()}if(RESOURCE_CACHE[cacheId].status==="pending"){RESOURCE_CACHE[cacheId].rejects.push(function loadReject(err){triggerInitError(err)});RESOURCE_CACHE[cacheId].resolves.push(loadResolve)}}return initNECaptchaWithFallback});
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),ci6c=c6e("nej.ut"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),b6f,L6F;var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};n6h.bVa1x=NEJ.C();b6f=n6h.bVa1x.M6G(ci6c.cP6J);b6f.bn6h=function(e6c){e6c=e6c||{};this.bp6j(e6c);this.S6M=p6j.mV5a.B6v({onsendcaptcha:this.sf6Z.f6b(this),onsendcaptchaerror:this.Bk8c.f6b(this),onmobilecheck:this.SD5I.f6b(this),onmobilecheckerror:this.SE5J.f6b(this),onmobileregist:this.Sz5E.f6b(this),onmobileregisterror:this.bbz6t.f6b(this)});this.Bl8d=n6h.Sp5u.I6C({title:"重设密码",mobile:e6c.mobile||"",countrycode:e6c.countrycode,onok:this.NM4Q.f6b(this)})};b6f.bC6w=function(){this.bH6B();this.S6M.V6P();if(this.Bl8d)this.Bl8d.V6P();if(this.dO7H)this.dO7H.V6P()};b6f.NM4Q=function(bk6e){this.gp7i=bk6e.mobile;this.fL7E=bk6e.countrycode;this.uN7G=bk6e.password;this.S6M.yS7L({data:{ctcode:bk6e.countrycode,cellphone:bk6e.mobile}})};b6f.sf6Z=function(){this.Bl8d.br6l();this.dO7H=n6h.pn5s.I6C({title:"重设密码",mobile:this.gp7i,countrycode:this.fL7E,okbutton:"下一步",onok:this.bmy8q.f6b(this),backbutton:"&lt;&nbsp;&nbsp;返回登录",onback:this.bmw8o.f6b(this),onerror:this.bbz6t.f6b(this)})};b6f.Bk8c=function(bk6e){this.Bl8d.cO6I(false);n6h.bb6V.I6C({tip:bk6e.message||"验证码发送失败",type:2})};b6f.bmy8q=function(bk6e){this.gp7i=bk6e.mobile;this.fL7E=bk6e.countrycode;this.dc7V=bk6e.captcha;this.S6M.bzk1x({data:{cellphone:bk6e.mobile,captcha:bk6e.captcha,countrycode:bk6e.countrycode}})};b6f.SD5I=function(bk6e){this.dO7H.br6l();switch(bk6e.exist){case MOB_CHECK.NULL:n6h.bbm6g.I6C({title:"设置昵称",tip:"该手机号尚未注册，取一个昵称，马上开通",mobile:this.gp7i,countrycode:this.fL7E,password:this.uN7G,captcha:this.dc7V});break;case MOB_CHECK.MAIN:case MOB_CHECK.SNS:case MOB_CHECK.NETEASE:l6f.wI7B(this.je4i.f6b(this));break}};b6f.je4i=function(cp6j){var randomStr=Math.random().toString(36).substr(2);var checkToken=cp6j||randomStr;this.S6M.bbj6d({data:{phone:this.gp7i,countrycode:this.fL7E,password:j6d.kY4c(this.uN7G),captcha:this.dc7V,checkToken:checkToken}})};b6f.SE5J=function(bk6e){n6h.bb6V.I6C({tip:bk6e.message||"验证码发送失败",type:2})};b6f.bmw8o=function(){this.dO7H.br6l();n6h.rF6z.I6C({title:"登录"})};b6f.Sz5E=function(m6g){localCache.mS5X("user",m6g);if(!m6g.profile){if(this.lD4H)this.lD4H.V6P();this.lD4H=n6h.Bb8T.B6v({user:m6g,requiremobile:false,onsuccess:this.uQ7J.f6b(this)})}else{h6b.z6t(window,"login",{user:m6g})}};b6f.uQ7J=function(d6d){h6b.z6t(window,"login",{user:d6d.user})};b6f.bbz6t=function(m6g){if(m6g.code==415){l6f.bUK1x({captchaId:m6g.captchaId,ondestroy:function(){l6f.wI7B(this.je4i.f6b(this))}.f6b(this)})}else{n6h.bb6V.I6C({tip:"重设密码失败，请重试",type:2})}}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),u6o=c6e("nej.j"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),l6f=c6e("nm.x"),b6f,L6F;n6h.SN5S=NEJ.C();b6f=n6h.SN5S.M6G(n6h.ef7Y);L6F=n6h.SN5S.ct6n;b6f.cf6Z=function(){this.cd6X="ntp-loginverify"};b6f.bW6Q=function(){this.cg6a();this.sO6I=a5f.C6w(this.o6i,"js-flag")[0];this.bVb1x=a5f.C6w(this.o6i,"js-mobile")[0];this.eg7Z=a5f.C6w(this.o6i,"u-err")[0];h6b.s6m(this.o6i,"click",this.bN6H.f6b(this))};b6f.bn6h=function(e6c){this.bp6j(e6c);this.gp7i=e6c.mobile||"";this.fL7E=e6c.countrycode||"86";this.bmt8l=e6c.loginType;this.dy7r=e6c;if(this.bVb1x){this.bVb1x.innerHTML="+"+this.fL7E+" "+this.gp7i}this.S6M=p6j.mV5a.B6v({onsafecaptcha:this.sf6Z.f6b(this),onsafecaptchaerror:this.Bk8c.f6b(this),onloginverify:this.SQ5V.f6b(this),onloginverifyerror:this.Wp6j.f6b(this),onrelogin:this.uR7K.f6b(this),onreloginerror:this.bmr8j.f6b(this)})};b6f.bN6H=function(d6d){var H6B=h6b.ba6U(d6d,"d:action");if(!H6B)return;var U6O=a5f.v6p(H6B,"action");switch(U6O){case"ok":this.cjm3x();break;default:break}};b6f.cjm3x=function(){if(!this.gp7i)return;this.S6M.byZ1x({})};b6f.sf6Z=function(){this.br6l();this.dO7H=n6h.pn5s.I6C({title:"网易云音乐",mobile:this.gp7i,countrycode:this.fL7E,okbutton:"完成",noVerifyMobile:true,onverify:this.cjj3x.f6b(this)})};b6f.Bk8c=function(bk6e){n6h.bb6V.I6C({tip:bk6e.message||"验证码发送失败",type:2})};b6f.cjj3x=function(i6c){var hp8h={captcha:i6c.captcha};this.S6M.bFy2x({data:hp8h})};b6f.SQ5V=function(){this.dO7H.br6l();this.z6t("onok");this.S6M.bFz2x({data:{usertype:this.bmt8l}})};b6f.Wp6j=function(bk6e){this.z6t("onerror",bk6e);this.dO7H.bU6O(bk6e.message||"验证失败");this.dO7H.cO6I(false)};b6f.uR7K=function(bk6e){localCache.mS5X("user",bk6e);if(!bk6e.profile){if(this.lD4H)this.lD4H.V6P();this.lD4H=n6h.Bb8T.B6v({user:bk6e,requiremobile:false,onsuccess:this.uQ7J.f6b(this)})}else{h6b.z6t(window,"login",{user:bk6e})}};b6f.uQ7J=function(d6d){h6b.z6t(window,"login",{user:d6d.user})};b6f.bmr8j=function(bk6e){this.z6t("onerror",bk6e);n6h.bb6V.I6C({tip:bk6e.message||"登录失败",type:2})}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),u6o=c6e("nej.j"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),y6s=c6e("nm.w"),b6f,L6F;n6h.SV5a=NEJ.C();b6f=n6h.SV5a.M6G(n6h.ef7Y);L6F=n6h.SV5a.ct6n;b6f.cy6s=function(){this.cD6x();this.NI4M=null;this.bbR7K="";this.bVc1x=false;var self=this;window.initNECaptchaWithFallback({captchaId:"73a18dc827b24b18ad0783701a75277d",element:"#pwd-captcha",mode:"popup",width:"320px",onClose:function(){},onVerify:function(err,data){if(!err){self.bbR7K=data.validate;self.hz8r();setTimeout(function(){self.NI4M&&self.NI4M.refresh()},1e3)}}},function onload(instance){self.NI4M=instance},function onerror(err){})};b6f.cf6Z=function(){this.cd6X="ntp-login-mobile"};b6f.bW6Q=function(){this.cg6a();this.loginType="captcha";this.bVd1x=a5f.C6w(this.o6i,"captchaloginwrapper")[0];this.bVe1x=a5f.C6w(this.o6i,"pwdloginwrapper")[0];this.qK6E=a5f.C6w(this.o6i,"j-mob")[0];this.dA7t=a5f.C6w(this.o6i,"j-pwd")[0];this.nn5s=a5f.C6w(this.o6i,"j-captcha")[0];this.bVf1x=a5f.C6w(this.o6i,"j-err")[0];this.ciL3x=a5f.C6w(this.o6i,"j-err")[1];this.Tc5h=a5f.C6w(this.o6i,"j-auto")[0];this.ciI3x=a5f.C6w(this.o6i,"pwdlogin")[0];this.cx6r=a5f.C6w(this.o6i,"j-primary")[0];a5f.hl8d(this.dA7t,"holder");h6b.s6m(this.dA7t,"focus",this.Bf8X.f6b(this));h6b.s6m(this.dA7t,"keypress",this.Bg8Y.f6b(this));h6b.s6m(this.nn5s,"focus",this.bdo7h.f6b(this));h6b.s6m(this.nn5s,"keypress",this.bdt7m.f6b(this));h6b.s6m(this.o6i,"click",this.bN6H.f6b(this))};b6f.bn6h=function(e6c){this.bp6j(e6c);this.jR4V=y6s.bcs7l.B6v({parent:this.qK6E,onpressenter:this.hz8r.f6b(this)});this.S6M=p6j.mV5a.B6v();this.S6M.s6m("onmobilelogin",this.uR7K.f6b(this));this.S6M.s6m("onmobileloginerror",this.jr4v.f6b(this));this.S6M.s6m("oncaptchalogin",this.uR7K.f6b(this));this.S6M.s6m("oncaptchaloginerror",this.cix3x.f6b(this));this.S6M.s6m("onsendcaptcha",this.ciw3x.f6b(this));this.S6M.s6m("onsendcaptchaerror",this.Bk8c.f6b(this));this.S6M.s6m("onloginsecure",this.cis3x.f6b(this));this.S6M.s6m("onloginsecureerror",this.cif3x.f6b(this));this.S6M.cmP3x()};b6f.bC6w=function(){this.bH6B();this.jR4V.V6P();this.S6M.V6P();if(this.dc7V){this.dc7V.V6P();delete this.dc7V}if(this.yG7z)this.yG7z.V6P()};b6f.I6C=function(){L6F.I6C.apply(this,arguments);this.bU6O(false);this.cO6I(false);if(arguments[0].canPwd){a5f.x6r(this.ciI3x,"f-hide")}this.jR4V.TU5Z();this.dA7t.value="";this.nn5s.value="";this.Tc5h.checked=true;l6f.kg4k()};b6f.Bf8X=function(){a5f.x6r(this.dA7t,"u-txt-err")};b6f.Bg8Y=function(d6d){if(d6d.keyCode==13)this.hz8r()};b6f.bdo7h=function(){a5f.x6r(this.nn5s,"u-txt-err")};b6f.bdt7m=function(d6d){if(d6d.keyCode==13)this.hz8r()};b6f.bN6H=function(d6d){var H6B=h6b.ba6U(d6d,"d:action");if(!H6B)return;var U6O=a5f.v6p(H6B,"action");switch(U6O){case"login":this.hz8r(d6d);break;case"forget":h6b.bi6c(d6d);this.br6l();n6h.bVa1x.B6v({countrycode:this.jR4V.Ml4p(),mobile:this.jR4V.Gb9S()});break;case"captchalogin":this.changeLoginType("captcha");break;case"pwdlogin":this.changeLoginType("pwd");break;case"send":this.sendCaptcha();break;case"select":this.bmi8a(d6d);break;case"reg":this.chw3x(d6d);break}};b6f.hz8r=function(d6d){h6b.cn6h(d6d);if(this.cO6I())return;var fM7F=this.ts6m();if(!fM7F)return;if(!this.Tl5q())return;if(this.dc7V){this.dc7V.V6P();delete this.dc7V}var i6c={countrycode:fM7F.countrycode,phone:fM7F.mobile,rememberLogin:this.Tc5h.checked};if(this.loginType==="captcha"){i6c.captcha=fM7F.captcha}else{if(this.bVc1x){if(!this.bbR7K){this.NI4M&&this.NI4M.popUp();return}else{i6c.secureCaptcha=this.bbR7K;delete this.bbR7K}}i6c.password=j6d.kY4c(fM7F.password)}this.cO6I(true);this.bU6O(false);this.By8q=i6c;if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){this.By8q.checkToken="";if(this.loginType==="captcha"){this.S6M.bFi2x({data:this.By8q})}else{this.S6M.bFh2x({data:this.By8q})}}else{l6f.wI7B(this.je4i.f6b(this))}};b6f.je4i=function(cp6j){var randomStr=Math.random().toString(36).substr(2);this.By8q.checkToken=cp6j||randomStr;if(this.loginType==="captcha"){this.S6M.bFi2x({data:this.By8q})}else{this.S6M.bFh2x({data:this.By8q})}};b6f.uR7K=function(m6g){this.cO6I(false);this.br6l();localCache.mS5X("user",m6g);if(!m6g.profile){if(this.lD4H)this.lD4H.V6P();this.lD4H=n6h.Bb8T.B6v({user:m6g,requiremobile:false,onsuccess:this.uQ7J.f6b(this)})}else{u6o.be6Y("/api/user/grabed/status/get",{method:"GET",cookie:true,type:"json",onload:function(resp){if(resp.data&&resp.data.grabed){l6f.he7X({title:"更换手机号",btncc:"知道了",okstyle:"f-hide",message:"您绑定的手机号已被其他账号绑定，为保护账号安全，将强制退出您在网页端的登陆状态，请在云音乐手机端尽快绑定新的手机号。",action:top.logout})}else{h6b.z6t(window,"login",{user:m6g})}},onerror:function(){console.log("[请求出错]:/api/user/grabed/status/get");top.logout()}})}};b6f.ciw3x=function(m6g){n6h.bb6V.I6C({tip:"验证码已发送"})};b6f.Bk8c=function(m6g){if(m6g.message){this.bU6O(m6g.message)}};b6f.cis3x=function(m6g){if(m6g&&m6g.data){this.bVc1x=m6g.data.actionCaptchaEnable}};b6f.cif3x=function(m6g){if(m6g.message){}};b6f.uQ7J=function(d6d){h6b.z6t(window,"login",{user:d6d.user})};b6f.jr4v=function(bk6e){this.cO6I(false);if(bk6e.code==415){if(this.dc7V)this.dc7V.V6P();this.dc7V=y6s.Rw5B.B6v({captchaId:bk6e.captchaId,txt:"txt-login-captcha",onaction:this.hz8r.f6b(this)});this.bVf1x.insertAdjacentElement("beforeBegin",this.dc7V.mm5r());return}if(bk6e.code==501){this.bU6O("该手机号尚未注册","mobile");return}if(bk6e.code==10002||bk6e.code==502||bk6e.code==501){this.bU6O("手机号或密码错误");return}if(bk6e.code==250){this.bU6O(bk6e.message||"登录异常");return}if(bk6e.code==702){this.br6l();var du7n=bk6e.ext;this.bVj1x=n6h.SN5S.I6C({title:"网易云音乐",mobile:du7n.phone,countrycode:du7n.countrycode,loginType:du7n.loginType});return}if(bk6e.message){this.bU6O(bk6e.message)}else{n6h.bb6V.I6C({tip:"登录失败，请重试",type:2})}};b6f.cix3x=function(bk6e){this.cO6I(false);if(bk6e.message){this.bU6O(bk6e.message)}else{n6h.bb6V.I6C({tip:"登录失败，请重试",type:2})}};b6f.bmi8a=function(d6d){h6b.bi6c(d6d);n6h.rF6z.I6C({title:"登录"})};b6f.changeLoginType=function(type){this.loginType=type;this.bU6O(false);if(type==="pwd"){a5f.w6q(this.bVd1x,"f-hide");a5f.x6r(this.bVe1x,"f-hide")}else{a5f.w6q(this.bVe1x,"f-hide");a5f.x6r(this.bVd1x,"f-hide")}};b6f.sendCaptcha=function(){var fM7F=this.chl3x();if(!fM7F){return}this.bU6O(false);l6f.lv4z("click",{mspm:"61dfe34e8b67f4412a343916",page:"login_register",target:"verification_code"});this.S6M.yS7L({data:{isBindPhone:false,cellphone:fM7F.mobile,ctcode:fM7F.countrycode}})};b6f.chw3x=function(d6d){h6b.bi6c(d6d);this.br6l();if(this.yG7z)this.yG7z.V6P();this.yG7z=n6h.bbv6p.B6v()};b6f.ts6m=function(){var fe7X=this.jR4V.Gb9S(),lc4g=this.jR4V.Ml4p(),eX7Q=this.dA7t.value,iX4b=this.nn5s.value;if(!fe7X)return this.bU6O("请输入手机号","mobile");if(this.loginType==="captcha"){if(!iX4b)return this.bU6O("请输入验证码","capt")}else{if(!eX7Q)return this.bU6O("请输入登录密码","password")}if(!l6f.ys7l(fe7X,lc4g))return this.bU6O("请输入正确的手机号","mobile");return{mobile:fe7X,countrycode:lc4g,password:eX7Q,captcha:iX4b}};b6f.chl3x=function(){var fe7X=this.jR4V.Gb9S(),lc4g=this.jR4V.Ml4p();if(!fe7X)return this.bU6O("请输入手机号","mobile");if(!l6f.ys7l(fe7X,lc4g))return this.bU6O("请输入正确的手机号","mobile");return{mobile:fe7X,countrycode:lc4g}};b6f.Tl5q=function(){if(!this.dc7V)return true;var bw6q=this.dc7V.FD9u();if(bw6q.success)return true;this.bU6O(bw6q.message,"captcha");return false};b6f.bU6O=function(bB6v,iY4c){if(this.loginType==="captcha"){this.dY7R(this.ciL3x,bB6v)}else{this.dY7R(this.bVf1x,bB6v)}this.jR4V.bcJ7C();a5f.x6r(this.dA7t,"u-txt-err");if(this.dc7V)this.dc7V.x6r("u-txt-err");if(iY4c=="mobile"){this.jR4V.byo1x()}else if(iY4c=="password"){a5f.w6q(this.dA7t,"u-txt-err")}else if(iY4c=="capt"){a5f.w6q(this.nn5s,"u-txt-err")}else if(iY4c=="captcha"){if(this.dc7V)this.dc7V.w6q("u-txt-err")}};b6f.cO6I=function(de7X){return this.dZ7S(this.cx6r,de7X,"登　录","登录中...")}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),dq7j=c6e("nej.p"),P6J=c6e("nej.ut"),qz6t,cgO2x;if(!!P6J.JJ3x)return;P6J.JJ3x=NEJ.C();qz6t=P6J.JJ3x.M6G(P6J.cP6J);cgO2x=P6J.JJ3x.ct6n;qz6t.bn6h=function(e6c){this.bp6j(e6c);this.o6i=a5f.A6u(e6c.body);this.eu7n=a5f.A6u(e6c.input);this.ln4r=e6c.selected||"js-selected";this.cu6o=0;this.bY6S([[this.eu7n,"input",this.fd7W.f6b(this)],[this.eu7n,"blur",this.bme8W.f6b(this,"blur")],[this.o6i,"mouseover",this.JN3x.f6b(this)],[this.o6i,"click",this.cA6u.f6b(this)],[document,"keydown",this.cgC2x.f6b(this)],[document,"keypress",this.bmc8U.f6b(this)]]);if(dq7j.dB7u.release=="5.0"){this.bY6S([[this.eu7n,"keydown",this.bVm1x.f6b(this)],[this.eu7n,"keyup",this.bVm1x.f6b(this)]])}};qz6t.bC6w=function(){this.bH6B();this.bVn1x();delete this.ln4r;delete this.eu7n;delete this.o6i;delete this.bVo1x;delete this.blX8P};qz6t.cfK2x=function(H6B){return H6B.flag!=null};qz6t.bVn1x=function(){var cfI2x=function(g6a){j6d.baY6S(g6a,"flag")};return function(){j6d.bh6b(this.bX6R,cfI2x);delete this.bX6R;delete this.cu6o}}();qz6t.blW8O=function(r6l){if(this.cu6o===r6l)return;this.cu6o=r6l;a5f.w6q(this.bX6R[this.cu6o],this.ln4r)};qz6t.bVp1x=function(r6l){if(this.cu6o!==r6l)return;a5f.x6r(this.bX6R[this.cu6o],this.ln4r);delete this.cu6o};qz6t.bme8W=function(t6n){this.blT8L=setTimeout(function(){if(!this.bX6R)return;var q6k=this.bX6R[this.cu6o]||this.bX6R[0],D6x=a5f.v6p(q6k,"value")||q6k.innerText;this.eu7n.value=D6x;this.lp4t();this.blX8P=!0;this.z6t("onselect",D6x,{type:t6n});this.blX8P=!1}.f6b(this),t6n=="blur"?200:0)};qz6t.fd7W=function(){var D6x=this.eu7n.value.trim();if(!D6x){this.lp4t()}else{if(this.blX8P)return;this.z6t("onchange",D6x)}};qz6t.JN3x=function(d6d){var H6B=h6b.ba6U(d6d,this.cfK2x);if(!!H6B){this.bVp1x(this.cu6o);this.blW8O(H6B.flag)}};qz6t.cA6u=function(){if(this.blT8L){this.blT8L=clearTimeout(this.blT8L)}this.bme8W("click")};qz6t.cgC2x=function(d6d){var fG7z=0,ca6U=d6d.keyCode;if(ca6U==38)fG7z=-1;if(ca6U==40)fG7z=1;if(!fG7z)return;h6b.bi6c(d6d);var r6l=Math.max(0,Math.min(this.cu6o+fG7z,this.bX6R.length-1));if(r6l===this.cu6o)return;this.bVp1x(this.cu6o);this.blW8O(r6l)};qz6t.bmc8U=function(d6d){var t6n="enter";if(d6d.keyCode==13)this.bme8W(t6n)};qz6t.bVm1x=function(d6d){if(d6d.type=="keydown"){this.bVo1x=this.eu7n.value}else if(this.bVo1x!=this.eu7n.value&&!!this.bX6R){this.fd7W()}};qz6t.lp4t=function(){var cfc2x=function(g6a,r6l){g6a.flag=r6l};return function(k6e){this.bVn1x();if(!k6e||!k6e.length){this.o6i.style.visibility="hidden";return this}this.bX6R=k6e;var r6l=j6d.dv7o(this.bX6R,function(g6a){return a5f.bE6y(g6a,this.ln4r)});this.blW8O(Math.max(0,r6l));j6d.bh6b(this.bX6R,cfc2x);this.o6i.style.visibility="visible";return this}}()})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),G6A=c6e("nej.ut"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),y6s=c6e("nm.w"),n6h=c6e("nm.l"),b6f,L6F;if(n6h.Nu4y)return;n6h.Nu4y=NEJ.C();b6f=n6h.Nu4y.M6G(n6h.ef7Y);L6F=n6h.Nu4y.ct6n;b6f.bn6h=function(e6c){this.bp6j(e6c);this.S6M=p6j.mV5a.B6v();this.S6M.s6m("onlogin",this.uR7K.f6b(this));this.S6M.s6m("onloginerror",this.jr4v.f6b(this))};b6f.bC6w=function(){this.bH6B();if(this.dc7V){this.dc7V.V6P();delete this.dc7V}this.bVv1x()};b6f.cf6Z=function(){this.cd6X="ntp-login-netease"};b6f.bW6Q=function(){this.cg6a();var cZ7S=a5f.C6w(this.o6i,"js-input");this.iL4P=cZ7S[0];this.dA7t=cZ7S[1];a5f.hl8d(this.iL4P,"holder");a5f.hl8d(this.dA7t,"holder");h6b.s6m(this.iL4P,"focus",this.blO8G.f6b(this));h6b.s6m(this.dA7t,"focus",this.Bf8X.f6b(this));h6b.s6m(this.dA7t,"keypress",this.Bg8Y.f6b(this));this.wl7e=a5f.C6w(this.o6i,"js-suggest")[0];this.vY7R=G6A.JJ3x.B6v({body:this.wl7e,input:this.iL4P,onchange:this.Ie3x.f6b(this),onselect:this.Ic3x.f6b(this)});this.eg7Z=a5f.C6w(this.o6i,"u-err")[0];this.Tc5h=a5f.C6w(this.o6i,"u-auto")[0];this.cx6r=a5f.C6w(this.o6i,"js-primary")[0];this.ceJ2x=a5f.C6w(this.o6i,"js-captcha")[0];this.Ol4p=a5f.C6w(this.o6i,"js-scaptcha")[0];h6b.s6m(this.o6i,"click",this.bN6H.f6b(this))};b6f.I6C=function(){L6F.I6C.apply(this,arguments);this.bU6O(false);this.cO6I(false);this.iL4P.value="";this.dA7t.value="";this.Tc5h.checked=true;this.bVx1x()};b6f.bVx1x=function(){if(this.qt6n){this.qt6n.hq8i()}l6f.kg4k()};b6f.bVv1x=function(){if(this.qt6n){this.qt6n.V6P();delete this.qt6n;this.Ol4p.style.marginTop="0";this.Ol4p.style.display="none"}};b6f.blO8G=function(){a5f.x6r(this.iL4P,"u-txt-err")};b6f.Bf8X=function(){a5f.x6r(this.dA7t,"u-txt-err")};b6f.Bg8Y=function(d6d){if(d6d.keyCode==13)this.hz8r()};b6f.bN6H=function(d6d){var H6B=h6b.ba6U(d6d,"d:action");if(!H6B)return;var U6O=a5f.v6p(H6B,"action");switch(U6O){case"login":this.hz8r(d6d);break;case"suggest":this.blL8D(d6d);break;case"select":this.bmi8a(d6d);break}};b6f.blL8D=function(d6d){var g6a=h6b.ba6U(d6d);if(g6a.href){h6b.cn6h(d6d)}};b6f.Ie3x=function(D6x){if(!D6x)return this.vY7R.lp4t([]);var lh4l=["163.com","126.com","yeah.net","vip.163.com","vip.126.com","188.com"];var im8e=D6x.indexOf("@"),i,jE4I;if(im8e<0){for(i=0,jE4I=[];i<lh4l.length;++i){jE4I.push(D6x+"@"+lh4l[i])}}else{var jJ4N=D6x.substring(im8e+1),bt6n=jJ4N.length;for(i=0,jE4I=[];i<lh4l.length;++i){if(lh4l[i].substr(0,bt6n)==jJ4N){jE4I.push(D6x.substring(0,im8e)+"@"+lh4l[i])}}}this.wl7e.innerHTML=a5f.bZ6T("jst-login-suggest",{suggests:jE4I},{escape:j6d.dN7G});this.vY7R.lp4t(a5f.di7b(this.wl7e))};b6f.Ic3x=function(D6x){this.iL4P.value=D6x;this.dA7t.focus()};b6f.hz8r=function(d6d){h6b.cn6h(d6d);if(this.cO6I())return;var fM7F=this.ts6m();if(!fM7F)return;if(!this.Tl5q())return;if(this.dc7V){this.dc7V.V6P();delete this.dc7V}var i6c={username:fM7F.username,password:j6d.kY4c(fM7F.password),rememberLogin:this.Tc5h.checked};var iX4b="";if(this.qt6n){iX4b=this.qt6n.Om4q();if(!iX4b.trim()){this.bU6O("拖动验证码错误");return}i6c.dragPwd=iX4b}this.cO6I(true);this.bU6O(false);this.By8q=i6c;l6f.wI7B(this.je4i.f6b(this))};b6f.je4i=function(cp6j){var randomStr=Math.random().toString(36).substr(2);this.By8q.checkToken=cp6j||randomStr;this.S6M.Js3x({data:this.By8q})};b6f.uR7K=function(m6g){this.cO6I(false);this.br6l();localCache.mS5X("user",m6g);if(!m6g.profile){if(this.lD4H)this.lD4H.V6P();this.lD4H=n6h.Bb8T.B6v({user:m6g,requiremobile:true,onsuccess:this.uQ7J.f6b(this)})}else{h6b.z6t(window,"login",{user:m6g})}};b6f.uQ7J=function(d6d){h6b.z6t(window,"login",{user:d6d.user})};b6f.jr4v=function(bk6e){this.cO6I(false);if(bk6e.code==415){if(this.dc7V)this.dc7V.V6P();this.dc7V=y6s.Rw5B.B6v({captchaId:bk6e.captchaId,txt:"txt-login-captcha",onaction:this.hz8r.f6b(this)});this.ceJ2x.appendChild(this.dc7V.mm5r());return}if(bk6e.code==10002||bk6e.code==502||bk6e.code==501){this.bU6O("账号或密码错误");return}if(bk6e.code==250){this.bU6O(bk6e.message||"登录异常");return}if(bk6e.code==702){this.br6l();var du7n=bk6e.ext;this.bVj1x=n6h.SN5S.I6C({title:"网易云音乐",mobile:du7n.phone,countrycode:du7n.countrycode,loginType:du7n.loginType});return}if(bk6e.message){this.bU6O(bk6e.message)}else{n6h.bb6V.I6C({tip:"登录失败，请重试",type:2})}};b6f.uD7w=function(d6d){if(d6d.success){this.bU6O(false);var lR5W=this.iL4P.value.trim(),eX7Q=this.dA7t.value;if(lR5W&&eX7Q){this.hz8r()}}else{this.bU6O("拖动验证码错误")}};b6f.bmi8a=function(d6d){h6b.bi6c(d6d);n6h.rF6z.I6C({title:"登录"})};b6f.ts6m=function(){var lR5W=this.iL4P.value.trim(),eX7Q=this.dA7t.value;if(!lR5W){this.bU6O("请输入邮箱账号","username");return null}if(!eX7Q){this.bU6O("请输入登录密码","password");return null}this.bU6O(false);return{username:lR5W,password:eX7Q}};b6f.bU6O=function(bB6v,iY4c){this.dY7R(this.eg7Z,bB6v);a5f.x6r(this.iL4P,"u-txt-err");a5f.x6r(this.dA7t,"u-txt-err");if(this.dc7V)this.dc7V.x6r("u-txt-err");if(iY4c=="username"){a5f.w6q(this.iL4P,"u-txt-err")}else if(iY4c=="password"){a5f.w6q(this.dA7t,"u-txt-err")}else if(iY4c=="captcha"){if(this.dc7V)this.dc7V.w6q("u-txt-err")}};b6f.cO6I=function(de7X){return this.dZ7S(this.cx6r,de7X,"登　录","登录中...")};b6f.Tl5q=function(){if(!this.dc7V)return true;var bw6q=this.dc7V.FD9u();if(bw6q.success)return true;this.bU6O(bw6q.message,"captcha");return false}})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),j6d=c6e("nej.u"),Y6S=c6e("nej.ui"),h6b=c6e("nej.v"),G6A=c6e("nej.t"),n6h=c6e("nm.l"),l6f=c6e("nm.x"),b6f,L6F;n6h.bVy1x=NEJ.C();b6f=n6h.bVy1x.M6G(Y6S.Zv6p);var cdT2x=a5f.ey7r(['<div class="mask"></div>','<div class="box">','   <i class="icn u-icn2 {if type=="error"}u-icn2-err{elseif type=="info"}f-hide{else}u-icn2-ok{/if}"></i>','   <span class="txt">${message}</span>',"</div>"].join(""));b6f.bn6h=function(e6c){this.bp6j(e6c);this.o6i.innerHTML=e6c.html};b6f.bC6w=function(){this.z6t("ondestroy");this.bH6B()};b6f.MH4L=function(){var D6x={},kf4j=a5f.pX6R(),pp5u={left:kf4j.scrollLeft,top:kf4j.scrollTop},dz7s={left:kf4j.clientWidth-this.o6i.offsetWidth,top:kf4j.clientHeight-this.o6i.offsetHeight};D6x.top=Math.max(0,pp5u.top+dz7s.top/2);D6x.left=Math.max(0,pp5u.left+dz7s.left/2);this.hc7V(D6x)};l6f.go7h=function(){var cL6F,eq7j;return function(e6c){if(cL6F)cL6F.V6P();setTimeout(function(){cL6F=n6h.bVy1x.B6v({destroyable:true,parent:e6c.parent||document.body,clazz:"m-toast "+(e6c.clazz||""),html:e6c.html||a5f.bZ6T(cdT2x,e6c),ondestroy:e6c.ondestroy});cL6F.I6C()},0);window.clearTimeout(eq7j);eq7j=window.setTimeout(function(){if(cL6F)cL6F.V6P();cL6F=null},e6c.delay||3e3)}}()})();
var QRCode;(function(){function QR8bitByte(data){this.mode=QRMode.MODE_8BIT_BYTE;this.data=data;this.parsedData=[];for(var i=0,l=this.data.length;i<l;i++){var byteArray=[];var code=this.data.charCodeAt(i);if(code>65536){byteArray[0]=240|(code&1835008)>>>18;byteArray[1]=128|(code&258048)>>>12;byteArray[2]=128|(code&4032)>>>6;byteArray[3]=128|code&63}else if(code>2048){byteArray[0]=224|(code&61440)>>>12;byteArray[1]=128|(code&4032)>>>6;byteArray[2]=128|code&63}else if(code>128){byteArray[0]=192|(code&1984)>>>6;byteArray[1]=128|code&63}else{byteArray[0]=code}this.parsedData.push(byteArray)}this.parsedData=Array.prototype.concat.apply([],this.parsedData);if(this.parsedData.length!=this.data.length){this.parsedData.unshift(191);this.parsedData.unshift(187);this.parsedData.unshift(239)}}QR8bitByte.prototype={getLength:function(buffer){return this.parsedData.length},write:function(buffer){for(var i=0,l=this.parsedData.length;i<l;i++){buffer.put(this.parsedData[i],8)}}};function QRCodeModel(typeNumber,errorCorrectLevel){this.typeNumber=typeNumber;this.errorCorrectLevel=errorCorrectLevel;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}QRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+","+col)}return this.modules[row][col]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(false,this.getBestMaskPattern())},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null}}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test)}if(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)}this.mapData(this.dataCache,maskPattern)},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if(0<=r&&r<=6&&(c==0||c==6)||0<=c&&c<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=c&&c<=4){this.modules[row+r][col+c]=true}else{this.modules[row+r][col+c]=false}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i}}return pattern},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill()}}}return qr_mc},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue}this.modules[r][6]=r%2==0}for(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue}this.modules[6][c]=c%2==0}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue}for(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||r==0&&c==0){this.modules[row+r][col+c]=true}else{this.modules[row+r][col+c]=false}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=!test&&(bits>>i&1)==1;this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod}for(var i=0;i<18;i++){var mod=!test&&(bits>>i&1)==1;this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod}},setupTypeInfo:function(test,maskPattern){var data=this.errorCorrectLevel<<3|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=!test&&(bits>>i&1)==1;if(i<6){this.modules[i][8]=mod}else if(i<8){this.modules[i+1][8]=mod}else{this.modules[this.moduleCount-15+i][8]=mod}}for(var i=0;i<15;i++){var mod=!test&&(bits>>i&1)==1;if(i<8){this.modules[8][this.moduleCount-i-1]=mod}else if(i<9){this.modules[8][15-i-1+1]=mod}else{this.modules[8][15-i-1]=mod}}this.modules[this.moduleCount-8][8]=!test},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(data[byteIndex]>>>bitIndex&1)==1}var mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark}this.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7}}}row+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break}}}}};QRCodeModel.PAD0=236;QRCodeModel.PAD1=17;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer;for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer)}var totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount}if(buffer.getLengthInBits()>totalDataCount*8){throw new Error("code length overflow. ("+buffer.getLengthInBits()+">"+totalDataCount*8+")")}if(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4)}while(buffer.getLengthInBits()%8!=0){buffer.putBit(false)}while(true){if(buffer.getLengthInBits()>=totalDataCount*8){break}buffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break}buffer.put(QRCodeModel.PAD1,8)}return QRCodeModel.createBytes(buffer,rsBlocks)};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=255&buffer.buffer[i+offset]}offset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=modIndex>=0?modPoly.get(modIndex):0}}var totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount}var data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i]}}}for(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i]}}}return data};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=QRUtil.G15<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)}return(data<<10|d)^QRUtil.G15_MASK},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=QRUtil.G18<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)}return data<<12|d},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1}return digit},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1]},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return i*j%2+i*j%3==0;case QRMaskPattern.PATTERN110:return(i*j%2+i*j%3)%2==0;case QRMaskPattern.PATTERN111:return(i*j%3+(i+j)%2)%2==0;default:throw new Error("bad maskPattern:"+maskPattern)}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0))}return a},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+mode)}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+mode)}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+mode)}}else{throw new Error("type:"+type)}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue}for(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue}if(r==0&&c==0){continue}if(dark==qrCode.isDark(row+r,col+c)){sameCount++}}}if(sameCount>5){lostPoint+=3+sameCount-5}}}for(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3}}}for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40}}}for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40}}}var darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++}}}var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint}};var QRMath={glog:function(n){if(n<1){throw new Error("glog("+n+")")}return QRMath.LOG_TABLE[n]},gexp:function(n){while(n<0){n+=255}while(n>=256){n-=255}return QRMath.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i}for(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8]}for(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i}function QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+"/"+shift)}var offset=0;while(offset<num.length&&num[offset]==0){offset++}this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset]}}QRPolynomial.prototype={get:function(index){return this.num[index]},getLength:function(){return this.num.length},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)))}}return new QRPolynomial(num,0)},mod:function(e){if(this.getLength()-e.getLength()<0){return this}var ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i)}for(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio)}return(new QRPolynomial(num,0)).mod(e)}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount}QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error("bad rs block @ typeNumber:"+typeNumber+"/errorCorrectLevel:"+errorCorrectLevel)}var length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount))}}return list};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined}};function QRBitBuffer(){this.buffer=[];this.length=0}QRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return(this.buffer[bufIndex]>>>7-index%8&1)==1},put:function(num,length){for(var i=0;i<length;i++){this.putBit((num>>>length-i-1&1)==1)}},getLengthInBits:function(){return this.length},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0)}if(bit){this.buffer[bufIndex]|=128>>>this.length%8}this.length++}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function cdG2x(){return typeof CanvasRenderingContext2D!="undefined"}function bVB1x(){var android=false;var sAgent=navigator.userAgent;if(/android/i.test(sAgent)){android=true;var aMat=sAgent.toString().match(/android ([0-9]\.[0-9])/i);if(aMat&&aMat[1]){android=parseFloat(aMat[1])}}return android}var svgDrawer=function(){var Drawing=function(el,htOption){this.bI6C=el;this.iB8t=htOption};Drawing.prototype.draw=function(oQRCode){var iB8t=this.iB8t;var bI6C=this.bI6C;var nCount=oQRCode.getModuleCount();var nWidth=Math.floor(iB8t.width/nCount);var nHeight=Math.floor(iB8t.height/nCount);this.clear();function makeSVG(tag,attrs){var el=document.createElementNS("http://www.w3.org/2000/svg",tag);for(var k in attrs)if(attrs.hasOwnProperty(k))el.setAttribute(k,attrs[k]);return el}var svg=makeSVG("svg",{viewBox:"0 0 "+String(nCount)+" "+String(nCount),width:"100%",height:"100%",fill:iB8t.colorLight});svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");bI6C.appendChild(svg);svg.appendChild(makeSVG("rect",{fill:iB8t.colorLight,width:"100%",height:"100%"}));svg.appendChild(makeSVG("rect",{fill:iB8t.colorDark,width:"1",height:"1",id:"template"}));for(var row=0;row<nCount;row++){for(var col=0;col<nCount;col++){if(oQRCode.isDark(row,col)){var child=makeSVG("use",{x:String(col),y:String(row)});child.setAttributeNS("http://www.w3.org/1999/xlink","href","#template");svg.appendChild(child)}}}};Drawing.prototype.clear=function(){while(this.bI6C.hasChildNodes())this.bI6C.removeChild(this.bI6C.lastChild)};return Drawing}();var useSVG=document.documentElement.tagName.toLowerCase()==="svg";var Drawing=useSVG?svgDrawer:!cdG2x()?function(){var Drawing=function(el,htOption){this.bI6C=el;this.iB8t=htOption};Drawing.prototype.draw=function(oQRCode){var iB8t=this.iB8t;var bI6C=this.bI6C;var nCount=oQRCode.getModuleCount();var nWidth=Math.floor(iB8t.width/nCount);var nHeight=Math.floor(iB8t.height/nCount);var aHTML=['<table style="border:0;border-collapse:collapse;">'];for(var row=0;row<nCount;row++){aHTML.push("<tr>");for(var col=0;col<nCount;col++){aHTML.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+nWidth+"px;height:"+nHeight+"px;background-color:"+(oQRCode.isDark(row,col)?iB8t.colorDark:iB8t.colorLight)+';"></td>')}aHTML.push("</tr>")}aHTML.push("</table>");bI6C.innerHTML=aHTML.join("");var elTable=bI6C.childNodes[0];var nLeftMarginTable=(iB8t.width-elTable.offsetWidth)/2;var nTopMarginTable=(iB8t.height-elTable.offsetHeight)/2;if(nLeftMarginTable>0&&nTopMarginTable>0){elTable.style.margin=nTopMarginTable+"px "+nLeftMarginTable+"px"}};Drawing.prototype.clear=function(){this.bI6C.innerHTML=""};return Drawing}():function(){function cdl2x(){}if(this.TW5b&&this.TW5b<=2.1){var factor=1/window.devicePixelRatio;var drawImage=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(image,sx,sy,sw,sh,dx,dy,dw,dh){if("nodeName"in image&&/img/i.test(image.nodeName)){for(var i=arguments.length-1;i>=1;i--){arguments[i]=arguments[i]*factor}}else if(typeof dw=="undefined"){arguments[1]*=factor;arguments[2]*=factor;arguments[3]*=factor;arguments[4]*=factor}drawImage.apply(this,arguments)}}function ccH2x(fSuccess,fFail){var self=this;self.bcY7R=fFail;self.bcZ7S=fSuccess;if(self.TY5d===null){var el=document.createElement("img");var fOnError=function(){self.TY5d=false;if(self.bcY7R){self.bcY7R.call(self)}};var fOnSuccess=function(){self.TY5d=true;if(self.bcZ7S){self.bcZ7S.call(self)}};el.onabort=fOnError;el.onerror=fOnError;el.onload=fOnSuccess;el.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==";return}else if(self.TY5d===true&&self.bcZ7S){self.bcZ7S.call(self)}else if(self.TY5d===false&&self.bcY7R){self.bcY7R.call(self)}}var Drawing=function(el,htOption){this.TZ5e=false;this.TW5b=bVB1x();this.iB8t=htOption;this.Ni4m=document.createElement("canvas");this.Ni4m.width=htOption.width;this.Ni4m.height=htOption.height;el.appendChild(this.Ni4m);this.bI6C=el;this.BH8z=this.Ni4m.getContext("2d");this.TZ5e=false;this.Ng4k=document.createElement("img");this.Ng4k.alt="Scan me!";this.Ng4k.style.display="none";this.bI6C.appendChild(this.Ng4k);this.TY5d=null};Drawing.prototype.draw=function(oQRCode){var Ng4k=this.Ng4k;var BH8z=this.BH8z;var iB8t=this.iB8t;var nCount=oQRCode.getModuleCount();var nWidth=iB8t.width/nCount;var nHeight=iB8t.height/nCount;var nRoundedWidth=Math.round(nWidth);var nRoundedHeight=Math.round(nHeight);Ng4k.style.display="none";this.clear();for(var row=0;row<nCount;row++){for(var col=0;col<nCount;col++){var bIsDark=oQRCode.isDark(row,col);var nLeft=col*nWidth;var nTop=row*nHeight;BH8z.strokeStyle=bIsDark?iB8t.colorDark:iB8t.colorLight;BH8z.lineWidth=1;BH8z.fillStyle=bIsDark?iB8t.colorDark:iB8t.colorLight;BH8z.fillRect(nLeft,nTop,nWidth,nHeight);BH8z.strokeRect(Math.floor(nLeft)+.5,Math.floor(nTop)+.5,nRoundedWidth,nRoundedHeight);BH8z.strokeRect(Math.ceil(nLeft)-.5,Math.ceil(nTop)-.5,nRoundedWidth,nRoundedHeight)}}this.TZ5e=true};Drawing.prototype.makeImage=function(){if(this.TZ5e){ccH2x.call(this,cdl2x)}};Drawing.prototype.isPainted=function(){return this.TZ5e};Drawing.prototype.clear=function(){this.BH8z.clearRect(0,0,this.Ni4m.width,this.Ni4m.height);this.TZ5e=false};Drawing.prototype.round=function(nNumber){if(!nNumber){return nNumber}return Math.floor(nNumber*1e3)/1e3};return Drawing}();function ccv2x(sText,nCorrectLevel){var nType=1;var length=ccg2x(sText);for(var i=0,len=QRCodeLimitLength.length;i<=len;i++){var nLimit=0;switch(nCorrectLevel){case QRErrorCorrectLevel.L:nLimit=QRCodeLimitLength[i][0];break;case QRErrorCorrectLevel.M:nLimit=QRCodeLimitLength[i][1];break;case QRErrorCorrectLevel.Q:nLimit=QRCodeLimitLength[i][2];break;case QRErrorCorrectLevel.H:nLimit=QRCodeLimitLength[i][3];break}if(length<=nLimit){break}else{nType++}}if(nType>QRCodeLimitLength.length){throw new Error("Too long data")}return nType}function ccg2x(sText){var replacedText=encodeURI(sText).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return replacedText.length+(replacedText.length!=sText?3:0)}QRCode=function(el,vOption){this.iB8t={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRErrorCorrectLevel.H};if(typeof vOption==="string"){vOption={text:vOption}}if(vOption){for(var i in vOption){this.iB8t[i]=vOption[i]}}if(typeof el=="string"){el=document.getElementById(el)}if(this.iB8t.useSVG){Drawing=svgDrawer}this.TW5b=bVB1x();this.bI6C=el;this.bdh7a=null;this.bdi7b=new Drawing(this.bI6C,this.iB8t);if(this.iB8t.text){this.makeCode(this.iB8t.text)}};QRCode.prototype.makeCode=function(sText){this.bdh7a=new QRCodeModel(ccv2x(sText,this.iB8t.correctLevel),this.iB8t.correctLevel);this.bdh7a.addData(sText);this.bdh7a.make();this.bI6C.title=sText;this.bdi7b.draw(this.bdh7a);this.makeImage()};QRCode.prototype.makeImage=function(){if(typeof this.bdi7b.makeImage=="function"&&(!this.TW5b||this.TW5b>=3)){this.bdi7b.makeImage()}};QRCode.prototype.clear=function(){this.bdi7b.clear()};QRCode.CorrectLevel=QRErrorCorrectLevel})();window.QRCode=QRCode;
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),u6o=c6e("nej.j"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),b6f,L6F;n6h.rF6z=NEJ.C();b6f=n6h.rF6z.M6G(n6h.ef7Y);b6f.cy6s=function(){this.cD6x();this.Ne4i=this.Ne4i.f6b(this)};b6f.cf6Z=function(){var data={allow:false};if(window["GDegradeConfig"]&&window["GDegradeConfig"].degradeLogin){data.degrade=true}this.cd6X=a5f.jA4E(a5f.bZ6T("ntp-login-nav",data))};b6f.bn6h=function(e6c){e6c.onclose=function(){this.bC6w()}.f6b(this);this.bp6j(e6c);if(!window["GDegradeConfig"]||!window["GDegradeConfig"].degradeLogin){this.cbZ2x();this.bVC1x()}};b6f.bC6w=function(){l6f.Pp4t(null,null,"check_qrcode_login");this.bH6B()};b6f.bW6Q=function(){this.cg6a();this.canPwd=false;this.bVE1x=a5f.di7b(this.o6i);this.Uj5o=this.bVE1x[1];this.Uk5p=this.bVE1x[0];if(this.Uj5o){var gV7O=a5f.C6w(this.Uj5o,"j-flag");this.bdp7i=gV7O.shift();this.cC6w=gV7O.shift();this.blG8y=gV7O.shift();this.eY7R=gV7O.shift();this.BN8F=gV7O.shift();this.bVI1x=gV7O.shift();this.can2x=a5f.C6w(this.Uj5o,"other")[0]}h6b.s6m(this.o6i,"click",this.bN6H.f6b(this));l6f.kg4k()};b6f.bVC1x=function(){u6o.be6Y("/api/w/user/login/type/switch",{method:"get",type:"json",onload:function(d6d){if(d6d.code===200&&d6d.data.allow){a5f.x6r(this.can2x,"f-hide");if(d6d.data.allowTypes&&d6d.data.allowTypes.indexOf(1)>=0){this.canPwd=true}}else{if(this.Uk5p){a5f.cQ6K(this.Uk5p,false)}}}.f6b(this),onerror:function(){a5f.cQ6K(this.Uk5p,false)}})};b6f.bN6H=function(d6d){var H6B=h6b.ba6U(d6d,"d:action");if(!H6B)return;var U6O=a5f.v6p(H6B,"action"),t6n=a5f.v6p(H6B,"type");var blC8u=a5f.A6u("j-official-terms")||{};var JV3x=!!blC8u.checked;if(U6O==="login"||U6O==="reg"||U6O==="scan"){if(!JV3x){h6b.bi6c(d6d);l6f.go7h({message:"请先勾选同意《服务条款》、《隐私政策》、《儿童隐私政策》",clazz:"z-login-page",delay:1500,type:"info"});return}}switch(U6O){case"login":if(t6n=="mobile"){h6b.bi6c(d6d);n6h.SV5a.I6C({title:"手机号登录",termsChecked:JV3x,canPwd:Boolean(this.canPwd)})}else if(t6n=="netease"){n6h.Nu4y.I6C({title:"邮箱登录",termsChecked:JV3x})}else{h6b.cn6h(d6d);this.De8W=H6B.href;l6f.wI7B(this.je4i.f6b(this));this.RX5c=top.open()}this.br6l();break;case"reg":h6b.bi6c(d6d);if(this.yG7z)this.yG7z.V6P();this.yG7z=n6h.bbv6p.B6v();this.br6l();break;case"scan":h6b.bi6c(d6d);this.Ur5w();this.bdx7q();this.MU4Y(0,0);a5f.w6q(this.Uk5p,"f-hide");a5f.x6r(this.Uj5o,"f-hide");break;case"switch":h6b.bi6c(d6d);this.vd7W=null;a5f.w6q(this.Uj5o,"f-hide");a5f.x6r(this.Uk5p,"f-hide");l6f.Pp4t(null,null,"check_qrcode_login");break}};b6f.je4i=function(cp6j){this.De8W+="&checkToken="+cp6j||"";this.RX5c.location.href=this.De8W};b6f.cbZ2x=function(){this.bVK1x=-1;this.bVQ1x=-1;this.vd7W=null;this.Ur5w();this.bdx7q();this.MU4Y(0,0);this.bY6S([[this.o6i,"click",this.cK6E.f6b(this)]])};b6f.cK6E=function(d6d){var H6B=h6b.ba6U(d6d,"d:action");if(H6B){switch(a5f.v6p(H6B,"action")){case"refresh":this.vd7W=null;this.Ur5w();this.bdx7q();this.MU4Y(0,0);default:break}}};b6f.MU4Y=function(r6l,blw8o){if(this.bVK1x===r6l&&this.bVQ1x===blw8o){return}if(r6l==0){document.body.className="n-login n-login-scan n-login-scan-0";a5f.x6r(this.bdp7i,"f-hide");a5f.x6r(this.eY7R,"f-hide");a5f.w6q(this.BN8F,"f-hide");a5f.w6q(this.bVI1x,"f-hide");if(blw8o){a5f.x6r(this.cC6w,"f-hide")}else{a5f.w6q(this.cC6w,"f-hide")}}else{document.body.className="n-login n-login-scan n-login-scan-1";a5f.w6q(this.bdp7i,"f-hide");a5f.w6q(this.eY7R,"f-hide");a5f.x6r(this.BN8F,"f-hide");a5f.x6r(this.bVI1x,"f-hide")}this.bVK1x=r6l;this.bVQ1x=blw8o};b6f.cIM6G=function(){this.MU4Y(0,1)};b6f.Ne4i=function(){u6o.be6Y("/api/login/qrcode/client/login",{type:"json",method:"post",data:j6d.cq6k({key:this.vd7W,type:1}),onload:this.cHX6R.f6b(this),onerror:function(){n6h.bb6V.I6C({type:2,tip:"扫码登录失败，请稍后再试"})}})};b6f.cHX6R=function(m6g){if(!m6g){return}switch(m6g.code){case 803:u6o.be6Y("/api/w/nuser/account/get",{query:"",type:"json",onload:function(m6g){this.br6l();localCache.mS5X("user",m6g);l6f.Pp4t(null,null,"check_qrcode_login");if(!m6g.profile){if(this.lD4H)this.lD4H.V6P();this.lD4H=n6h.Bb8T.B6v({user:m6g,requiremobile:false,onsuccess:this.uQ7J.f6b(this)})}else{u6o.be6Y("/api/user/grabed/status/get",{method:"GET",cookie:true,type:"json",onload:function(resp){if(resp.data&&resp.data.grabed){l6f.he7X({title:"更换手机号",btncc:"知道了",okstyle:"f-hide",message:"您绑定的手机号已被其他账号绑定，为保护账号安全，将强制退出您在网页端的登陆状态，请在云音乐手机端尽快绑定新的手机号。",action:top.logout})}else{h6b.z6t(window,"login",{user:m6g})}},onerror:function(){console.log("[请求出错]:/api/user/grabed/status/get");top.logout()}})}}.f6b(this),onerror:function(){this.vd7W=null;this.Ur5w();this.bdx7q();this.MU4Y(0,0)}});break;case 802:this.MU4Y(1,0);break;case 801:break;case 800:l6f.Pp4t(null,null,"check_qrcode_login");this.cIM6G();break;default:break}};b6f.bdx7q=function(){u6o.be6Y("/api/login/qrcode/unikey",{type:"json",method:"post",data:j6d.cq6k({type:1}),onload:this.cHD6x.f6b(this),onerror:function(){n6h.bb6V.I6C({type:2,tip:"操作失败，请稍后再试"})}})};b6f.cHD6x=function(m6g){if(m6g&&m6g.code==200){this.vd7W=m6g.unikey;this.Ur5w();l6f.Pp4t(this.Ne4i,1e3,"check_qrcode_login")}else{}};b6f.Ur5w=function(){if(this.xR7K){this.xR7K.clear()}if(!this.vd7W){return}var X6R="http://music.163.com/login?codekey="+this.vd7W;if(this.xR7K){this.xR7K.makeCode(X6R)}else{this.xR7K=new QRCode(this.blG8y,{text:X6R,width:130,height:130,correctLevel:QRCode.CorrectLevel.M})}};n6h.rF6z.I6C=n6h.rF6z.I6C.eQ7J(function(d6d){n6h.SV5a.br6l();n6h.Nu4y.br6l()})})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),ci6c=c6e("nej.ut"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),b6f,L6F;n6h.bWf1x=NEJ.C();b6f=n6h.bWf1x.M6G(ci6c.cP6J);var MOB_CHECK={MAIN:1,SNS:2,NETEASE:3,NULL:-1};var ACCOUNT_TYPE={MOBILE:1,TWEIBO:6};var LOGIN_ACCOUNT=[{type:1,title:"手机",key:"cellphone"},{type:0,title:"网易邮箱账号",key:"email"},{type:2,title:"新浪微博",key:"name"},{type:10,title:"微信",key:"nickname"},{type:5,title:"QQ",key:"nickname"}];b6f.bn6h=function(e6c){this.bp6j(e6c);this.dy7r=e6c;this.sW6Q=e6c.user;this.S6M=p6j.mV5a.B6v();this.S6M.s6m("onmobilecheck",this.SD5I.f6b(this));this.S6M.s6m("onmobilecheckerror",this.SE5J.f6b(this));this.S6M.s6m("onmobilebind",this.MQ4U.f6b(this));this.S6M.s6m("onmobilebinderror",this.MP4T.f6b(this));this.S6M.s6m("onmobileupdatepwd",this.MQ4U.f6b(this));this.S6M.s6m("onmobileupdatepwderror",this.MP4T.f6b(this));this.S6M.s6m("onactive",this.Si5n.f6b(this));this.S6M.s6m("onactiveerror",this.bmC8u.f6b(this));var bdK7D=this.cHh6b(this.sW6Q);this.bWl1x=bdK7D;this.bWo1x=this.cGB6v(this.sW6Q);if(e6c.user.account.type==ACCOUNT_TYPE.MOBILE||e6c.user.account.type==ACCOUNT_TYPE.TWEIBO){if(!bdK7D){this.cFR6L()}else{if(bdK7D.hasPassword){this.bWp1x()}else{this.bWw1x({tip:'云音乐将不再支持 <strong class="s-fc1">腾讯微博</strong> 登录方式，<br/>设置登录密码，以后可以使用手机号登录',mobile:bdK7D.uid})}}}else{this.bWp1x()}};b6f.bC6w=function(){this.bH6B();this.S6M.V6P();if(this.dO7H)this.dO7H.V6P();if(this.ng5l)this.ng5l.V6P();if(this.ks4w)this.ks4w.V6P()};b6f.bWp1x=function(){var bD6x={0:"邮箱账号",1:"手机号",2:"新浪微博",5:"QQ",10:"微信"},dg7Z=this.sW6Q,bdS7L=this.bWo1x.type==ACCOUNT_TYPE.TWEIBO?this.bWl1x:this.bWo1x;if(!dg7Z.profile){if(this.lD4H)this.lD4H.V6P();this.lD4H=n6h.Bb8T.B6v({user:dg7Z,requiremobile:false,onsuccess:this.uQ7J.f6b(this)})}else{l6f.he7X({title:"提示",message:"云音乐即将不支持腾讯微博登录<br/>建议你后续使用以下绑定的"+(bD6x[bdS7L.type]||"账号")+"登录<br/><strong>"+(bdS7L.type==ACCOUNT_TYPE.MOBILE?l6f.JT3x(bdS7L.uid):j6d.dN7G(bdS7L.uid))+"</strong>",btnok:"查看详情",btncc:"知道了",okstyle:"u-btn2-w1",ccstyle:"u-btn2-w1",action:function(t6n){if(t6n=="ok"){location.hash="/user/binding/#/list"}else{h6b.z6t(window,"login",{user:dg7Z})}},onclose:h6b.z6t.f6b(h6b,window,"login",{user:dg7Z})})}};b6f.uQ7J=function(d6d){h6b.z6t(window,"login",{user:d6d.user})};b6f.cFR6L=function(){this.dO7H=n6h.pn5s.I6C({title:"绑定手机号",tip:'云音乐将不再支持 <strong class="s-fc1">腾讯微博</strong> 登录方式，<br/>请绑定手机号，以免后续无法使用该账号',onok:this.cFA6u.f6b(this)})};b6f.cFA6u=function(bk6e){this.gp7i=bk6e.mobile;this.fL7E=bk6e.countrycode;this.bbc6W=bk6e.captcha;this.S6M.bzk1x({data:{cellphone:bk6e.mobile,captcha:bk6e.captcha,countrycode:bk6e.countrycode}})};b6f.SD5I=function(bk6e){if(bk6e.nickname){this.dO7H.cO6I(false);this.dO7H.bU6O("绑定失败，该手机号已与云音乐账号 "+j6d.dN7G(bk6e.nickname)+" 绑定","mobile")}else{this.bWw1x()}};b6f.SE5J=function(){this.dO7H.br6l();n6h.bb6V.I6C({tip:"登录失败，请重试",type:2})};b6f.bWw1x=function(bV6P){if(this.dO7H)this.dO7H.br6l();bV6P=bV6P||{};this.ks4w=n6h.MC4G.I6C({title:"设置密码",tip:bV6P.tip,mobile:bV6P.mobile,onok:this.cFm6g.f6b(this)})};b6f.cFm6g=function(bk6e){if(this.bWl1x){this.S6M.bbl6f({data:{phone:this.gp7i,password:j6d.kY4c(bk6e.password),captcha:this.bbc6W}})}else{this.S6M.bFv2x({data:{phone:this.gp7i,captcha:this.bbc6W,password:j6d.kY4c(bk6e.password)}})}};b6f.MQ4U=function(bk6e){this.ks4w.br6l();if(this.sW6Q.profile||this.sW6Q.account.type==ACCOUNT_TYPE.MOBILE){h6b.z6t(window,"login",{user:this.sW6Q})}else if(this.sW6Q.account.type==ACCOUNT_TYPE.TWEIBO){this.ng5l=n6h.Hz3x.I6C({title:"设置昵称",onok:this.cFk6e.f6b(this)})}};b6f.MP4T=function(bk6e){this.ks4w.br6l();n6h.bb6V.I6C({tip:bk6e.message||"登录失败，请重试",type:2})};b6f.cFk6e=function(bk6e){this.S6M.bzd1x({data:{dragPwd:bk6e.dragPwd,nickname:bk6e.nickname}})};b6f.Si5n=function(bk6e){this.ng5l.br6l();this.sW6Q.profile=bk6e.profile;h6b.z6t(window,"login",{user:this.sW6Q})};b6f.bmC8u=function(bk6e){this.ng5l.cO6I(false);if(bk6e.code==505)return this.ng5l.bU6O("该昵称已被占用","nickname");if(bk6e.code==407)return this.ng5l.bU6O("该昵称包含关键词","nickname");this.ng5l.br6l();n6h.bb6V.I6C({tip:bk6e.message||"登录失败，请重试",type:2})};b6f.cHh6b=function(dg7Z){var uM7F=dg7Z.bindings||[];var r6l=j6d.dv7o(uM7F,function(q6k){return q6k.type==ACCOUNT_TYPE.MOBILE});var pF6z=r6l>=0?uM7F[r6l]:null;if(!pF6z)return null;var cp6j=JSON.parse(pF6z.tokenJsonStr);pF6z.uid=cp6j.cellphone;pF6z.hasPassword=cp6j.hasPassword;return pF6z};b6f.cGB6v=function(dg7Z){var uM7F=dg7Z.bindings||[];var r6l=j6d.dv7o(uM7F,function(q6k){return q6k.type==dg7Z.account.type});var pF6z=r6l>=0?uM7F[r6l]:null;if(!pF6z)return null;var cp6j=JSON.parse(pF6z.tokenJsonStr);pF6z.uid=cp6j.cellphone||cp6j.email||cp6j.name||cp6j.nickname||"";return pF6z}})();
(function(){var c6e=NEJ.P,G6A=c6e("nej.ut"),h6b=c6e("nej.v"),u6o=c6e("nej.j"),a5f=c6e("nej.e"),j6d=c6e("nej.u"),F6z=c6e("nm.m"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),b6f,L6F;F6z.MI4M=NEJ.C();b6f=F6z.MI4M.M6G(G6A.cP6J);var LOGIN_ACCOUNT=[{type:1,title:"手机",icon:"mb",key:"cellphone",uidkey:"cellphone"},{type:10,title:"微信",icon:"wx",key:"nickname",uidkey:"unionid"},{type:5,title:"QQ",icon:"qq",key:"nickname",uidkey:"openid"},{type:2,title:"新浪微博",icon:"sn",key:"name",uidkey:"uid"},{type:0,title:"网易邮箱账号",icon:"urs",key:"email",uidkey:"email"},{type:13,title:"Facebook",icon:"urs",key:"nickname",uidkey:"uid"}];var SHARE_ACCOUNT=[{type:4,title:"人人",icon:"rr",key:"user.name",uidkey:"user.id"},{type:3,title:"豆瓣",icon:"db",key:"douban_user_name",uidkey:"douban_user_id"}];var TWEIBO={type:6,title:"腾讯微博",icon:"tc",key:"nick",uidkey:"openId"};var ALL_ACCOUNT=LOGIN_ACCOUNT.concat(SHARE_ACCOUNT,TWEIBO);b6f.cy6s=function(e6c){this.cD6x(e6c);window.login=this.cFb6V.f6b(this);window.logout=this.bWx1x.f6b(this);window.reg=this.cET6N.f6b(this);h6b.s6m(window,"login",this.II3x.f6b(this));window.g_onUserLogin=this.II3x.f6b(this);window.g_cbLogin=this.uR7K.f6b(this);window.g_cbBind=this.cEE6y.f6b(this);window.g_cbDeleteBind=this.cEf6Z.f6b(this);window.g_cbVerify=this.SQ5V.f6b(this);this.blm8e()};b6f.blm8e=function(){var dg7Z={account:{},profile:{},bindings:[]};if(typeof GUser!=="undefined"){dg7Z.profile.userId=GUser.userId;dg7Z.profile.nickname=GUser.nickname;dg7Z.profile.avatarUrl=GUser.avatarUrl}if(typeof GBinds!=="undefined"){dg7Z.bindings=GBinds}localCache.mS5X("user",dg7Z);this.bll8d=p6j.mV5a.B6v();this.bll8d.s6m("onlogout",this.cDC5H.f6b(this));this.bll8d.s6m("onmainaccountreplace",this.uR7K.f6b(this));if(!this.cDb5g(dg7Z))this.bWx1x()};b6f.cFb6V=function(t6n,canPwd){var props={onSuccess:function(user){h6b.z6t(window,"login",{user:user})}};if(window.CtWebLogin){window.CtWebLogin.LoginModal(props)}else{window.CtWebLoginConfig={func:"LoginModal",props:props}}};b6f.cET6N=function(){if(this.yG7z)this.yG7z.V6P();this.yG7z=n6h.bbv6p.B6v()};b6f.II3x=function(d6d){if(typeof GUser==="object"&&d6d.user&&d6d.user.profile){var Ib3x=d6d.user.profile;GUser.userId=Ib3x.userId;GUser.nickname=Ib3x.nickname;GUser.avatarUrl=Ib3x.avatarUrl;GUser.djStatus=Ib3x.djStatus}if(this.bkn8f("loginsuccess")){this.z6t("loginsuccess")}else{location.reload()}};b6f.uR7K=function(m6g){if(m6g&&m6g.code==250){n6h.bb6V.I6C({tip:m6g.message||"登录异常",type:2});return}if(m6g.code==702){this.bVj1x=n6h.SN5S.I6C({title:"网易云音乐",mobile:m6g.phone,countrycode:m6g.countrycode,loginType:m6g.loginType});return}if(!m6g||m6g.code!=200)return;var kx4B=JSON.stringify(m6g);localCache.mS5X("user",JSON.parse(kx4B));if(m6g.loginType==6){if(this.bWz1x)this.bWz1x.V6P();this.bWz1x=n6h.bWf1x.B6v({user:m6g,onsuccess:this.II3x.f6b(this)})}else{if(m6g.profile){this.II3x({user:m6g})}else{if(this.lD4H)this.lD4H.V6P();this.lD4H=n6h.Bb8T.B6v({user:m6g,requiremobile:this.cCF5K(m6g),onsuccess:this.II3x.f6b(this)})}}};b6f.cEE6y=function(bk6e){var d6d=bk6e.code==200?"snsbind":"snsbinderror",eU7N=a5f.A6u("g_iframe");if(bk6e.code==200){var dg7Z=localCache.A6u("user")||{},pF6z=NEJ.X(bk6e,{refreshTime:+(new Date)/1e3|0,tokenJsonStr:JSON.stringify({expires_in:bk6e.expires_in})}),r6l=-1;dg7Z.bindings=dg7Z.bindings||[];j6d.bh6b(dg7Z.bindings,function(cCE5J,xM7F){if(cCE5J.type==bk6e.type)r6l=xM7F});if(r6l>=0){dg7Z.bindings[r6l]=pF6z}else{dg7Z.bindings.push(pF6z)}u6o.be6Y("/api/point/sns",{type:"json",method:"get",query:{snsType:bk6e.type},onload:function(i6c){var bQ6K=bk6e.point||i6c.point;if(bQ6K>0){n6h.dT7M({title:"绑定成功",type:"success",mesg:'绑定成功 获得<em class="s-fc6">'+bQ6K+"积分</em>"})}else{n6h.bb6V.I6C({tip:"绑定成功"})}}.f6b(this)})}else{var r6l=j6d.dv7o(ALL_ACCOUNT,function(q6k){return q6k.type==bk6e.type});var et7m=r6l>=0?ALL_ACCOUNT[r6l].title:"";if(bk6e.message){n6h.dT7M({title:"绑定"+et7m,type:"fail",mesg:"绑定失败",mesg2:bk6e.message})}else{n6h.bb6V.I6C({tip:"绑定失败，请重试",type:2})}}try{var bJ6D=eU7N.contentWindow;bJ6D.nej.v.z6t(bJ6D,d6d,{result:bk6e})}catch(e){}h6b.z6t(window,d6d,{result:bk6e})};b6f.cEf6Z=function(bk6e){var d6d=bk6e.code==200?"snsunbind":"snsunbinderror",eU7N=a5f.A6u("g_iframe");if(bk6e.code==200){n6h.bb6V.I6C({tip:"已解除绑定"})}else if(bk6e.message){n6h.dT7M({title:"解除绑定",type:"fail",mesg:"解绑失败",mesg2:bk6e.message})}else{n6h.bb6V.I6C({tip:"解绑失败，请重试",type:2})}try{var bJ6D=eU7N.contentWindow;bJ6D.nej.v.z6t(bJ6D,d6d,{result:bk6e})}catch(e){}h6b.z6t(window,d6d,{result:bk6e})};b6f.SQ5V=function(bk6e){console.log(bk6e,"rsp");var d6d=bk6e.code==200?"snsverify":"snsverifyerror",eU7N=a5f.A6u("g_iframe");if(bk6e.code==200){}else{if(bk6e.message){n6h.dT7M({title:"验证失败",type:"fail",mesg:"验证失败",mesg2:bk6e.message})}else{n6h.bb6V.I6C({tip:"验证失败，请重试",type:2})}}try{var bJ6D=eU7N.contentWindow;bJ6D.nej.v.z6t(bJ6D,d6d,{result:bk6e})}catch(e){}h6b.z6t(window,d6d,{result:bk6e})};b6f.bWx1x=function(){var d6d={};this.z6t("beforedologout",d6d);if(d6d.stopped){return}u6o.gP7I("MUSIC_U",{expires:-1});this.bll8d.cna3x();window.GUser={};this.z6t("logoutbefore")};b6f.cDC5H=function(m6g){localCache.cQ6K("user");localCache.cQ6K("host-plist");if(typeof GUser==="object"){GUser.userId=0;GUser.nickname="";GUser.avatarUrl=""}if(this.bkn8f("logoutsuccess")){this.z6t("logoutsuccess")}else{location.reload()}};b6f.cDb5g=function(dg7Z){var bWA1x=false;if(!dg7Z.bindings||dg7Z.bindings.length==0)return true;j6d.bh6b(dg7Z.bindings,function(q6k){if(q6k.type==0||q6k.type==2||q6k.type==5||q6k.type==10||q6k.type==13||q6k.type==1){bWA1x=true}});return bWA1x};b6f.cCF5K=function(i6c){return i6c&&i6c.loginType!=13};G6A.fO7H.B6v({element:window,event:["login","snsbind","snsbinderror","snsunbind","snsunbinderror","snsverify","snsverifyerror"]});F6z.MI4M.fS7L()})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),Y6S=c6e("nej.ui"),G6A=c6e("nej.ut"),j6d=c6e("nej.u"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),y6s=c6e("nm.w"),b6f;y6s.XU6O=NEJ.C();b6f=y6s.XU6O.M6G(Y6S.er7k);b6f.bW6Q=function(){this.cg6a();var k6e=a5f.di7b(this.o6i);this.IH3x=k6e[0];this.cx6r=k6e[1];this.bO6I=k6e[2]};b6f.cf6Z=function(){this.cd6X="g-select"};b6f.bn6h=function(e6c){this.bp6j(e6c);this.bY6S([[this.cx6r,"click",this.qr6l.f6b(this)],[this.bO6I,"click",this.lA4E.f6b(this)],[document,"click",this.qh6b.f6b(this)]]);this.bvT1x=e6c.filter||this.cbW2x;this.lp4t(e6c.list)};b6f.bC6w=function(){this.bH6B();delete this.bX6R;delete this.wS7L;delete this.bvT1x};b6f.lp4t=function(k6e,kO4S){if(!k6e){this.IH3x.innerText="－请选择－";return}this.bX6R=k6e;a5f.dn7g(this.bO6I,"g-select-item",{options:k6e},{filter:this.bvT1x});this.js4w(kO4S||k6e[0])};b6f.mz5E=function(){return this.bX6R};b6f.gj7c=function(){return this.wS7L};b6f.js4w=function(D6x){if(this.wS7L!=D6x){this.wS7L=D6x;this.IH3x.innerText=this.bvT1x(D6x);this.z6t("onchange",D6x)}};b6f.qr6l=function(d6d){h6b.bi6c(d6d);if(a5f.bE6y(this.bO6I,"f-hide")){if(!this.bX6R||!this.bX6R.length)return;a5f.x6r(this.bO6I,"f-hide")}else{a5f.w6q(this.bO6I,"f-hide")}};b6f.qh6b=function(){a5f.w6q(this.bO6I,"f-hide")};b6f.lA4E=function(d6d){var g6a=h6b.ba6U(d6d,"d:index"),r6l=a5f.v6p(g6a,"index");if(g6a){this.js4w(this.bX6R[r6l])}};b6f.cbW2x=function(dR7K){return dR7K.name}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),dq7j=c6e("nej.p"),Y6S=c6e("nej.ui"),u6o=c6e("nej.j"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),y6s=c6e("nm.w"),gH7A=c6e("nm.ut"),b6f,L6F;y6s.EC9t=NEJ.C();b6f=y6s.EC9t.M6G(Y6S.er7k);L6F=y6s.EC9t.ct6n;b6f.bn6h=function(e6c){this.bp6j(e6c);this.eZ7S=e6c.type||1;if(a5f.ip8h("program-data")){this.gd7W=JSON.parse(a5f.ip8h("program-data"))}this.en7g=e6c.resource||{};this.tu6o=a5f.oU5Z(a5f.bZ6T("m-wgt-input-"+this.eZ7S,{placeholder:e6c.placeholder||""}));this.caj2x=e6c.type==2?true:false;var k6e=a5f.C6w(this.tu6o,"j-flag");this.gz7s=k6e[0];this.biX8P=a5f.C6w(this.tu6o,"btns")[0];this.mk5p=k6e[3];this.cnv3x=k6e[4];a5f.hl8d(this.gz7s,"holder");if(a5f.bE6y(this.gz7s.parentNode,"holder-parent")){a5f.bc6W(this.gz7s.parentNode,"display","block")}this.gz7s.value=e6c.input||"";this.o6i.appendChild(this.tu6o);this.pA6u={start:0,end:0};if(!e6c.nomention){this.hY8Q=y6s.Qf4j.B6v({parent:document.body,target:this.gz7s})}else{a5f.bc6W(k6e[2],"display","none")}this.biI8A=e6c.numLimit||140;this.gx7q();this.cka3x();this.bY6S([[this.mk5p,"click",this.uO7H.f6b(this)],[k6e[2],"click",this.biV8N.f6b(this)],[k6e[1],"click",this.biU8M.f6b(this)],[this.gz7s,"focus",this.kJ4N.f6b(this)],[this.gz7s,"blur",this.oP5U.f6b(this)],[this.gz7s,"input",this.fd7W.f6b(this)],[this.gz7s,"keyup",this.xz7s.f6b(this)],[this.gz7s,"click",this.nd5i.f6b(this)]]);if(!j6d.gU7N(e6c.onbeforesubmit))this.s6m("onbeforesubmit",this.cje3x.f6b(this));if(!j6d.gU7N(e6c.onloading))this.s6m("onloading",this.clz3x.f6b(this));u6o.be6Y("/api/middle/clientcfg/config/list",{type:"json",method:"get",query:{moduleName:"preload"},onload:function(res){var status=res.data["preload#security"].emojiStatus[0].status;if(status===5){a5f.w6q(k6e[1],"f-hide")}else{a5f.x6r(k6e[1],"f-hide")}}.f6b(this)})};b6f.bC6w=function(){this.gz7s.value="";if(this.hT8L){this.hT8L.V6P();delete this.hT8L}if(this.hY8Q){this.hY8Q.V6P();delete this.hY8Q}this.bH6B();a5f.cQ6K(this.tu6o)};b6f.cje3x=function(){var D6x=this.gz7s.value;if(this.mk5p.className.indexOf("dis")>=0)return;if(!this.HR3x()||!this.EL9C())return;if(l6f.lb4f(D6x)){n6h.bb6V.I6C({type:2,tip:"输入点内容再提交吧"});return}if(j6d.fQ7J(D6x)>2*this.biI8A){n6h.bb6V.I6C({type:2,tip:"输入不能超过"+this.biI8A+"个字符"});return}return!0};b6f.clz3x=function(){a5f.w6q(this.mk5p,"u-btn-1-dis");if(this.mk5p.innerText.indexOf("...")<0){this.mk5p.innerText=this.mk5p.innerText+"..."}this.ua6U=!0};b6f.Cc8U=function(){if(!this.ua6U)return;this.ua6U=!1;a5f.x6r(this.mk5p,"u-btn-1-dis");var cJ6D=this.mk5p.innerText;this.mk5p.innerText=cJ6D.substring(0,cJ6D.length-3)};b6f.nd5i=function(){this.pA6u=gH7A.wQ7J(this.gz7s)};b6f.uO7H=function(ih8Z){h6b.bi6c(ih8Z);l6f.rA6u(function(){var D6x=this.gz7s.value;if(!this.z6t("onbeforesubmit",{value:D6x}))return;if(this.eZ7S!=4)this.z6t("onloading");gH7A.bQy0x(D6x);if(this.hY8Q){this.hY8Q.GH9y()}if(this.hT8L){this.hT8L.br6l()}this.z6t("onsubmit",D6x);this.gx7q()}.f6b(this));return false};b6f.rm6g=function(){this.gz7s.value="";this.gx7q()};b6f.gj7c=function(){return this.gz7s.value||""};b6f.nx5C=function(){var jo4s=this.gz7s;var t6n=a5f.v6p(jo4s,"type");this.nf5k=t6n;if(!this.EL9C())return;var bt6n=this.gj7c().length;this.gz7s.focus();gH7A.bfz7s(this.gz7s,{start:bt6n,end:bt6n});this.nd5i()};b6f.biV8N=function(d6d){h6b.bi6c(d6d);if(!this.EL9C())return;!!this.hT8L&&this.hT8L.br6l();this.hY8Q.Qi5n();this.gx7q()};b6f.biU8M=function(d6d){h6b.bi6c(d6d);if(!this.EL9C())return;if(!this.hT8L){this.hT8L=n6h.Ob4f.B6v({parent:this.biX8P,rightwards:this.eZ7S==6});this.hT8L.s6m("onselect",this.zw8o.f6b(this));a5f.bc6W(this.hT8L.mm5r().parentNode,"position","relative")}this.hT8L.I6C();this.z6t("onemotlayershow");if(this.hY8Q){this.hY8Q.GH9y()}};b6f.zw8o=function(d6d){var bq6k="["+d6d.text+"]";h6b.z6t(this.gz7s,"focus");this.gz7s.focus();gH7A.Os4w(this.gz7s,this.pA6u,bq6k);this.gx7q();h6b.z6t(this.gz7s,"keyup")};b6f.fd7W=function(d6d){dq7j.dB7u.browser=="ie"&&dq7j.dB7u.version<"7.0"?setTimeout(this.gx7q.f6b(this),0):this.gx7q()};b6f.xz7s=function(d6d){this.nd5i();if(this.caj2x)this.cam2x();this.fd7W()};b6f.HR3x=function(){if(!GUser||!GUser.userId||GUser.userId<0){top.login();return}return true};b6f.kJ4N=function(d6d){var g6a=h6b.ba6U(d6d,"d:type");var t6n=a5f.v6p(g6a,"type");this.nf5k=t6n;if(!this.HR3x()){this.gz7s.blur();return}if(!this.EL9C()){this.gz7s.blur();return}this.z6t("onfocus")};b6f.oP5U=function(){this.z6t("onblur")};b6f.gx7q=function(){var bt6n=this.biI8A-Math.ceil(j6d.fQ7J(this.gz7s.value)/2);this.cnv3x.innerHTML=bt6n>=0?bt6n:'<em class="s-fc6">'+bt6n+"</em>"};b6f.cam2x=function(){var Im3x=76;var cfe2x=function(){if(parseInt(ck6e)>Im3x){a5f.bc6W(this.gz7s,"height","auto");a5f.bc6W(this.gz7s,"height",Im3x+"px");a5f.bc6W(this.gz7s,"overflowY","scroll")}else{a5f.bc6W(this.gz7s,"height","auto");a5f.bc6W(this.gz7s,"height",ck6e);a5f.bc6W(this.gz7s,"overflowY","hidden")}}.f6b(this);var ub6V=function(string,number){for(var i=0,r="";i<number;i++)r+=string;return r};this.Kn3x.innerHTML=this.gz7s.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(space){return ub6V("&nbsp;",space.length-1)+" "})+"&nbsp";var ck6e=this.Kn3x.offsetHeight>this.Kp3x?this.Kn3x.offsetHeight:this.Kp3x;ck6e+="px";var cQO7H=a5f.dl7e(this.gz7s,"height");setTimeout(cfe2x,10)};b6f.TV5a=function(){var qM6G=["overflowX","overflowY","fontSize","fontFamily","lineHeight"];for(var i=0;i<qM6G.length;i++){a5f.bc6W(this.Kn3x,qM6G[i],a5f.dl7e(this.gz7s,qM6G[i]))}var cM6G=this.gz7s.offsetWidth-parseInt(a5f.dl7e(this.gz7s,"paddingLeft"))-parseInt(a5f.dl7e(this.gz7s,"paddingRight"))+"px";a5f.bc6W(this.Kn3x,"width",cM6G)};b6f.cka3x=function(){if(this.caj2x){if(!a5f.C6w(document.body,"shadow-textarea")[0]){var ek7d='<div style="position:absolute;border: none;left:-10000px;word-wrap: break-word;overflow: hidden;resize:none" class="shadow-textarea"></div>';var g6a=a5f.oU5Z(ek7d);document.body.appendChild(g6a);this.Kn3x=a5f.C6w(document.body,"shadow-textarea")[0]}else{this.Kn3x=a5f.C6w(document.body,"shadow-textarea")[0]}this.Kp3x=parseInt(a5f.dl7e(this.gz7s,"height"));a5f.bc6W(this.gz7s,"overflow","hidden");this.TV5a()}};b6f.EL9C=function(){var d6d={};if(this.gd7W&&this.gd7W.buyed!=true&&this.gd7W.programFeeType>=10||this.gd7W&&this.gd7W.buyed!=true&&this.gd7W.programFeeType==5&&this.gd7W.radio.radioFeeType==2||this.gd7W&&this.gd7W.buyed!=true&&this.gd7W.radio.feeScope==1&&!(this.gd7W.radio.radioFeeType==0&&this.nf5k==11)){var bnF8x=this.gd7W.radio.id,bnI8A="djradio";l6f.QL5Q({id:bnF8x,radiotype:bnI8A})}else{this.z6t("oncheckvalid",d6d);return!d6d.stopped}}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,j6d=c6e("nej.u"),h6b=c6e("nej.v"),G6A=c6e("nej.ut"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),b6f,L6F;p6j.fo7h({"message_chat-add":{url:"/api/msg/private/send",filter:function(e6c){this.Pr4v(e6c,0)},format:function(m6g,e6c){this.bpp9g(m6g.newMsgs);if(e6c.justSend){return m6g}else{return m6g.newMsgs.reverse()}},finaly:function(d6d,e6c){if(!d6d)return;if(!e6c.justSend){h6b.z6t(p6j.nL5Q,"listchange",{key:e6c.key,action:"unshift",limit:d6d.limit,offset:0})}this.z6t("onafteritemaddd")},onmessage:function(ca6U){var cR6L="";if(ca6U==407){cR6L="发送内容中不得包含非法字符"}else if(ca6U==406||ca6U==405){cR6L="输入过于频繁，请稍后再试"}else if(ca6U==408){cR6L="请不要重复发送"}else if(ca6U==315){cR6L="根据对方设置，你没有该操作权限"}if(!!cR6L)n6h.bb6V.I6C({tip:cR6L,type:2})}},"message_chat-del":{url:"/api/msg/private/delete/single",format:function(Q6K,e6c){return Q6K.code==200},finaly:function(d6d,e6c){h6b.z6t(p6j.nL5Q,"listchange",{key:e6c.key,action:"delete",data:e6c.data});this.z6t("onafteritemdelete")},onmessage:function(ca6U){}},"message_chat-list":{url:"/api/msg/private/history",filter:function(e6c,bf6Z){if(window.location.href.indexOf("noticeaccountflag=true")!==-1){bf6Z.url="/api/msg/private/noticeaccount/history"}else{bf6Z.url="/api/msg/private/history"}this.Pr4v(e6c);delete e6c.data.offset},format:function(m6g,e6c){var Py4C=m6g.msgs||m6g.data.msgs;this.bpp9g(Py4C);if(m6g.more||m6g.data&&m6g.data.hasMore){for(var i=Py4C.length;i<e6c.limit;i++){Py4C.push(null)}}else{return{total:e6c.offset+e6c.limit,list:Py4C}}return Py4C}},"message_chat-pull":{url:"/api/msg/private/new",filter:function(e6c){this.Pr4v(e6c,0)},format:function(m6g){return m6g.msgs}},"message_private-list":{url:"/api/msg/private/users",filter:function(e6c){},format:function(m6g,e6c){var cG6A=m6g.size||0,k6e=m6g.msgs;this.bpr9i(k6e);if(e6c.offset+e6c.limit<cG6A){k6e.length=e6c.limit}return{total:cG6A,list:k6e}}},"message_private-pull":{url:"/api/msg/private/users",filter:function(e6c){e6c.data.time=-1},format:function(m6g,e6c){this.vW7P(e6c.key);this.bpr9i(m6g.msgs);return m6g.msgs}},"message_private-del":{type:"GET",url:"/api/msg/private/delete",filter:function(e6c){var E6y=e6c.id;if(E6y)e6c.data={userId:E6y.split("-")[1]}},format:function(Q6K,e6c){return Q6K},finaly:function(d6d,e6c){h6b.z6t(p6j.nL5Q,"listchange",{key:e6c.key,action:"refresh"})},onmessage:function(ca6U){}},"message_comment-list":{url:"/api/v1/user/comments/{uid}",filter:function(e6c){this.Pr4v(e6c);e6c.data.beforeTime=e6c.data.time;delete e6c.data.time;delete e6c.data.offset},format:function(m6g,e6c){if(e6c.data.offset==0)this.z6t("onnewcount",m6g.newCount);this.ccI2x(m6g);return{list:m6g.comments}}},"message_comment-del":{url:"/api/user/comments/delete",finaly:function(d6d,e6c){h6b.z6t(p6j.nL5Q,"listchange",{key:e6c.key,action:"refresh"})}},"message_user_comment-reply":{url:"/api/user/comments/reply",format:function(Q6K){this.z6t("onreply");n6h.bb6V.I6C({tip:"回复成功"});return Q6K},onmessage:function(ca6U,m6g){if(ca6U==250){n6h.bb6V.I6C({tip:m6g.message||m6g.msg||"评论异常",type:2});return}n6h.bb6V.I6C({tip:"回复失败，请稍后再试",type:2})}},"message_resource_comment-reply":{url:"/api/resource/comments/reply",onmessage:function(ca6U,m6g){if(ca6U==250){n6h.bb6V.I6C({tip:m6g.message||m6g.msg||"评论异常",type:2});return}}},"message_notify-list":{url:"/api/msg/notices",filter:function(e6c){this.Pr4v(e6c);delete e6c.data.offset},format:function(m6g,e6c){if(e6c.data.offset==0)this.z6t("onnewcount",m6g.newCount);this.ccN2x(m6g);return{list:m6g.notices}}},"message_notify-del":{url:"TODO",format:function(Q6K,e6c){return e6c.ext},finaly:function(d6d,e6c){h6b.z6t(p6j.nL5Q,"listchange",{key:e6c.key,action:"refresh"})},onmessage:function(ca6U){l6f.btJ0x({txt:"通知删除失败！"})}},"message_at-list":{url:"/api/forwards/get",filter:function(e6c){},format:function(m6g,e6c){j6d.bh6b(m6g.forwards,function(q6k,r6l){q6k.isNew=r6l<m6g.newCount});m6g.forwards.length=e6c.limit;return{total:m6g.size,list:m6g.forwards}}},"message_at-pull":{url:"/api/forwards/get",filter:function(e6c){this.Pr4v(e6c,0)},format:function(m6g,e6c){return m6g.forwards}},"message_at-del":{url:"TODO",format:function(Q6K,e6c){return e6c.ext},finaly:function(d6d,e6c){h6b.z6t(p6j.nL5Q,"listchange",{key:e6c.key,action:"refresh"})},onmessage:function(ca6U){l6f.btJ0x({txt:"@消息删除失败！"})}},"event-like":{url:"/api/resource/like",onload:"oneventlike",filter:function(e6c,bf6Z){if(e6c.like){bf6Z.url="/api/resource/like";bf6Z.onload="oneventlike"}else{bf6Z.url="/api/resource/unlike";bf6Z.onload="oneventunlike"}},format:function(m6g,e6c){m6g.id=e6c.id;m6g.isInner=!!e6c.isInner;return m6g}}});p6j.nL5Q=NEJ.C();b6f=p6j.nL5Q.M6G(p6j.hS8K);L6F=p6j.nL5Q.ct6n;b6f.Bv8n=function(e6c,q6k){if(!j6d.ec7V(q6k)){return L6F.Bv8n.apply(this,arguments)}j6d.bh6b(q6k,function(i6c){L6F.Bv8n.apply(this,[e6c,i6c])},this);return{limit:q6k.length}};b6f.cdg2x=function(q6k){if(!j6d.ec7V(q6k)){if(q6k.type==1){q6k.json=this.bRn0x(q6k.json,q6k.id)}else if(q6k.type==2){q6k.json=JSON.parse(q6k.json);q6k.json.resource=this.bRn0x(q6k.json.resource)}else if(q6k.type==3){q6k.json=JSON.parse(q6k.json)}return}j6d.bh6b(q6k,this.cdg2x,this)};b6f.bRn0x=function(ti6c){if(j6d.fT7M(ti6c)){ti6c=JSON.parse(ti6c)}if(!!ti6c.json&&j6d.fT7M(ti6c.json)){ti6c.json=JSON.parse(ti6c.json);if(!!ti6c.json.event&&!!ti6c.json.event.json&&j6d.fT7M(ti6c.json.event.json)){ti6c.json.event.json=JSON.parse(ti6c.json.event.json)}}return ti6c};b6f.bpp9g=function(q6k){if(!j6d.ec7V(q6k)){q6k.msg=JSON.parse(q6k.msg||"{}");return}j6d.bh6b(q6k,this.bpp9g,this)};b6f.bpr9i=function(q6k){if(!j6d.ec7V(q6k)){q6k.id=q6k.toUser.userId+"-"+q6k.fromUser.userId;q6k.lastMsg=JSON.parse(q6k.lastMsg);return}j6d.bh6b(q6k,this.bpr9i,this)};b6f.ccI2x=function(i6c){var bD6x={0:"/playlist?id={id}",1:"/dj?id={id}",2:"/event?id={id}&uid={userId}",3:"/album?id={id}",4:"/song?id={id}",5:"/mv?id={id}",6:"/topic?id={id}",62:"/video?id={id}&toast=true"};j6d.bh6b(i6c.comments,function(q6k,r6l){try{q6k.resourceJson=JSON.parse(q6k.resourceJson)}catch(e){q6k.resourceJson=null}if(q6k.resourceJson){if(q6k.resourceType!==62||q6k.resourceJson.id){q6k.resUrl=l6f.bdq7j(bD6x[q6k.resourceType],q6k.resourceJson)}}},this)};b6f.ccN2x=function(){var cds2x=function(bS6M){var Q6K,cS7L="";try{Q6K=JSON.parse(bS6M.json)}catch(e){Q6K={}}switch(bS6M.type){case 12:cS7L="我创建了歌单";cS7L=cS7L+"「"+Q6K.playlist.name+"」by "+Q6K.playlist.creator.nickname;break;case 13:cS7L="我分享了歌单";cS7L=cS7L+"「"+j6d.dN7G(Q6K.playlist.name)+"」by "+Q6K.playlist.creator.nickname;break;case 14:cS7L="我收藏了歌单";cS7L=cS7L+"「"+j6d.dN7G(Q6K.playlist.name)+"」by "+Q6K.playlist.creator.nickname;break;case 15:case 16:cS7L="我创建了节目";cS7L=cS7L+"「"+Q6K.program.name+"」by "+Q6K.program.dj.nickname;break;case 17:cS7L="我分享了节目";cS7L=cS7L+"「"+Q6K.program.name+"」by "+Q6K.program.dj.nickname;break;case 18:cS7L="我分享了歌曲";cS7L=cS7L+"「"+Q6K.song.name+"」by ";for(var i=0,l=Q6K.song.artists.length;i<l;i++){cS7L=cS7L+Q6K.song.artists[i].name;if(i<l-1)cS7L=cS7L+"/"}break;case 19:cS7L="我分享了专辑";cS7L=cS7L+"「"+Q6K.album.name+"」by "+Q6K.album.artist.name;break;case 36:cS7L="我分享了歌手";cS7L=cS7L+"「"+Q6K.resource.name+"」";break;case 21:cS7L="我分享了MV";cS7L=cS7L+"「"+Q6K.mv.name+"」by "+Q6K.mv.artistName;break;case 22:cS7L="我的动态:"+(l6f.zb8T(j6d.dN7G(Q6K.msg),"s-fc3")||"转发");break;case 23:cS7L="我收藏了节目";cS7L=cS7L+"「"+Q6K.program.name+"」by "+Q6K.program.dj.nickname;break;case 24:cS7L="我分享了专栏文章";cS7L=cS7L+"「"+Q6K.topic.mainTitle+"」";break;case 28:cS7L="我分享了电台";cS7L=cS7L+"「"+Q6K.djRadio.name+"」by "+Q6K.djRadio.dj.nickname;break;case 31:cS7L="我分享了评论：";cS7L=cS7L+l6f.zb8T((Q6K.resource||bd6X).content||"");if(Q6K.resource&&Q6K.resource.expressionUrl){cS7L+="[表情图片]"}break;case 35:cS7L="我的动态:"+l6f.zb8T(j6d.dN7G(Q6K.msg),"s-fc3")+(bS6M.pics&&bS6M.pics.length?"[图片]":"");break;case 39:cS7L="我发布了视频";cS7L=cS7L+"「"+Q6K.video.title+"」";break;case 41:cS7L="我分享了视频";cS7L=cS7L+"「"+Q6K.video.title+"」";break}Q6K.str=cS7L;return Q6K};var cdt2x=function(FX9O){var bD6x={A_PL_0:"playlist",R_MV_5:"mv",A_TO_6:"topic",A_DJ_1:"dj",A_EV_2:"event",R_AL_3:"album",R_SO_4:"song",A_DR_14:"radio",R_VI_62:"video"};if(/^(\w_\w{2}_\d+)+_(.+)$/.test(FX9O)){var t6n=bD6x[RegExp.$1],co6i=RegExp.$2.split("_");return"/"+t6n+"?id="+co6i[0]+(t6n=="event"?"&uid="+co6i[1]:"")+"&_hash=comment-box&toast=true"}};var cdu2x=function(eP7I){var eP7I=JSON.parse(eP7I);switch(eP7I.type){case 1:if(!eP7I.track)return;eP7I.msg="赞了你的动态";eP7I.url="/event?toast=true&id="+eP7I.track.id+"&uid="+GUser.userId;eP7I.track=cds2x(eP7I.track);break;case 2:eP7I.msg="收藏了你的歌单";eP7I.url="/playlist?id="+eP7I.playlist.id;eP7I.res=eP7I.playlist;break;case 3:eP7I.msg="分享了你的歌单";eP7I.url="/playlist?id="+eP7I.playlist.id;eP7I.res=eP7I.playlist;break;case 4:eP7I.msg="分享了你的节目";eP7I.url="/dj?id="+eP7I.program.id;eP7I.res=eP7I.program;break;case 5:eP7I.msg="收藏了你的节目";eP7I.url="/dj?id="+eP7I.program.id;eP7I.res=eP7I.program;break;case 6:eP7I.msg="赞了你的评论";eP7I.url=cdt2x(eP7I.comment.threadId);eP7I.comment=eP7I.comment;break;case 7:eP7I.msg="赞了你的节目";eP7I.url="/dj?id="+eP7I.program.id;eP7I.res=eP7I.program;break;case 8:eP7I.msg="订阅了你的电台";eP7I.url="/radio?id="+eP7I.djRadio.id;eP7I.res=eP7I.djRadio;break;case 9:eP7I.msg="赞了你的专栏文章";eP7I.url="/topic?id="+eP7I.topic.id;eP7I.topic=eP7I.topic;break;case 10:if(!eP7I.generalNotice)return;eP7I.msg=eP7I.generalNotice.actionDesc;eP7I.url=eP7I.generalNotice.webUrl;if(eP7I.url.indexOf("/video?id=")==0){eP7I.url+="&toast=true"}eP7I.generalContent=eP7I.generalNotice.content;break}return eP7I};return function(i6c){j6d.bh6b(i6c.notices,function(q6k,r6l){q6k.notice=cdu2x(q6k.notice)},this)}}();b6f.Pr4v=function(e6c,r6l,J6D){var bz6t=-1,k6e=this.hJ8B(e6c.key),bo6i=e6c.offset;bo6i=bo6i!=null?bo6i:k6e.length;if(bo6i>0&&k6e.length>0){var cdA2x=0;r6l=r6l!=null?r6l:bo6i-1;while(r6l>=0&&!k6e[r6l]){r6l--;cdA2x++}if(r6l>=0&&k6e[r6l]){bz6t=k6e[r6l][J6D||"time"]}}e6c.data.time=bz6t};b6f.cdF2x=function(e6c){e6c.onload=this.bRj0x.f6b(this);e6c.onerror=this.bRj0x.f6b(this);this.cj6d("message_resource_comment-reply",e6c)};b6f.bRj0x=function(d6d){this.z6t("onreply2",d6d)};b6f.biL8D=function(e6c){this.cj6d("message_user_comment-reply",e6c)};b6f.Jl3x=function(d6d){this.z6t("onreply",d6d)};b6f.bky8q=function(e6c){e6c.onload=this.Uh5m.f6b(this);this.cj6d("message_chat-add",e6c)};b6f.Uh5m=function(d6d){this.z6t("onsend",d6d)};b6f.pB6v=function(e6c){this.cj6d("event-like",e6c)};G6A.fO7H.B6v({element:p6j.nL5Q,event:"listchange"})})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),u6o=c6e("nej.j"),bd6X=c6e("nej.o"),j6d=c6e("nej.u"),h6b=c6e("nej.v"),dq7j=c6e("nej.p"),y6s=c6e("nm.w"),l6f=c6e("nm.x"),bG6A=c6e("nej.ui"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),b6f,L6F;n6h.tP6J=NEJ.C();b6f=n6h.tP6J.M6G(n6h.ef7Y,!0);L6F=n6h.tP6J.prototype;b6f.cf6Z=function(){this.cd6X="m-msg-private-send"};b6f.bW6Q=function(){this.cg6a();var bR6L=a5f.C6w(this.o6i,"j-flag");this.wV7O={parent:bR6L[1],err:bR6L[0]};this.ft7m={parent:bR6L[2],type:4,nomention:true,numLimit:200,onsubmit:this.PD4H.f6b(this)};if(dq7j.dB7u.browser=="ie"&&dq7j.dB7u.version<"8.0"){a5f.bc6W(bR6L[0],"position","relative");a5f.bc6W(bR6L[0],"zIndex","10")}l6f.kg4k()};b6f.bn6h=function(e6c){l6f.rA6u(function(){e6c.parent=document.body;e6c.onclose=function(){this.bC6w()}.f6b(this);e6c.mask=true;this.bp6j(e6c);!!e6c.receiver&&(this.wV7O.receiver=e6c.receiver);this.pw6q=y6s.IP3x.B6v(this.wV7O);this.eu7n=y6s.EC9t.B6v(this.ft7m);this.S6M=p6j.nL5Q.B6v({onsend:this.Uh5m.f6b(this),onerror:function(i6c){var m6g=i6c.result||{};if(m6g.code==250){n6h.bb6V.I6C({tip:m6g.message||m6g.msg||"操作异常",type:2})}else{n6h.bb6V.I6C({tip:"发送失败",type:2})}this.eu7n.Cc8U()}.f6b(this)})}.f6b(this),true)};b6f.bC6w=function(){this.bH6B();if(!!this.pw6q){this.pw6q.V6P();delete this.pw6q}if(!!this.eu7n){this.eu7n.V6P();delete this.eu7n}};b6f.PD4H=function(D6x){if(!!D6x){var Sx5C=this.pw6q.SG5L();if(!!Sx5C.length){this.PS4W={type:"text",msg:D6x,userIds:JSON.stringify(Sx5C)};l6f.kQ4U(this.bpx9o.f6b(this));this.eu7n.z6t("onloading")}else{l6f.dT7M({title:"提示",message:"请选择私信发送对象"})}}else{l6f.dT7M({title:"提示",message:"私信内容不能为空"})}};b6f.bpx9o=function(cp6j){this.PS4W.checkToken=cp6j||"";this.S6M.bky8q({data:this.PS4W,justSend:true})};b6f.Uh5m=function(m6g){this.br6l();if(m6g.code==200){n6h.bb6V.I6C({tip:"发送成功"})}}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,h6b=c6e("nej.v"),a5f=c6e("nej.e"),u6o=c6e("nej.j"),j6d=c6e("nej.u"),n6h=c6e("nm.l"),y6s=c6e("nm.w"),bG6A=c6e("nej.ui"),p6j=c6e("nm.d"),l6f=c6e("nm.x"),b6f,L6F;n6h.bvU1x=NEJ.C();b6f=n6h.bvU1x.M6G(n6h.ef7Y);L6F=n6h.bvU1x.ct6n;b6f.cf6Z=function(){this.cd6X="m-question"};b6f.bW6Q=function(){this.cg6a();var k6e=a5f.C6w(this.o6i,"j-flag");this.fa7T=k6e[1];this.qi6c=k6e[2];this.pw6q=y6s.XU6O.B6v({filter:this.ccd2x,parent:k6e[0]});h6b.s6m(this.o6i,"click",this.bN6H.f6b(this))};b6f.bn6h=function(e6c){e6c.parent=e6c.parent||document.body;e6c.title="回答安全问题";e6c.draggable=!0;e6c.destroyalbe=!0;e6c.mask=true;this.bp6j(e6c);this.pw6q.lp4t(e6c.data||[])};b6f.bC6w=function(){this.bH6B();this.fa7T.value=""};b6f.DL8D=function(){this.br6l()};b6f.bN6H=function(d6d){var g6a=h6b.ba6U(d6d,"d:action");switch(a5f.v6p(g6a,"action")){case"back":this.z6t("onback");this.br6l();break;case"next":var bJG9x=this.fa7T.value.trim();if(!bJG9x){this.iN4R("请输入回答");return}var i6c={questionId:this.pw6q.gj7c().id,answer:j6d.kY4c(bJG9x)};this.iN4R(null);u6o.be6Y("/store/api/security/validateAnswer",{type:"json",method:"post",data:j6d.cq6k(i6c),onload:this.bJA9r.f6b(this),onerror:this.bJA9r.f6b(this)});break}};b6f.ccd2x=function(q6k){return q6k.question};b6f.iN4R=function(cR6L){if(cR6L){this.qi6c.innerHTML='<i class="u-icn u-icn-25"></i>'+cR6L;a5f.x6r(this.qi6c,"f-hide")}else{a5f.w6q(this.qi6c,"f-hide")}};var tc6W=function(d6d){try{top.doMsgToServiceAction(d6d)}catch(e){}};b6f.bJA9r=function(d6d){if(d6d&&d6d.code==200){this.z6t("onnext");this.br6l()}else{var bD6x={"-3":"回答错误，您还有"+d6d.times+"次机会！"};if(d6d.code==-2||d6d.code==-4){l6f.dT7M({clazz:"m-layer-w2",title:"更换手机号",message:"<p>账号已被锁定</p>"+'<p class="f-mgt10">回答错误的次数过多，您的账号已被锁定，将无法进行任何商城交易，<br/>'+'请私信<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 解锁。</p>',btntxt:"知道了",action:tc6W});this.br6l()}else{this.iN4R(bD6x[d6d.code]||"回答出错")}}};l6f.ccp2x=function(e6c){var bJy9p=function(d6d){if(d6d&&d6d.code==200){e6c.data=d6d.data;n6h.bvU1x.B6v(e6c).I6C()}else{l6f.dT7M({clazz:"m-layer-w2",message:'私信 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tc6W})}};u6o.be6Y("/store/api/security/getQuestion",{type:"json",method:"get",onload:bJy9p,onerror:bJy9p})}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),u6o=c6e("nej.j"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),l6f=c6e("nm.x"),b6f,L6F;n6h.bvZ1x=NEJ.C();b6f=n6h.bvZ1x.M6G(n6h.ef7Y);L6F=n6h.bvZ1x.ct6n;b6f.cf6Z=function(){this.cd6X="ntp-oldphonecheck"};b6f.bW6Q=function(){this.cg6a();this.eg7Z=a5f.C6w(this.o6i,"u-err")[0];this.bJr9i=a5f.C6w(this.o6i,"errTxt")[0];var cZ7S=a5f.C6w(this.o6i,"js-txt");this.Eb9S=cZ7S[0];h6b.s6m(this.Eb9S,"focus",this.byH1x.f6b(this));h6b.s6m(this.Eb9S,"keyup",this.byw1x.f6b(this));h6b.s6m(this.o6i,"click",this.bN6H.f6b(this))};var tc6W=function(d6d){try{top.doMsgToServiceAction(d6d)}catch(e){}};b6f.bn6h=function(e6c){e6c=e6c||{};this.bp6j(e6c);this.dy7r=e6c;this.bU6O(false);this.Eb9S.value=""};b6f.bC6w=function(){this.bH6B();if(this.dH7A)this.dH7A=clearInterval(this.dH7A)};b6f.byH1x=function(){a5f.x6r(this.Eb9S,"u-txt-err")};b6f.byw1x=function(d6d){if(/[^\d]/.test(this.Eb9S.value))this.Eb9S.value=this.Eb9S.value.replace(/[^\d]/g,"")};b6f.bN6H=function(d6d){var H6B=h6b.ba6U(d6d,"d:action");if(!H6B)return;var U6O=a5f.v6p(H6B,"action");switch(U6O){case"next":this.ccx2x(d6d);break;case"send":this.GA9r(d6d);break;case"back":this.bdO7H(d6d);break;case"skip":this.Mw4A(d6d);break}};b6f.ccx2x=function(d6d){var fe7X=this.CB8t();console.log(fe7X);if(!fe7X)return;u6o.be6Y("/api/user/oldcellphone/check",{type:"json",method:"get",query:{phone:fe7X},onload:function(d6d){if(d6d&&d6d.code==200&&d6d.data&&d6d.data.cellphoneCheck){this.z6t("onok",{oldPhone:fe7X})}else if(d6d.data&&d6d.data.outOfLimitTimes){this.bC6w();l6f.dT7M({clazz:"m-layer-w2",message:'<div style="padding:0 20px;">手机号输错次数过多，为了安全，一天内您不能再使用本解绑方式，如有任何疑问请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>。</div>',action:tc6W})}else{this.bU6O("原手机号错误")}}.f6b(this),onerror:function(){l6f.dT7M({clazz:"m-layer-w2",message:'<div style="padding:0 20px;">您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>。</div>',action:tc6W})}.f6b(this)})};b6f.CB8t=function(){var fe7X=this.gp7i||this.Eb9S.value.trim();if(!fe7X)return this.bU6O("请输入手机号","mobile");return fe7X};b6f.bU6O=function(bB6v){console.log(this.eg7Z);if(bB6v){a5f.x6r(this.eg7Z,"f-hide");this.bJr9i.innerHTML=bB6v}else{a5f.w6q(this.eg7Z,"f-hide");this.bJr9i.innerHTML=""}}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),ci6c=c6e("nej.ut"),u6o=c6e("nej.j"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),n6h=c6e("nm.l"),F6z=c6e("nm.m"),b6f,L6F;n6h.bgI7B=NEJ.C();b6f=n6h.bgI7B.M6G(ci6c.cP6J);b6f.bn6h=function(e6c){this.bp6j(e6c);this.dy7r=e6c;this.bJp9g=e6c.mobile;this.fL7E=e6c.countrycode||"86";this.nm5r=e6c.isBindPhone;this.S6M=p6j.mV5a.B6v();this.S6M.s6m("onsendcaptcha",this.sf6Z.f6b(this));this.S6M.s6m("onsendcaptchaerror",this.LZ4d.f6b(this));this.S6M.s6m("onchangemobile",this.bJo9f.f6b(this));this.S6M.s6m("onchangemobileerror",this.bwd1x.f6b(this));h6b.s6m(window,"snsverify",this.ccG2x.f6b(this));this.bJl9c()};b6f.bC6w=function(){this.bH6B();this.S6M.V6P();if(this.dO7H)this.dO7H.V6P();if(this.wE7x)this.wE7x.V6P()};var tc6W=function(d6d){try{top.doMsgToServiceAction(d6d)}catch(e){}};b6f.bJl9c=function(){if(this.dO7H)this.dO7H.br6l();if(this.wE7x)this.wE7x.V6P();this.wE7x=l6f.kC4G({title:"更换手机号",clazz:"m-layer-find",txt:"txt-mobilestatus",onaction:function(d6d){if(d6d.action=="valid"){this.S6M.yS7L({data:{ctcode:this.fL7E,cellphone:this.bJp9g,isBindPhone:this.nm5r}})}else{this.ccK2x()}}.f6b(this)})};b6f.ccK2x=function(){var self=this;u6o.be6Y("/api/user/specialuser",{type:"json",method:"get",onload:function(d6d){if(d6d&&d6d.code==200&&d6d.data){l6f.dT7M({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tc6W})}else{self.ccL2x()}},onerror:function(){l6f.dT7M({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tc6W})}})};b6f.ccL2x=function(){u6o.be6Y("/api/user/binding/thirdaccount/intime/get",{type:"json",method:"get",onload:function(d6d){if(d6d&&d6d.code==200&&d6d.data&&d6d.data.length>0){this.ccM2x(d6d.data)}else{l6f.dT7M({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tc6W})}}.f6b(this),onerror:function(){l6f.dT7M({clazz:"m-layer-w2",message:'请前往移动端app-设置-账号和绑定设置-更改绑定-手机号已停用自行进行换绑。如有后续疑问请联系<a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a>',action:tc6W})}.f6b(this)})};b6f.ccM2x=function(data){if(this.wE7x)this.wE7x.V6P();var hasWx=false,hasQQ=false;for(var i=0;i<data.length;i++){var item=data[i];if(item.type==5){hasQQ=true}else if(item.type==10){hasWx=true}}this.wE7x=l6f.kC4G({title:"第三方验证",clazz:"m-layer-verify",html:a5f.bZ6T("jst-mobilethirdaccount",{hasWx:hasWx,hasQQ:hasQQ}),onaction:function(d6d){this.t6n=parseInt(d6d.action,10);var hp8h={callbackType:"verify",clientType:"web2",forcelogin:true,snsType:this.t6n};F6z.XT6N("/api/sns/authorize?"+j6d.cq6k(hp8h),"_blank",this.t6n,true);if(this.wE7x)this.wE7x.V6P()}.f6b(this)})};b6f.ccG2x=function(bk6e){console.log(bk6e,"snsverify");var isMatch=bk6e.result.result;console.log(isMatch,"isMatch");var snsType=this.t6n===5?"QQ":"微信";if(!isMatch){l6f.dT7M({clazz:"m-layer-w2",message:"当前"+snsType+"账号与绑定账号不匹配，请检查"+snsType+"是否登录"+'<br />或联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:tc6W});return}u6o.be6Y("/api/user/replace/cellphone/safe/get",{type:"json",method:"get",onload:function(d6d){if(d6d&&d6d.code==200&&d6d.data){this.ccP2x()}else{l6f.dT7M({clazz:"m-layer-w2",message:'您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:tc6W})}}.f6b(this),onerror:function(){l6f.dT7M({clazz:"m-layer-w2",message:'您的登录环境异常，请联系 <a class="s-fc7" href="javascript:;" data-action="kf">@云音乐客服</a> 修改绑定的手机号',action:tc6W})}.f6b(this)})};b6f.ccP2x=function(){this.bgB7u=n6h.bvZ1x.I6C({title:"原手机号验证",onok:this.ccR2x.f6b(this)})};b6f.sf6Z=function(bk6e){this.dO7H=n6h.pn5s.I6C({title:"更换手机号",mobile:this.bJp9g,countrycode:this.fL7E,okbutton:"下一步",onok:this.ccT2x.f6b(this),backbutton:"&lt;&nbsp;&nbsp;上一步",onback:this.bJl9c.f6b(this),isBindPhone:this.nm5r})};b6f.LZ4d=function(d6d){n6h.bb6V.I6C({tip:(d6d||{}).message||"更换失败，请重试",type:2})};b6f.ccT2x=function(bK6E){if(this.bgB7u)this.bgB7u.V6P();var bK6E=bK6E||{};this.dO7H=n6h.pn5s.I6C({title:"更换手机号",mobileLabel:"新手机号：",okbutton:"完成",onok:this.ccX2x.f6b(this,bK6E.captcha)})};b6f.ccR2x=function(bK6E){console.log(bK6E,"inputmobile2");if(this.bgB7u)this.bgB7u.V6P();var bK6E=bK6E||{};this.ccY2x=bK6E.oldPhone;this.dO7H=n6h.pn5s.I6C({title:"更换手机号",mobileLabel:"新手机号：",okbutton:"完成",onok:this.cda2x.f6b(this)})};b6f.cda2x=function(bk6e){this.bgz7s=bk6e.mobile;this.dc7V=bk6e.captcha;this.fL7E=bk6e.countrycode||86;var queryObj={oldPhone:this.ccY2x,phone:this.bgz7s,captcha:this.dc7V,password:"",countrycode:this.fL7E};u6o.be6Y("/api/user/replacecellphone/v3",{type:"json",method:"post",data:j6d.cq6k(queryObj),onload:function(d6d){if(d6d&&d6d.code===200){this.bJo9f()}else{this.bwd1x(d6d)}}.f6b(this),onerror:function(d6d){this.bwd1x(d6d)}.f6b(this)})};b6f.ccX2x=function(cde2x,bk6e){this.bgz7s=bk6e.mobile;this.dc7V=bk6e.captcha;this.fL7E=bk6e.countrycode||86;this.S6M.clD3x({data:{phone:this.bgz7s,captcha:this.dc7V,countrycode:this.fL7E,oldcaptcha:cde2x}})};b6f.bJo9f=function(bk6e){this.dO7H.br6l();n6h.bb6V.I6C({tip:"更换成功"});if(this.dy7r.onsuccess)this.dy7r.onsuccess({mobile:this.bgz7s})};b6f.bwd1x=function(bk6e){if(bk6e.code==506){this.dO7H.cO6I(false);this.dO7H.bU6O(bk6e.message,"mobile")}else{this.dO7H.br6l();n6h.bb6V.I6C({tip:"更换失败，请重试",type:2})}}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),u6o=c6e("nej.j"),G6A=c6e("nej.ut"),j6d=c6e("nej.u"),l6f=c6e("nm.x"),n6h=c6e("nm.l"),cw6q=c6e("api"),y6s=c6e("nm.w");var bwh1x=null,bJj9a=null;var cdi2x=function(fe7X,bJi9Z){if(bwh1x)bwh1x.V6P();bwh1x=n6h.bgI7B.B6v({title:"更换手机号",mobile:fe7X,onsuccess:function(bk6e){if(bJi9Z)bJi9Z({cellphone:bk6e.mobile})}})};var cdn2x=function(e6c){u6o.be6Y("/api/sms/captcha/sent",{type:"json",query:{cellphone:e6c.mobile,channel:"new"},onload:function(d6d){if(d6d.code!=200)return n6h.bb6V.I6C({tip:d6d.message||"验证码发送失败",type:2});bJj9a=n6h.pn5s.I6C({title:e6c.title||"验证手机号",mobile:e6c.mobile,countrycode:e6c.countrycode,okbutton:e6c.ntext||"下一步",onok:function(bk6e){bJj9a.br6l();if(e6c.onnext)e6c.onnext(bk6e)}})},onerror:function(){n6h.bb6V.I6C({tip:"验证码发送失败",type:2})}})};cw6q.changePhone=cdi2x;cw6q.phoneCode=cdn2x;cw6q.validateQuestion=l6f.ccp2x})();
(function(){var c6e=NEJ.P,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),bl6f=c6e("nej.h"),P6J=c6e("nej.p");var jJ4N={opacity:1,"z-index":1,background:1,"font-weight":1,filter:1};bl6f.bYc1x=function(iV4Z){return jJ4N[iV4Z]===undefined&&iV4Z.indexOf("color")<0};bl6f.bfZ7S=function(g6a,ov5A,sl6f){sl6f=sl6f.slice(0,-1);a5f.bc6W(g6a,"transition",sl6f);a5f.fm7f(g6a,ov5A);return this};bl6f.WJ6D=function(g6a,W6Q,oq5v){a5f.fm7f(g6a,W6Q);a5f.bc6W(g6a,"transition","none");oq5v.call(null,W6Q);return this}})();
(function(){var c6e=NEJ.P,bs6m=NEJ.F,bl6f=c6e("nej.h"),P6J=c6e("nej.p");if(P6J.nT5Y.trident1)return;bl6f.Iy3x=function(){return!0}})();
(function(){var c6e=NEJ.P,P6J=c6e("nej.ut"),b6f;if(!!P6J.LM4Q)return;P6J.LM4Q=NEJ.C();b6f=P6J.LM4Q.M6G(P6J.Ir3x);b6f.bn6h=function(e6c){e6c=NEJ.X({},e6c);e6c.timing="easeout";this.bp6j(e6c)}})();
(function(){var c6e=NEJ.P,P6J=c6e("nej.ut"),b6f;if(!!P6J.bkg8Y)return;P6J.bkg8Y=NEJ.C();b6f=P6J.bkg8Y.M6G(P6J.Ir3x);b6f.bn6h=function(e6c){e6c=NEJ.X({},e6c);e6c.timing="easeinout";this.bp6j(e6c)}})();
(function(){var c6e=NEJ.P,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),bl6f=c6e("nej.h"),P6J=c6e("nej.p"),dh7a=c6e("nej.x"),ci6c=c6e("nej.ut");if(P6J.nT5Y.trident)return;var bYe1x={linear:ci6c.vD7w,"ease-in":ci6c.In3x,"ease-out":ci6c.LM4Q,"ease-in-out":ci6c.bkg8Y};bl6f.bfZ7S=function(){var cie3x=function(ov5A,sl6f){var cS7L="";j6d.eR7K(ov5A,function(D6x,Z6T){cS7L+=sl6f.replace("all",Z6T)});return cS7L};var chT3x=function(D6x,iV4Z){if(iV4Z==="filter"){D6x=j6d.Lj4n(D6x,0);D6x="alpha(opacity="+D6x+")"}if(iV4Z==="z-index")D6x=j6d.Lj4n(D6x,0);return D6x};var chz3x=function(D6x){return bYe1x[D6x.split(" ")[2]]};var chs3x=function(g6a,D6x,ov5A,oq5v,r6l){var D6x=D6x.split(" "),iV4Z=D6x[0],el7e=parseFloat(a5f.dl7e(g6a,iV4Z))||0,of5k=parseFloat(ov5A[iV4Z])||0,chf3x=bYe1x[D6x[2]],bkd8V=D6x[1].slice(0,-1)*1e3+D6x[3].slice(0,1)*1e3;if(bkd8V>=g6a.sumTime){g6a.sumTime=bkd8V;g6a.isLastOne=r6l}var WV6P=nej.p.dB7u.engine==="trident"&&nej.p.dB7u.release-5<0;if(iV4Z==="opacity"&&WV6P){iV4Z="filter";var ei7b=a5f.dl7e(g6a,iV4Z);el7e=parseFloat(ei7b.split("=")[1])||0;of5k=of5k*100}var e6c={from:{offset:el7e},to:{offset:of5k},duration:bkd8V,onupdate:function(bo6i){var D6x=bo6i.offset;if(!bl6f.bYc1x(iV4Z)){D6x=chT3x(D6x,iV4Z);a5f.bc6W(g6a,iV4Z,D6x)}else{a5f.bc6W(g6a,iV4Z,D6x+"px")}},onstop:function(iV4Z){var LJ4N=g6a.effects[r6l];if(!LJ4N)return;LJ4N=chf3x.V6P(LJ4N);if(g6a.isLastOne===r6l)oq5v.apply(this)}.f6b(this,r6l)};return e6c};return bl6f.bfZ7S.eQ7J(function(d6d){d6d.stopped=!0;var k6e=d6d.args;var g6a=k6e[0],ov5A=k6e[1],sl6f=k6e[2],oq5v=k6e[3];g6a.sumTime=0,g6a.isLastOne=0;var bYk1x=[];if(sl6f.indexOf("all")>-1)sl6f=cie3x(ov5A,sl6f);var bkb8T=sl6f.slice(0,-1);bkb8T=bkb8T.split(",");g6a.effects=[];j6d.bh6b(bkb8T,function(D6x,r6l){var e6c=chs3x(g6a,D6x,ov5A,oq5v,r6l);bYk1x.push({o:e6c,c:chz3x(D6x)})});j6d.bh6b(bYk1x,function(q6k,r6l){var LJ4N=q6k.c.B6v(q6k.o);g6a.effects[r6l]=LJ4N;LJ4N.ez7s()});return this})}();bl6f.WJ6D=bl6f.WJ6D.eQ7J(function(d6d){d6d.stopped=!0;var k6e=d6d.args;var g6a=k6e[0];j6d.bh6b(g6a.effects,function(bd6X){bd6X.bi6c()});g6a.effects=[];return this})})();
(function(){var c6e=NEJ.P,bs6m=NEJ.F,bl6f=c6e("nej.h"),a5f=c6e("nej.e"),P6J=c6e("nej.p");if(P6J.nT5Y.gecko)return;bl6f.bfZ7S=function(g6a,ov5A,sl6f){sl6f=sl6f.slice(0,-1);a5f.bc6W(g6a,"transition",sl6f);setTimeout(function(){a5f.fm7f(g6a,ov5A)},33);return this}})();
(function(){var c6e=NEJ.P,bs6m=NEJ.F,bl6f=c6e("nej.h"),P6J=c6e("nej.p");if(P6J.nT5Y.webkit)return})();
(function(){var c6e=NEJ.P,bs6m=NEJ.F,bl6f=c6e("nej.h"),P6J=c6e("nej.p");if(P6J.nT5Y.presto)return})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,j6d=c6e("nej.u"),bl6f=c6e("nej.h"),a5f=c6e("nej.e"),h6b=c6e("nej.v"),P6J=c6e("nej.ut"),xK7D;if(!!P6J.tE6y)return;P6J.tE6y=NEJ.C();xK7D=P6J.tE6y.M6G(P6J.cP6J);xK7D.bn6h=function(e6c){this.bp6j(e6c);this.oB5G=a5f.A6u(e6c.node);this.bYp1x=e6c.styles||[];this.bYs1x=e6c.onstop||bs6m;this.bjV8N=e6c.transition||[];this.Xf6Z={};this.bYG1x=this.cKy6s();if(!!bl6f.Iy3x&&bl6f.Iy3x()){setTimeout(this.Iy3x.f6b(this),this.bjN8F*1e3)}else{this.bY6S([[this.oB5G,"transitionend",this.Iy3x.f6b(this)]])}};xK7D.bC6w=function(){if(!!this.Lw4A){this.Lw4A=window.clearInterval(this.Lw4A)}delete this.oB5G;delete this.bYp1x;delete this.bYG1x;delete this.Xf6Z;delete this.bjL8D;delete this.bjV8N;delete this.Lw4A;this.bH6B()};xK7D.Iy3x=function(d6d){if(!!bl6f.Iy3x&&bl6f.Iy3x()){this.bjK8C=!1;this.bi6c();return}if(!!this.bjK8C&&this.cGi6c(d6d)){this.bjK8C=!1;this.bi6c()}};xK7D.cGi6c=function(d6d){var Z6T=d6d.propertyName;if(Z6T===this.bjL8D||Z6T.indexOf(this.bjL8D)>-1)return!0;else return!1};xK7D.cKy6s=function(){var cFO6I=function(cm6g){var k6e=cm6g.split(":"),iV4Z=k6e[0],D6x=k6e[1],g6a=this.oB5G;if(D6x.indexOf("=")>-1){var qB6v=parseInt(a5f.dl7e(g6a,iV4Z))||0;var dq7j=parseInt(D6x.split("=")[1]);if(D6x.indexOf("+")>-1)D6x=qB6v+dq7j;else D6x=qB6v-dq7j}if(bl6f.bYc1x(iV4Z)){if(D6x.toString().indexOf("px")<0)D6x+="px"}this.Xf6Z[iV4Z]=D6x};var cCc5h=function(r6l){if(!this.bjV8N[r6l])return"";var tj6d=this.bjV8N[r6l],G6A=tj6d.duration+tj6d.delay;if(G6A>=this.bjN8F){this.bjN8F=G6A;this.bjL8D=tj6d.property}return tj6d.property+" "+tj6d.duration+"s "+tj6d.timing+" "+tj6d.delay+"s,"};return function(){var bZi1x="";this.bjN8F=0;j6d.bh6b(this.bYp1x,function(cm6g,r6l){cFO6I.call(this,cm6g);bZi1x+=cCc5h.call(this,r6l)}.f6b(this));return bZi1x}}();xK7D.czP5U=function(){this.ji4m={};j6d.eR7K(this.Xf6Z,function(D6x,iV4Z){this.ji4m[iV4Z]=a5f.dl7e(this.oB5G,iV4Z)}.f6b(this));this.z6t("onplaystate",this.ji4m)};xK7D.xi7b=function(){this.bjK8C=!0;bl6f.bfZ7S(this.oB5G,this.Xf6Z,this.bYG1x,this.bYs1x);this.Lw4A=window.setInterval(this.czP5U.f6b(this),49);return this};xK7D.bi6c=function(){bl6f.WJ6D(this.oB5G,this.Xf6Z,this.bYs1x);this.Lw4A=window.clearInterval(this.Lw4A);return this};xK7D.cQJ7C=function(){};xK7D.cQK7D=function(){}})();
(function(){var c6e=NEJ.P,bs6m=NEJ.F,j6d=c6e("nej.u"),a5f=c6e("nej.e"),j6d=c6e("nej.u"),P6J=c6e("nej.ut");a5f.bgO7H=function(e6c){e6c=e6c||{};e6c.onstop=e6c.onstop||bs6m;e6c.onplaystate=e6c.onplaystate||bs6m;return e6c};a5f.bZE2x=function(){var cnC3x=function(g6a,bgR7K,WV6P){var ht8l,fG7z=true;if(!!WV6P){j6d.eR7K(bgR7K,function(D6x,Z6T){if(Z6T==="opacity"){Z6T="filter";var ei7b=a5f.dl7e(g6a,Z6T);if(ei7b===""){a5f.bc6W(g6a,"filter","alpha(opacity=100)");ht8l=100}else{ht8l=parseFloat(ei7b.split("=")[1])||0}D6x=D6x*100}else{ht8l=a5f.dl7e(g6a,Z6T)}if(parseInt(ht8l)===D6x)fG7z=false}.f6b(this))}else{j6d.eR7K(bgR7K,function(D6x,Z6T){ht8l=a5f.dl7e(g6a,Z6T);if(parseInt(ht8l)===D6x)fG7z=false}.f6b(this))}return fG7z};return function(g6a,bgR7K){var WV6P=nej.p.dB7u.engine==="trident"&&nej.p.dB7u.release-5<0;if(!cnC3x(g6a,bgR7K,WV6P))return!1;return!0}}();a5f.bZG2x=function(){var cnh3x=function(g6a){var Ok4o=a5f.dl7e(g6a,"display");if(Ok4o==="none")return!1;return!0};return function(g6a,e6c,kO4S){var Mi4m=e6c.opacity||kO4S;g6a=a5f.A6u(g6a);if(!cnh3x.call(g6a))return!1;if(!!g6a.effect)return!1;if(!a5f.bZE2x(g6a,{opacity:Mi4m}))return!1;e6c=a5f.bgO7H(e6c);g6a.effect=P6J.tE6y.B6v({node:g6a,transition:[{property:"opacity",timing:e6c.timing||"ease-in",delay:e6c.delay||0,duration:e6c.duration||1}],styles:["opacity:"+Mi4m],onstop:function(W6Q){g6a.effect=P6J.tE6y.V6P(g6a.effect);e6c.onstop.call(null,W6Q)},onplaystate:e6c.onplaystate.f6b(g6a.effect)});g6a.effect.xi7b();return this}}.f6b(this)();a5f.bgU7N=function(g6a,e6c){return a5f.bZG2x(g6a,e6c,1)};a5f.cmR3x=function(g6a,e6c){return a5f.bZG2x(g6a,e6c,0)};a5f.ckP3x=function(g6a){a5f.bjs8k(g6a);return this};a5f.bjs8k=function(g6a){g6a=a5f.A6u(g6a);if(g6a.effect&&g6a.effect.bi6c()){if(!!g6a.effect)g6a.effect=P6J.tE6y.V6P(g6a.effect)}return this};a5f.bZL2x=function(g6a,pj5o,e6c){g6a=a5f.A6u(g6a);if(!!g6a.effect)return!1;if(!a5f.bZE2x(g6a,pj5o))return!1;e6c=a5f.bgO7H(e6c);e6c.duration=e6c.duration||[];var gv7o=pj5o.top||0,hv8n=pj5o.left||0;g6a.effect=P6J.tE6y.B6v({node:g6a,transition:[{property:"top",timing:e6c.timing||"ease-in",delay:e6c.delay||0,duration:e6c.duration[0]||1},{property:"left",timing:e6c.timing||"ease-in",delay:e6c.delay||0,duration:e6c.duration[1]||1}],styles:["top:"+gv7o,"left:"+hv8n],onstop:function(W6Q){e6c.onstop.call(null,W6Q);g6a.effect=P6J.tE6y.V6P(g6a.effect)},onplaystate:e6c.onplaystate.f6b(g6a.effect)});g6a.effect.xi7b();return this};a5f.bZO2x=function(){return function(g6a,pj5o,e6c){g6a=a5f.A6u(g6a);if(!!g6a.effect)return!1;e6c=a5f.bgO7H(e6c);var k6e=pj5o.split(":"),cgG2x=k6e[0],bZW2x=[];bZW2x.push(pj5o);g6a.effect=P6J.tE6y.B6v({node:g6a,transition:[{property:cgG2x,timing:e6c.timing||"ease-in",delay:e6c.delay||0,duration:e6c.duration||1}],styles:bZW2x,onstop:function(W6Q){e6c.onstop.call(null,W6Q);g6a.effect=P6J.tE6y.V6P(g6a.effect)},onplaystate:e6c.onplaystate.f6b(g6a.effect)});g6a.effect.xi7b();return this}}();a5f.cQM7F=function(){var bjg8Y=function(g6a,t6n){return t6n=="height"?g6a.clientHeight:g6a.clientWidth};return function(g6a,t6n,e6c){g6a=a5f.A6u(g6a);if(!!g6a.effect)return!1;e6c=a5f.bgO7H(e6c);var D6x=e6c.value||false;if(!D6x){a5f.bc6W(g6a,"display","block");var g6a=a5f.A6u(g6a);D6x=bjg8Y(g6a,t6n)}var fG7z=a5f.dl7e(g6a,"visibility");if(fG7z==="hidden"){g6a.style.height=0;a5f.bc6W(g6a,"visibility","inherit");g6a.effect=P6J.tE6y.B6v({node:g6a,transition:[{property:t6n,timing:e6c.timing||"ease-in",delay:e6c.delay||0,duration:e6c.duration||1}],styles:[t6n+":"+D6x],onstop:function(W6Q){e6c.onstop.call(null,W6Q);g6a.effect=P6J.tE6y.V6P(g6a.effect);bhe7X=window.clearTimeout(bhe7X)},onplaystate:e6c.onplaystate.f6b(g6a.effect)})}else{g6a.style.height=D6x;g6a.effect=P6J.tE6y.B6v({node:g6a,transition:[{property:t6n,timing:e6c.timing||"ease-in",delay:e6c.delay||0,duration:e6c.duration||1}],styles:[t6n+":"+0],onstop:function(W6Q){a5f.bc6W(g6a,"visibility","hidden");a5f.bc6W(g6a,t6n,"auto");e6c.onstop.call(null,W6Q);g6a.effect=P6J.tE6y.V6P(g6a.effect);bhe7X=window.clearTimeout(bhe7X)},onplaystate:e6c.onplaystate.f6b(g6a.effect)})}var bhe7X=window.setTimeout(function(){g6a.effect.xi7b()}.f6b(this),0);return this}}()})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),G6A=c6e("nej.ut"),j6d=c6e("nej.u"),bG6A=c6e("nej.ui"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),y6s=c6e("nm.w"),cw6q=c6e("api"),b6f,L6F;y6s.Iv3x=NEJ.C();b6f=y6s.Iv3x.M6G(bG6A.er7k);L6F=y6s.Iv3x.ct6n;b6f.cf6Z=function(){this.cd6X="m-image-preview"};b6f.bW6Q=function(){this.cg6a();var k6e=a5f.C6w(this.o6i,"j-flag");this.Yu6o=k6e[0];this.nq5v=k6e[1];this.eh7a=k6e[2];this.XO6I=k6e[3];this.XN6H=k6e[4];this.XF6z=k6e[5]};b6f.bn6h=function(e6c){this.bp6j(e6c);this.cdv2x();this.jM4Q=e6c.urls;this.gR7K=this.jM4Q.length;if(this.gR7K==1){a5f.bc6W(this.XO6I,"display","none");a5f.bc6W(this.XN6H,"display","none")}this.bY6S([[this.o6i,"click",this.bN6H.f6b(this)],[document,"keydown",this.cdw2x.f6b(this)]]);l6f.bwS1x(this.jM4Q,function(oC5H,eF7y){this.rp6j=eF7y;this.mY5d(e6c.index||0)}.f6b(this))};b6f.bC6w=function(){this.bH6B();a5f.w6q(this.nq5v,"fail-loading");a5f.x6r(this.nq5v,"f-hide");a5f.bc6W(this.XO6I,"display","");a5f.bc6W(this.XN6H,"display","");a5f.x6r(this.XO6I,"z-cntdis");a5f.x6r(this.gG7z,"z-cntdis");a5f.x6r(this.XN6H,"z-cntdis");a5f.x6r(this.Io3x,"z-cntdis");this.eh7a.src="";delete this.jM4Q;delete this.gR7K};b6f.bN6H=function(d6d){var g6a=h6b.ba6U(d6d,"action");if(a5f.bE6y(g6a,"z-dis"))return;switch(a5f.v6p(g6a,"action")){case"close":this.V6P();break;case"prev":this.mY5d(this.cu6o-1);break;case"next":this.mY5d(this.cu6o+1);break;case"go":this.mY5d(a5f.v6p(g6a,"index"));break}};b6f.mY5d=function(r6l){if(r6l<=0){a5f.w6q(this.XO6I,"z-cntdis")}else{a5f.x6r(this.XO6I,"z-cntdis")}if(r6l>=this.gR7K-1){a5f.w6q(this.XN6H,"z-cntdis")}else{a5f.x6r(this.XN6H,"z-cntdis")}if(r6l<0||r6l>=this.jM4Q.length)return;var dk7d=this.jM4Q[r6l];this.XF6z.href=dk7d+"?param=9999y9999";if(this.rp6j&&this.rp6j[r6l]){a5f.w6q(this.nq5v,"f-hide");this.eh7a.src=dk7d}else{this.eh7a.src="";a5f.x6r(this.nq5v,"f-hide");a5f.x6r(this.nq5v,"fail-loading")}this.cu6o=r6l};cw6q.imageView=function(oC5H,r6l){y6s.Iv3x.B6v({parent:document.body,urls:oC5H,index:r6l})};b6f.cdw2x=function(d6d){h6b.bi6c(d6d);switch(d6d.keyCode){case 37:this.mY5d(this.cu6o-1);break;case 39:this.mY5d(this.cu6o+1);break;case 27:this.V6P();break;case 38:this.Yu6o.scrollTop-=20;break;case 40:this.Yu6o.scrollTop+=20;break}};b6f.cdv2x=function(){var bwo1x=a5f.ds7l("input");this.o6i.appendChild(bwo1x);bwo1x.focus();a5f.cQ6K(bwo1x)}})();
(function(){var c6e=NEJ.P,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),dq7j=c6e("nej.p"),u6o=c6e("nej.j"),gH7A=c6e("nm.ut"),y6s=c6e("nm.w"),n6h=c6e("nm.l"),l6f=c6e("nm.x"),b6f,L6F;n6h.biZ8R=NEJ.C();b6f=n6h.biZ8R.M6G(n6h.ef7Y);L6F=n6h.biZ8R.ct6n;b6f.cy6s=function(e6c){e6c.title="转发动态";this.cD6x(e6c)};b6f.bn6h=function(e6c){l6f.rA6u(function(){if(e6c.onclose===undefined)e6c.onclose=function(){this.br6l()}.f6b(this);this.bp6j(e6c);this.jz4D=e6c.rid;this.ok5p=e6c.uid;this.cvn4r=e6c.text;this.gF7y.value=this.cvn4r;this.hY8Q=y6s.Qf4j.B6v({parent:document.body,target:this.gF7y})}.f6b(this),true);u6o.be6Y("/api/middle/clientcfg/config/list",{type:"json",method:"get",query:{moduleName:"preload"},onload:function(res){var status=res.data["preload#security"].emojiStatus[0].status;if(status===5){a5f.w6q(this.biY8Q,"f-hide")}else{a5f.x6r(this.biY8Q,"f-hide")}}.f6b(this)})};b6f.cf6Z=function(){this.cd6X="m-wgt-forward"};b6f.bW6Q=function(){this.cg6a();var bR6L=a5f.C6w(this.o6i,"j-flag");this.Fo9f=bR6L[0];this.gF7y=bR6L[1];this.biX8P=bR6L[2];this.biY8Q=bR6L[3];this.PU4Y=bR6L[4];this.kc4g=bR6L[5];this.cac2x=bR6L[6];this.coe3x=bR6L[7];this.zD8v=bR6L[8];h6b.s6m(this.gF7y,"input",this.fd7W.f6b(this));h6b.s6m(this.gF7y,"keyup",this.brl0x.f6b(this));h6b.s6m(this.gF7y,"click",this.nd5i.f6b(this));h6b.s6m(this.PU4Y,"click",this.biV8N.f6b(this));h6b.s6m(this.biY8Q,"click",this.biU8M.f6b(this));h6b.s6m(this.cac2x,"click",this.KL4P.f6b(this));h6b.s6m(this.coe3x,"click",this.zE8w.f6b(this));l6f.kg4k()};b6f.bC6w=function(){this.bH6B();if(this.hT8L){this.hT8L.V6P();delete this.hT8L}if(this.hY8Q){this.hY8Q.V6P();delete this.hY8Q}};b6f.fd7W=function(d6d){dq7j.dB7u.browser=="ie"&&dq7j.dB7u.version<"7.0"?setTimeout(this.gx7q.f6b(this),0):this.gx7q()};b6f.brl0x=function(d6d){this.nd5i();this.fd7W()};b6f.gx7q=function(){var bt6n=this.gF7y.value.trim().length;this.kc4g.innerHTML=!bt6n?"140":140-bt6n;bt6n>140?a5f.w6q(this.kc4g,"s-fc6"):a5f.x6r(this.kc4g,"s-fc6");if(!bt6n||bt6n==0)a5f.bc6W(this.Fo9f,"display","block");else a5f.bc6W(this.Fo9f,"display","none")};b6f.biV8N=function(d6d){h6b.bi6c(d6d);!!this.hT8L&&this.hT8L.br6l();this.hY8Q.Qi5n();this.gx7q()};b6f.biU8M=function(d6d){h6b.bi6c(d6d);if(!this.hT8L){this.hT8L=n6h.Ob4f.B6v({parent:this.biX8P});this.hT8L.s6m("onselect",this.zw8o.f6b(this))}this.hT8L.I6C()};b6f.zw8o=function(d6d){var bq6k="["+d6d.text+"]";gH7A.Os4w(this.gF7y,this.pA6u,bq6k);this.gx7q();h6b.z6t(this.gF7y,"keyup")};b6f.nd5i=function(){this.pA6u=gH7A.wQ7J(this.gF7y)};b6f.KL4P=function(d6d){h6b.bi6c(d6d);if(this.dZ7S())return;if(this.gF7y.value.trim().length>140){this.dY7R("字数超过140个字符");return}l6f.kQ4U(this.clx3x.f6b(this))};b6f.clx3x=function(cp6j){var bhU8M=this.gF7y.value.trim();var hN8F=window.GUser.userId;var E6y=this.jz4D;var X6R="/api/event/forward";var i6c={forwards:bhU8M,id:this.jz4D,eventUserId:this.ok5p,checkToken:cp6j||""};i6c=j6d.cq6k(i6c);this.dZ7S(!0);var gA7t=u6o.be6Y(X6R,{sync:false,type:"json",data:i6c,method:"POST",onload:this.DD8v.f6b(this),onerror:this.eb7U.f6b(this)})};b6f.DD8v=function(m6g){this.dZ7S(!1);if(m6g.code!=200){var bB6v="转发失败";switch(m6g.code){case 250:bB6v=m6g.message||m6g.msg||"分享异常";break;case 404:bB6v=m6g.message||"该动态已被删除";break;case 407:bB6v="输入内容包含有关键字";break;case 408:bB6v="转发太快了，过会再分享吧";break;case 315:bB6v="根据对方设置，你没有该操作权限";break}this.dY7R(bB6v);return}gH7A.bQy0x(this.gF7y.value);this.br6l();n6h.bb6V.I6C({tip:"转发成功！",autoclose:true});this.z6t("onforward",{id:this.jz4D,eventUserId:this.ok5p})};b6f.eb7U=function(i6c){this.dZ7S(!1);this.dY7R(bB6v)};b6f.dZ7S=function(de7X){return L6F.dZ7S(this.cac2x,de7X,"转发","转发中 ...")};b6f.dY7R=function(bB6v){return L6F.dY7R(this.zD8v,bB6v)};b6f.zE8w=function(d6d){h6b.cn6h(d6d);this.br6l()};b6f.nx5C=function(){this.gF7y.focus();if(dq7j.dB7u.browser=="ie"&&parseInt(dq7j.dB7u.version)<10)return;gH7A.bfz7s(this.gF7y,{start:0,end:0});this.nd5i()};b6f.br6l=function(){L6F.br6l.call(this);if(this.hT8L){this.hT8L.V6P();delete this.hT8L}if(this.hY8Q){this.hY8Q.V6P();delete this.hY8Q}};b6f.I6C=function(e6c){L6F.I6C.call(this);this.dY7R();this.dZ7S(!1);this.gx7q();this.nx5C();this.pA6u=gH7A.wQ7J(this.gF7y)};l6f.biS8K=function(e6c){if(!GUser||!GUser.userId||GUser.userId<=0){n6h.rF6z.I6C({title:"登录"});return}if(e6c.title===undefined)e6c.title="转发动态";n6h.biZ8R.I6C(e6c)}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),G6A=c6e("nej.ut"),u6o=c6e("nej.j"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),gH7A=c6e("nm.ut"),n6h=c6e("nm.l"),b6f,L6F;n6h.ZM6G=NEJ.C();b6f=n6h.ZM6G.M6G(n6h.ef7Y);L6F=n6h.ZM6G.ct6n;b6f.cy6s=function(){this.cD6x()};b6f.bW6Q=function(){this.cg6a();var k6e=a5f.C6w(this.o6i,"j-flag");this.eY7R=k6e[0];this.Qb4f=k6e[1];this.cC6w=k6e[2];this.bUo1x=k6e[3];this.eg7Z=k6e[4];h6b.s6m(this.o6i,"click",this.eJ7C.f6b(this));h6b.s6m(this.eY7R,"input",this.fd7W.f6b(this));h6b.s6m(this.eY7R,"keyup",this.xz7s.f6b(this))};b6f.cf6Z=function(){this.cd6X="m-sharesingle-layer"};b6f.bn6h=function(e6c){e6c.parent=e6c.parent||document.body;e6c.title=e6c.title||"分享";e6c.draggable=!0;e6c.mask=!0;e6c.clazz="m-layer m-layer-w2";this.bp6j(e6c);this.eY7R.value=e6c.mesg||"";this.bj6d={id:e6c.rid,type:e6c.type,picUrl:e6c.purl,snsType:e6c.snsType,resourceUrl:e6c.rurl};if(!this.bj6d.resourceUrl)delete this.bj6d.resourceUrl;this.Fy9p();this.dY7R(null);this.dZ7S(false)};b6f.eJ7C=function(d6d){var g6a=h6b.ba6U(d6d,"d:action"),U6O=a5f.v6p(g6a,"action");h6b.cn6h(d6d);switch(U6O){case"txt":this.nd5i();break;case"emt":h6b.uf7Y(d6d);!!this.hY8Q&&this.hY8Q.GH9y();if(!this.hT8L){this.hT8L=n6h.Ob4f.B6v({parent:this.Qb4f});this.hT8L.s6m("onselect",this.zw8o.f6b(this))}this.hT8L.I6C();break;case"ok":this.dY7R(null);if(this.qm6g)return;if(this.eY7R.value.trim().length>140){this.dY7R("字数超过140个字符");return}this.dZ7S(true);this.bj6d.msg=this.eY7R.value;if(!this.bj6d.resourceUrl){delete this.bj6d.resourceUrl}u6o.be6Y("/api/sns/share/resource",{type:"json",method:"post",data:j6d.cq6k(this.bj6d),onload:this.xn7g.f6b(this),onerror:this.xn7g.f6b(this)});break;case"cc":this.br6l();break}};b6f.zw8o=function(d6d){var bq6k="["+d6d.text+"]";gH7A.Os4w(this.eY7R,this.pA6u,bq6k);this.Fy9p()};b6f.fd7W=function(){this.Fy9p();this.nd5i()};b6f.xz7s=function(){this.Fy9p();this.nd5i()};b6f.Fy9p=function(){var bt6n=this.eY7R.value.trim().length;this.cC6w.innerText=140-bt6n;bt6n>140?a5f.fn7g(this.cC6w,"s-fc4","s-fc6"):a5f.fn7g(this.cC6w,"s-fc6","s-fc4")};b6f.nd5i=function(){this.pA6u=gH7A.wQ7J(this.eY7R)};b6f.xn7g=function(d6d){var jI4M={407:"输入内容包含有关键字",404:"分享的资源不存在",408:"分享太快了，过会再分享吧"};if(d6d.code==200){this.z6t("onsuccess",d6d);if(!d6d.stopped){n6h.bb6V.I6C({tip:"分享成功！",autoclose:true})}this.br6l()}else{this.dY7R(jI4M[d6d.code]||"分享失败")}this.dZ7S(false)};b6f.dY7R=function(bUv1x){if(bUv1x){this.eg7Z.innerHTML='<i class="u-icn u-icn-25"></i>'+bUv1x;a5f.x6r(this.eg7Z,"f-hide")}else{a5f.w6q(this.eg7Z,"f-hide")}};b6f.dZ7S=function(ZR6L){this.qm6g=ZR6L;if(ZR6L){this.bUo1x.innerHTML="<i>分享中...</i>"}else{this.bUo1x.innerHTML="<i>分享</i>"}};b6f.I6C=function(){L6F.I6C.call(this);var dC7v=this.eY7R.value.length;gH7A.bfz7s(this.eY7R,{start:dC7v,end:dC7v,text:""});this.nd5i()}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,bs6m=NEJ.F,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),G6A=c6e("nej.ut"),u6o=c6e("nej.j"),l6f=c6e("nm.x"),p6j=c6e("nm.d"),cw6q=c6e("api"),n6h=c6e("nm.l"),b6f,L6F;n6h.bIU9L=NEJ.C();b6f=n6h.bIU9L.M6G(n6h.ef7Y);b6f.bW6Q=function(){this.cg6a();var k6e=a5f.C6w(this.o6i,"j-flag");h6b.s6m(this.o6i,"click",this.bN6H.f6b(this))};b6f.cf6Z=function(){this.cd6X="m-simple-share-layer"};b6f.bn6h=function(e6c){e6c.clazz="m-layer-w6";if(!e6c.shareType)e6c.parent=e6c.parent||document.body;e6c.title=e6c.title||"分享";e6c.draggable=!0;e6c.mask=e6c.mask||true;this.bp6j(e6c);this.bj6d={id:e6c.id||0,type:e6c.type||"activity",picUrl:e6c.picUrl,msg:e6c.text,resourceUrl:e6c.resourceUrl,summary:e6c.summary};this.bY6S([[window,"snsbind",this.Qj5o.f6b(this)],[window,"snsbinderror",this.br6l.f6b(this)]]);this.wV7O={rid:this.bj6d.id,rurl:this.bj6d.resourceUrl,purl:this.bj6d.picUrl,mesg:this.bj6d.msg,type:this.bj6d.type,onsuccess:e6c.onsuccess};if(e6c.shareType){this.bIT9K(e6c.shareType)}};b6f.bN6H=function(d6d){var g6a=h6b.ba6U(d6d,"d:type"),t6n=a5f.v6p(g6a,"type");this.bIT9K(t6n)};b6f.bIT9K=function(t6n){switch(t6n){case"xlwb":case"rr":case"db":var yX8P={xlwb:2,rr:4,db:3},XM6G=yX8P[t6n],uM7F=localCache.bhy7r("user.bindings")||[],r6l=j6d.dv7o(uM7F,function(q6k){return q6k.type==XM6G&&!q6k.expired});if(r6l>=0){this.Aw8o(XM6G)}else{var hp8h={snsType:XM6G,callbackType:"Binding",clientType:"web2",forcelogin:true,csrf_token:u6o.gP7I("__csrf")};top.window.open("/api/sns/authorize?"+j6d.cq6k(hp8h))}break;case"wx":case"yx":var hp8h={resourceUrl:this.bj6d.resourceUrl,type:t6n};top.open("/share/QRCode?"+j6d.cq6k(hp8h));this.br6l();break;case"qzone":var co6i={url:this.bj6d.resourceUrl,title:this.bj6d.msg||"",pics:this.bj6d.picUrl,summary:this.bj6d.summary};top.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?"+j6d.cq6k(co6i));this.br6l();break;case"lofter":var co6i={from:"cloudmusic",image:this.bj6d.picUrl,source:"网易云音乐",sourceurl:this.bj6d.resourceUrl,content:this.bj6d.msg};top.open("http://www.lofter.com/sharephoto/?"+j6d.cq6k(co6i));this.br6l();break}};b6f.Qj5o=function(d6d){this.Aw8o(d6d.result.type)};b6f.Aw8o=function(t6n){this.br6l();if(this.AI8A){this.AI8A.V6P();delete this.AI8A}this.wV7O.snsType=t6n;this.AI8A=n6h.ZM6G.B6v(this.wV7O);this.AI8A.I6C()};var cL6F=null;cw6q.simpleShare=function(e6c){if(cL6F)cL6F.V6P();cL6F=n6h.bIU9L.B6v(e6c).I6C()}})();
(function(){var c6e=NEJ.P,bd6X=NEJ.O,a5f=c6e("nej.e"),h6b=c6e("nej.v"),j6d=c6e("nej.u"),u6o=c6e("nej.j"),G6A=c6e("nej.ut"),p6j=c6e("nm.d"),l6f=c6e("nm.x"),F6z=c6e("nm.m"),n6h=c6e("nm.l"),N6H=c6e("nm.m.f"),cw6q=c6e("api"),DW9N=/#(.*?)$/,b6f,L6F,Hu3x={pubEventWithPics:false,pubEventWithoutResource:false,pubEventWithPictureForbiddenNotice:"等级达到Lv.4，即可添加图片"};N6H.bIK9B=NEJ.C();b6f=N6H.bIK9B.M6G(G6A.dr7k);b6f.bM6G=function(){this.bT6N();window.onHashChange=this.bgm7f.f6b(this);window.log=this.hE8w.f6b(this);window.share=this.Aw8o.f6b(this);window.shareForStore=this.cdP2x.f6b(this);window.subscribe=this.bfH7A.f6b(this);window.onIframeClick=this.cdR2x.f6b(this);h6b.s6m(window,"playchange",this.hO8G.f6b(this));h6b.s6m(window,"playstatechange",this.cdS2x.f6b(this));h6b.s6m(window,"login",this.hz8r.f6b(this));this.lS5X=F6z.MI4M.fS7L();this.lS5X.s6m("loginsuccess",this.cdU2x.f6b(this));this.lS5X.s6m("logoutbefore",this.bwv1x.f6b(this));this.lS5X.s6m("logoutsuccess",this.bww1x.f6b(this));this.blm8e();this.by6s=N6H.Ye6Y.B6v();this.by6s.z6t("onshow",{});if(window.GUser&&window.GUser.userId){u6o.be6Y("/api/login/token/refresh",{type:"json",method:"post"})}this.DO8G=F6z.Rr5w.B6v();cw6q.refreshUserInfo=this.DO8G.Oq4u.f6b(this.DO8G);this.bgm7f(l6f.OK4O());this.cdZ2x();cw6q.cbDonate=this.cea2x;var referrer=document.referrer;if(referrer.indexOf(location.hostname)===-1){var conf={is_organic:referrer?0:1,url:location.href};if(!conf.is_organic){conf.source=referrer}this.hE8w("activeweb",conf)}};b6f.blm8e=function(){this.kM4Q=p6j.hL8D.B6v()};b6f.bgm7f=function(cT7M){var d6d=location.parse(cT7M);this.rK6E(d6d)};b6f.rK6E=function(d6d,t6n){var eU7N=a5f.A6u("g_iframe"),jS4W=d6d.path,bu6o=d6d.query,ki4m=eU7N.contentWindow.location;this.tJ6D=eU7N;if(/^\/(mv|video)/.test(jS4W)){if(this.by6s)this.by6s.br6l();this.lP5U=document.title}else{if(this.by6s)this.by6s.I6C();document.title=this.lP5U||l6f.rI6C()}if(bu6o.play=="true"&&/^\/(m\/)?song/.test(jS4W)){if(this.by6s)this.by6s.VN5S(18,bu6o.id,true)}if(/^\/my\/m\/music\/playlist/.test(jS4W)){var bpZ0x=l6f.baf6Z();if(!bpZ0x&&!!bu6o.id)return location.dispatch2("/playlist?id="+bu6o.id)}if(/^\/login\b/.test(jS4W)&&GUser&&GUser.userId){var ea7T=/targetUrl=(.+?)(&|$)/.exec(d6d.href),qw6q=ea7T?decodeURIComponent(ea7T[1]):"/discover",dm7f=/163\.com\/m\/at\//i;cee2x=/163\.com\/show\/m\//i;cef2x=/163\.com\/prime\/m\//i;ceg2x=/^(https?:\/\/?[\w-.]*(igame|music|iplay)\.163\.com\/)?([\/\w-.]*)?([\?#].*)?$/g;if(!ceg2x.test(qw6q)){qw6q=""}if(dm7f.test(qw6q)||cee2x.test(qw6q)||cef2x.test(qw6q)){window.location.href=qw6q}else{qw6q=qw6q.replace("/m/","/#/")}qw6q=qw6q.replace(/^\s+|\s+$/g,"");var dm7f=/^https?:\/\//i,Gv9m=/^\/\//,bkP8H=/^\//;if(!dm7f.test(qw6q)&&!Gv9m.test(qw6q)&&!bkP8H.test(qw6q)){qw6q="/discover"}return location.href=encodeURI(qw6q)}if(t6n!==undefined){if(bu6o&&bu6o.targetUrl){var pf5k=location.parse(bu6o.targetUrl);if(pf5k.path.indexOf("/store/")==0||pf5k.path.indexOf("/nmusician/")==0){return location.href=d6d.href}}return GDispatcher.refreshIFrame(d6d.href)}if(/^\/member\/?(\?[\s\S]*)?$/.test(jS4W)&&typeof vipWebCashierRedirect!=="undefined"&&""+vipWebCashierRedirect==="1"||/^\/vip2(\?|\/|$)/.test(jS4W)){this.DO8G.bAI2x(j6d.cq6k(bu6o))}};b6f.cdU2x=function(){var cT7M=DW9N.test(location.href)?RegExp.$1:"",d6d=location.parse(cT7M),KX4b=this.DO8G;KX4b.Oq4u();u6o.be6Y("/api/topic/user/info",{type:"json",onload:function(bP6J){top.GUserAcc=NEJ.X(top.GUserAcc||{},{topic:bP6J.status});KX4b.Oq4u()}});u6o.be6Y("/api/reward/user/showicon",{type:"json",onload:function(bP6J){top.GUserAcc=NEJ.X(top.GUserAcc||{},{reward:bP6J.showIcon});KX4b.Oq4u()}});if(!cw6q.sharePermission){cw6q.sharePermission=Hu3x}u6o.be6Y("/api/event/user/permission",{type:"json",onload:function(d6d){if(d6d.code==200){cw6q.sharePermission=NEJ.EX(Hu3x,d6d)}}});this.rK6E(d6d,"urlchange")};b6f.bwv1x=function(){n6h.pD6x.br6l();this.DO8G.Oq4u()};b6f.bww1x=function(){if(!location.hash||location.hash=="#"){var cT7M=DW9N.test(location.href)?RegExp.$1:"",d6d=location.parse(cT7M);this.rK6E(d6d,"urlchange");return}location.hash="#"};b6f.hO8G=function(d6d){if(this.tJ6D){var bJ6D=this.tJ6D.contentWindow;try{if(bJ6D.nej&&bJ6D.nej.v){bJ6D.nej.v.z6t?bJ6D.nej.v.z6t(bJ6D,"playchange",d6d):bJ6D.nej.v.dispatchEventalias?bJ6D.nej.v.dispatchEventalias(bJ6D,"playchange",d6d):""}}catch(e){}}};b6f.cdS2x=function(d6d){if(!this.tJ6D)return;var bJ6D=this.tJ6D.contentWindow;try{if(bJ6D.nej&&bJ6D.nej.v){bJ6D.nej.v.z6t?bJ6D.nej.v.z6t(bJ6D,"playstatechange",d6d):bJ6D.nej.v.dispatchEventalias?bJ6D.nej.v.dispatchEventalias(bJ6D,"playstatechange",d6d):""}}catch(e){}};b6f.hz8r=function(d6d){if(!this.tJ6D)return;var bJ6D=this.tJ6D.contentWindow;try{if(bJ6D.nej&&bJ6D.nej.v){bJ6D.nej.v.z6t?bJ6D.nej.v.z6t(bJ6D,"login",d6d):bJ6D.nej.v.dispatchEventalias?bJ6D.nej.v.dispatchEventalias(bJ6D,"login",d6d):""}}catch(e){}};b6f.hE8w=function(U6O,bf6Z){if(U6O.indexOf("new|")==0){return this.kM4Q.eM7F(U6O.slice(4),bf6Z)}switch(U6O){case"play":this.kM4Q.ez7s(bf6Z);break;case"search":this.kM4Q.bON0x(bf6Z);break;default:this.kM4Q.eM7F(U6O,bf6Z)}};b6f.Aw8o=function(){if(this.tJ6D.contentWindow.share){this.tJ6D.contentWindow.share.apply(this.tJ6D.contentWindow,arguments)}};b6f.cdP2x=function(){var bnE8w=function(d6d){h6b.z6t(window,"share",d6d)};return function(dd7W,t6n,Ay8q,Z6T,HN3x,HC3x){l6f.lH4L({rid:dd7W,type:t6n,purl:Ay8q,name:Z6T,author:HN3x,authors:HC3x,onshare:bnE8w.f6b(this)})}}();b6f.bfH7A=function(bS6M,ceh2x){var bJ6D=this.tJ6D.contentWindow;if(bJ6D.nm&&bJ6D.nm.x){if(!bJ6D.nm.x.ow5B){bJ6D=top.window}if(ceh2x&&bJ6D.nm.x.bMT0x){bJ6D.nm.x.bMT0x({data:bS6M.program})}else if(bJ6D.nm.x.ow5B){var k6e=j6d.ec7V(bS6M)?bS6M:[bS6M];bJ6D.nm.x.ow5B({tracks:k6e})}}};b6f.cdR2x=function(d6d){h6b.z6t(window,"iframeclick")};b6f.cdZ2x=function(){u6o.be6Y("/api/copyright/pay_fee_message/config",{type:"json",onload:function(d6d){if(d6d.code==200){cw6q.feeMessage=d6d.config}}});cw6q.sharePermission=Hu3x;u6o.be6Y("/api/event/user/permission",{type:"json",onload:function(d6d){if(d6d.code==200){cw6q.sharePermission=NEJ.EX(Hu3x,d6d)}}});u6o.be6Y("/api/privilege/message/mv",{type:"json",onload:function(d6d){if(d6d.code===200){cw6q.mvFeeMessage=d6d.data}}})};b6f.cea2x=function(){var cB6v={jst:"m-wgt-redeem-tip",clazz:"n-redeem"};cB6v.data={title:"成功送出",sub:"请你的好友去查看私信",ok:"知道了",type:"success"};cB6v.onaction=function(){location.dispatch2("/member")};l6f.kC4G(cB6v)};window.doMsgToServiceAction=b6f.cPl7e=function(){var bgf7Y=null;return function(U6O){if(U6O=="kf"){bgf7Y&&bgf7Y.V6P();bgf7Y=n6h.tP6J.B6v({title:"发新私信",draggable:true,clazz:"m-layer m-layer-w2",receiver:{userId:l6f.bHP9G()?117863002:253335632,nickname:l6f.bHP9G()?"测试库客服":"云音乐客服"}});bgf7Y.I6C()}}}();G6A.fO7H.B6v({element:window,event:["playchange","iframeclick","playstatechange","login"]});a5f.cX7Q("template-box");new N6H.bIK9B})()